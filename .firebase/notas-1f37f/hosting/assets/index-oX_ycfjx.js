(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function oE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var df={exports:{}},go={};var _0;function cE(){if(_0)return go;_0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var g in o)g!=="key"&&(u[g]=o[g])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:f,ref:o!==void 0?o:null,props:u}}return go.Fragment=e,go.jsx=i,go.jsxs=i,go}var b0;function uE(){return b0||(b0=1,df.exports=cE()),df.exports}var m=uE(),ff={exports:{}},xe={};var x0;function hE(){if(x0)return xe;x0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),w=Symbol.iterator;function H(M){return M===null||typeof M!="object"?null:(M=w&&M[w]||M["@@iterator"],typeof M=="function"?M:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,$={};function ne(M,X,re){this.props=M,this.context=X,this.refs=$,this.updater=re||Y}ne.prototype.isReactComponent={},ne.prototype.setState=function(M,X){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,X,"setState")},ne.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ae(){}ae.prototype=ne.prototype;function ie(M,X,re){this.props=M,this.context=X,this.refs=$,this.updater=re||Y}var le=ie.prototype=new ae;le.constructor=ie,W(le,ne.prototype),le.isPureReactComponent=!0;var fe=Array.isArray;function ve(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function N(M,X,re){var oe=re.ref;return{$$typeof:r,type:M,key:X,ref:oe!==void 0?oe:null,props:re}}function O(M,X){return N(M.type,X,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function k(M){var X={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(re){return X[re]})}var C=/\/+/g;function nt(M,X){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):X.toString(36)}function It(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ve,ve):(M.status="pending",M.then(function(X){M.status==="pending"&&(M.status="fulfilled",M.value=X)},function(X){M.status==="pending"&&(M.status="rejected",M.reason=X)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function G(M,X,re,oe,be){var we=typeof M;(we==="undefined"||we==="boolean")&&(M=null);var Ve=!1;if(M===null)Ve=!0;else switch(we){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(M.$$typeof){case r:case e:Ve=!0;break;case E:return Ve=M._init,G(Ve(M._payload),X,re,oe,be)}}if(Ve)return be=be(M),Ve=oe===""?"."+nt(M,0):oe,fe(be)?(re="",Ve!=null&&(re=Ve.replace(C,"$&/")+"/"),G(be,X,re,"",function(er){return er})):be!=null&&(D(be)&&(be=O(be,re+(be.key==null||M&&M.key===be.key?"":(""+be.key).replace(C,"$&/")+"/")+Ve)),X.push(be)),1;Ve=0;var jt=oe===""?".":oe+":";if(fe(M))for(var it=0;it<M.length;it++)oe=M[it],we=jt+nt(oe,it),Ve+=G(oe,X,re,we,be);else if(it=H(M),typeof it=="function")for(M=it.call(M),it=0;!(oe=M.next()).done;)oe=oe.value,we=jt+nt(oe,it++),Ve+=G(oe,X,re,we,be);else if(we==="object"){if(typeof M.then=="function")return G(It(M),X,re,oe,be);throw X=String(M),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function se(M,X,re){if(M==null)return M;var oe=[],be=0;return G(M,oe,"","",function(we){return X.call(re,we,be++)}),oe}function pe(M){if(M._status===-1){var X=M._result;X=X(),X.then(function(re){(M._status===0||M._status===-1)&&(M._status=1,M._result=re)},function(re){(M._status===0||M._status===-1)&&(M._status=2,M._result=re)}),M._status===-1&&(M._status=0,M._result=X)}if(M._status===1)return M._result.default;throw M._result}var Ue=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Fe={map:se,forEach:function(M,X,re){se(M,function(){X.apply(this,arguments)},re)},count:function(M){var X=0;return se(M,function(){X++}),X},toArray:function(M){return se(M,function(X){return X})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return xe.Activity=S,xe.Children=Fe,xe.Component=ne,xe.Fragment=i,xe.Profiler=o,xe.PureComponent=ie,xe.StrictMode=a,xe.Suspense=v,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,xe.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},xe.cache=function(M){return function(){return M.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(M,X,re){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var oe=W({},M.props),be=M.key;if(X!=null)for(we in X.key!==void 0&&(be=""+X.key),X)!A.call(X,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&X.ref===void 0||(oe[we]=X[we]);var we=arguments.length-2;if(we===1)oe.children=re;else if(1<we){for(var Ve=Array(we),jt=0;jt<we;jt++)Ve[jt]=arguments[jt+2];oe.children=Ve}return N(M.type,be,oe)},xe.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},xe.createElement=function(M,X,re){var oe,be={},we=null;if(X!=null)for(oe in X.key!==void 0&&(we=""+X.key),X)A.call(X,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(be[oe]=X[oe]);var Ve=arguments.length-2;if(Ve===1)be.children=re;else if(1<Ve){for(var jt=Array(Ve),it=0;it<Ve;it++)jt[it]=arguments[it+2];be.children=jt}if(M&&M.defaultProps)for(oe in Ve=M.defaultProps,Ve)be[oe]===void 0&&(be[oe]=Ve[oe]);return N(M,we,be)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(M){return{$$typeof:g,render:M}},xe.isValidElement=D,xe.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:pe}},xe.memo=function(M,X){return{$$typeof:_,type:M,compare:X===void 0?null:X}},xe.startTransition=function(M){var X=I.T,re={};I.T=re;try{var oe=M(),be=I.S;be!==null&&be(re,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(ve,Ue)}catch(we){Ue(we)}finally{X!==null&&re.types!==null&&(X.types=re.types),I.T=X}},xe.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},xe.use=function(M){return I.H.use(M)},xe.useActionState=function(M,X,re){return I.H.useActionState(M,X,re)},xe.useCallback=function(M,X){return I.H.useCallback(M,X)},xe.useContext=function(M){return I.H.useContext(M)},xe.useDebugValue=function(){},xe.useDeferredValue=function(M,X){return I.H.useDeferredValue(M,X)},xe.useEffect=function(M,X){return I.H.useEffect(M,X)},xe.useEffectEvent=function(M){return I.H.useEffectEvent(M)},xe.useId=function(){return I.H.useId()},xe.useImperativeHandle=function(M,X,re){return I.H.useImperativeHandle(M,X,re)},xe.useInsertionEffect=function(M,X){return I.H.useInsertionEffect(M,X)},xe.useLayoutEffect=function(M,X){return I.H.useLayoutEffect(M,X)},xe.useMemo=function(M,X){return I.H.useMemo(M,X)},xe.useOptimistic=function(M,X){return I.H.useOptimistic(M,X)},xe.useReducer=function(M,X,re){return I.H.useReducer(M,X,re)},xe.useRef=function(M){return I.H.useRef(M)},xe.useState=function(M){return I.H.useState(M)},xe.useSyncExternalStore=function(M,X,re){return I.H.useSyncExternalStore(M,X,re)},xe.useTransition=function(){return I.H.useTransition()},xe.version="19.2.0",xe}var E0;function lm(){return E0||(E0=1,ff.exports=hE()),ff.exports}var J=lm();const Mr=oE(J);var mf={exports:{}},yo={},pf={exports:{}},gf={};var T0;function dE(){return T0||(T0=1,(function(r){function e(G,se){var pe=G.length;G.push(se);e:for(;0<pe;){var Ue=pe-1>>>1,Fe=G[Ue];if(0<o(Fe,se))G[Ue]=se,G[pe]=Fe,pe=Ue;else break e}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var se=G[0],pe=G.pop();if(pe!==se){G[0]=pe;e:for(var Ue=0,Fe=G.length,M=Fe>>>1;Ue<M;){var X=2*(Ue+1)-1,re=G[X],oe=X+1,be=G[oe];if(0>o(re,pe))oe<Fe&&0>o(be,re)?(G[Ue]=be,G[oe]=pe,Ue=oe):(G[Ue]=re,G[X]=pe,Ue=X);else if(oe<Fe&&0>o(be,pe))G[Ue]=be,G[oe]=pe,Ue=oe;else break e}}return se}function o(G,se){var pe=G.sortIndex-se.sortIndex;return pe!==0?pe:G.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,g=f.now();r.unstable_now=function(){return f.now()-g}}var v=[],_=[],E=1,S=null,w=3,H=!1,Y=!1,W=!1,$=!1,ne=typeof setTimeout=="function"?setTimeout:null,ae=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function le(G){for(var se=i(_);se!==null;){if(se.callback===null)a(_);else if(se.startTime<=G)a(_),se.sortIndex=se.expirationTime,e(v,se);else break;se=i(_)}}function fe(G){if(W=!1,le(G),!Y)if(i(v)!==null)Y=!0,ve||(ve=!0,k());else{var se=i(_);se!==null&&It(fe,se.startTime-G)}}var ve=!1,I=-1,A=5,N=-1;function O(){return $?!0:!(r.unstable_now()-N<A)}function D(){if($=!1,ve){var G=r.unstable_now();N=G;var se=!0;try{e:{Y=!1,W&&(W=!1,ae(I),I=-1),H=!0;var pe=w;try{t:{for(le(G),S=i(v);S!==null&&!(S.expirationTime>G&&O());){var Ue=S.callback;if(typeof Ue=="function"){S.callback=null,w=S.priorityLevel;var Fe=Ue(S.expirationTime<=G);if(G=r.unstable_now(),typeof Fe=="function"){S.callback=Fe,le(G),se=!0;break t}S===i(v)&&a(v),le(G)}else a(v);S=i(v)}if(S!==null)se=!0;else{var M=i(_);M!==null&&It(fe,M.startTime-G),se=!1}}break e}finally{S=null,w=pe,H=!1}se=void 0}}finally{se?k():ve=!1}}}var k;if(typeof ie=="function")k=function(){ie(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,nt=C.port2;C.port1.onmessage=D,k=function(){nt.postMessage(null)}}else k=function(){ne(D,0)};function It(G,se){I=ne(function(){G(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(G){switch(w){case 1:case 2:case 3:var se=3;break;default:se=w}var pe=w;w=se;try{return G()}finally{w=pe}},r.unstable_requestPaint=function(){$=!0},r.unstable_runWithPriority=function(G,se){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var pe=w;w=G;try{return se()}finally{w=pe}},r.unstable_scheduleCallback=function(G,se,pe){var Ue=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ue+pe:Ue):pe=Ue,G){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=pe+Fe,G={id:E++,callback:se,priorityLevel:G,startTime:pe,expirationTime:Fe,sortIndex:-1},pe>Ue?(G.sortIndex=pe,e(_,G),i(v)===null&&G===i(_)&&(W?(ae(I),I=-1):W=!0,It(fe,pe-Ue))):(G.sortIndex=Fe,e(v,G),Y||H||(Y=!0,ve||(ve=!0,k()))),G},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(G){var se=w;return function(){var pe=w;w=se;try{return G.apply(this,arguments)}finally{w=pe}}}})(gf)),gf}var S0;function fE(){return S0||(S0=1,pf.exports=dE()),pf.exports}var yf={exports:{}},$t={};var A0;function mE(){if(A0)return $t;A0=1;var r=lm();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(v,_,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:v,containerInfo:_,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,$t.createPortal=function(v,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return u(v,_,null,E)},$t.flushSync=function(v){var _=f.T,E=a.p;try{if(f.T=null,a.p=2,v)return v()}finally{f.T=_,a.p=E,a.d.f()}},$t.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},$t.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},$t.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var E=_.as,S=g(E,_.crossOrigin),w=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:H}):E==="script"&&a.d.X(v,{crossOrigin:S,integrity:w,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},$t.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=g(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},$t.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,S=g(E,_.crossOrigin);a.d.L(v,E,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},$t.preloadModule=function(v,_){if(typeof v=="string")if(_){var E=g(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},$t.requestFormReset=function(v){a.d.r(v)},$t.unstable_batchedUpdates=function(v,_){return v(_)},$t.useFormState=function(v,_,E){return f.H.useFormState(v,_,E)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.2.0",$t}var w0;function pE(){if(w0)return yf.exports;w0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),yf.exports=mE(),yf.exports}var N0;function gE(){if(N0)return yo;N0=1;var r=fE(),e=lm(),i=pE();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(u(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,l=n;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return v(h),t;if(d===l)return v(h),n;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=d;else{for(var y=!1,x=h.child;x;){if(x===s){y=!0,s=h,l=d;break}if(x===l){y=!0,l=h,s=d;break}x=x.sibling}if(!y){for(x=d.child;x;){if(x===s){y=!0,s=d,l=h;break}if(x===l){y=!0,l=d,s=h;break}x=x.sibling}if(!y)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,w=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),ae=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function nt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case ne:return"Profiler";case $:return"StrictMode";case fe:return"Suspense";case ve:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Y:return"Portal";case ie:return t.displayName||"Context";case ae:return(t._context.displayName||"Context")+".Consumer";case le:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:nt(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return nt(t(n))}catch{}}return null}var It=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Ue=[],Fe=-1;function M(t){return{current:t}}function X(t){0>Fe||(t.current=Ue[Fe],Ue[Fe]=null,Fe--)}function re(t,n){Fe++,Ue[Fe]=t.current,t.current=n}var oe=M(null),be=M(null),we=M(null),Ve=M(null);function jt(t,n){switch(re(we,n),re(be,t),re(oe,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?By(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=By(n),t=Hy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(oe),re(oe,t)}function it(){X(oe),X(be),X(we)}function er(t){t.memoizedState!==null&&re(Ve,t);var n=oe.current,s=Hy(n,t.type);n!==s&&(re(be,t),re(oe,s))}function Fr(t){be.current===t&&(X(oe),X(be)),Ve.current===t&&(X(Ve),ho._currentValue=pe)}var Gr,Qr;function Wn(t){if(Gr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Gr=n&&n[1]||"",Qr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gr+t+Qr}var hl=!1;function tr(t,n){if(!t||hl)return"";hl=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(B){var P=B}Reflect.construct(t,[],K)}else{try{K.call()}catch(B){P=B}t.call(K.prototype)}}else{try{throw Error()}catch(B){P=B}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(B){if(B&&P&&typeof B.stack=="string")return[B.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),y=d[0],x=d[1];if(y&&x){var R=y.split(`
`),z=x.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===z.length)for(l=R.length-1,h=z.length-1;1<=l&&0<=h&&R[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==z[h]){var F=`
`+R[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=h);break}}}finally{hl=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Wn(s):""}function dl(t,n){switch(t.tag){case 26:case 27:case 5:return Wn(t.type);case 16:return Wn("Lazy");case 13:return t.child!==n&&n!==null?Wn("Suspense Fallback"):Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 15:return tr(t.type,!1);case 11:return tr(t.type.render,!1);case 1:return tr(t.type,!0);case 31:return Wn("Activity");default:return""}}function fl(t){try{var n="",s=null;do n+=dl(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var vt=Object.prototype.hasOwnProperty,Dt=r.unstable_scheduleCallback,is=r.unstable_cancelCallback,fh=r.unstable_shouldYield,Ho=r.unstable_requestPaint,nn=r.unstable_now,nr=r.unstable_getCurrentPriorityLevel,ml=r.unstable_ImmediatePriority,pl=r.unstable_UserBlockingPriority,ss=r.unstable_NormalPriority,mh=r.unstable_LowPriority,Fo=r.unstable_IdlePriority,Go=r.log,Qo=r.unstable_setDisableYieldValue,zn=null,Bt=null;function An(t){if(typeof Go=="function"&&Qo(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(zn,t)}catch{}}var dt=Math.clz32?Math.clz32:Ko,Yo=Math.log,Yr=Math.LN2;function Ko(t){return t>>>=0,t===0?32:31-(Yo(t)/Yr|0)|0}var ei=256,ir=262144,_t=4194304;function ti(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ni(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var x=l&134217727;return x!==0?(l=x&~d,l!==0?h=ti(l):(y&=x,y!==0?h=ti(y):s||(s=x&~t,s!==0&&(h=ti(s))))):(x=l&~d,x!==0?h=ti(x):y!==0?h=ti(y):s||(s=l&~t,s!==0&&(h=ti(s)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,s=n&-n,d>=s||d===32&&(s&4194048)!==0)?n:h}function Pn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function ph(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xo(){var t=_t;return _t<<=1,(_t&62914560)===0&&(_t=4194304),t}function ii(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function sr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function gh(t,n,s,l,h,d){var y=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var x=t.entanglements,R=t.expirationTimes,z=t.hiddenUpdates;for(s=y&~s;0<s;){var F=31-dt(s),K=1<<F;x[F]=0,R[F]=-1;var P=z[F];if(P!==null)for(z[F]=null,F=0;F<P.length;F++){var B=P[F];B!==null&&(B.lane&=-536870913)}s&=~K}l!==0&&rr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(y&~n))}function rr(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-dt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function gl(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-dt(s),h=1<<l;h&n|t[l]&n&&(t[l]|=n),s&=~h}}function yl(t,n){var s=n&-n;return s=(s&42)!==0?1:ar(s),(s&(t.suspendedLanes|n))!==0?0:s}function ar(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ji(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function $o(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:d0(t.type))}function qn(t,n){var s=se.p;try{return se.p=t,n()}finally{se.p=s}}var Bn=Math.random().toString(36).slice(2),bt="__reactFiber$"+Bn,Ut="__reactProps$"+Bn,si="__reactContainer$"+Bn,Kr="__reactEvents$"+Bn,yh="__reactListeners$"+Bn,Zo="__reactHandles$"+Bn,Jo="__reactResources$"+Bn,ri="__reactMarker$"+Bn;function Xr(t){delete t[bt],delete t[Ut],delete t[Kr],delete t[yh],delete t[Zo]}function ai(t){var n=t[bt];if(n)return n;for(var s=t.parentNode;s;){if(n=s[si]||s[bt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=$y(t);t!==null;){if(s=t[bt])return s;t=$y(t)}return n}t=s,s=t.parentNode}return null}function wn(t){if(t=t[bt]||t[si]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function pn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function li(t){var n=t[Jo];return n||(n=t[Jo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function xt(t){t[ri]=!0}var vl=new Set,_l={};function oi(t,n){ci(t,n),ci(t+"Capture",n)}function ci(t,n){for(_l[t]=n,t=0;t<n.length;t++)vl.add(n[t])}var bl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xl={},El={};function Wo(t){return vt.call(El,t)?!0:vt.call(xl,t)?!1:bl.test(t)?El[t]=!0:(xl[t]=!0,!1)}function $r(t,n,s){if(Wo(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function gn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Et(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Tl(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){s=""+y,d.call(this,y)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(y){s=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ge(t){if(!t._valueTracker){var n=rs(t)?"checked":"value";t._valueTracker=Tl(t,n,""+t[n])}}function lr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=rs(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function ui(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var or=/[\n"\\]/g;function ln(t){return t.replace(or,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Zr(t,n,s,l,h,d,y,x){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+zt(n)):t.value!==""+zt(n)&&(t.value=""+zt(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Sl(t,y,zt(n)):s!=null?Sl(t,y,zt(s)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+zt(x):t.removeAttribute("name")}function ec(t,n,s,l,h,d,y,x){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){Ge(t);return}s=s!=null?""+zt(s):"",n=n!=null?""+zt(n):s,x||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=x?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),Ge(t)}function Sl(t,n,s){n==="number"&&ui(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function as(t,n,s,l){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+zt(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function tc(t,n,s){if(n!=null&&(n=""+zt(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+zt(s):""}function ls(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(It(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=zt(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),Ge(t)}function on(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var nc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Al(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||nc.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function wl(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&Al(t,h,l)}else for(var d in n)n.hasOwnProperty(d)&&Al(t,d,n[d])}function Jr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ic=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),os=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wr(t){return os.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Hn(){}var Nl=null;function Nn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cs=null,hi=null;function cr(t){var n=wn(t);if(n&&(t=n.stateNode)){var s=t[Ut]||null;e:switch(t=n.stateNode,n.type){case"input":if(Zr(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+ln(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var h=l[Ut]||null;if(!h)throw Error(a(90));Zr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&lr(l)}break e;case"textarea":tc(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&as(t,!!s.multiple,n,!1)}}}var ea=!1;function us(t,n,s){if(ea)return t(n,s);ea=!0;try{var l=t(n);return l}finally{if(ea=!1,(cs!==null||hi!==null)&&($c(),cs&&(n=cs,t=hi,hi=cs=null,cr(n),t)))for(n=0;n<t.length;n++)cr(t[n])}}function Fn(t,n){var s=t.stateNode;if(s===null)return null;var l=s[Ut]||null;if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ur=!1;if(Cn)try{var Ke={};Object.defineProperty(Ke,"passive",{get:function(){ur=!0}}),window.addEventListener("test",Ke,Ke),window.removeEventListener("test",Ke,Ke)}catch{ur=!1}var di=null,Cl=null,hr=null;function Rl(){if(hr)return hr;var t,n=Cl,s=n.length,l,h="value"in di?di.value:di.textContent,d=h.length;for(t=0;t<s&&n[t]===h[t];t++);var y=s-t;for(l=1;l<=y&&n[s-l]===h[d-l];l++);return hr=h.slice(t,1<l?1-l:void 0)}function dr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Di(){return!0}function Gn(){return!1}function Ht(t){function n(s,l,h,d,y){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(s=t[x],this[x]=s?s(d):d[x]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Di:Gn,this.isPropagationStopped=Gn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),n}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fi=Ht(Mi),hs=S({},Mi,{view:0,detail:0}),Il=Ht(hs),ds,ta,mi,na=S({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==mi&&(mi&&t.type==="mousemove"?(ds=t.screenX-mi.screenX,ta=t.screenY-mi.screenY):ta=ds=0,mi=t),ds)},movementY:function(t){return"movementY"in t?t.movementY:ta}}),jl=Ht(na),fr=S({},na,{dataTransfer:0}),sc=Ht(fr),rc=S({},hs,{relatedTarget:0}),mr=Ht(rc),Dl=S({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),ac=Ht(Dl),ia=S({},Mi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lc=Ht(ia),oc=S({},Mi,{data:0}),pi=Ht(oc),cc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dc(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=hc[t])?!!n[t]:!1}function fs(){return dc}var sn=S({},hs,{key:function(t){if(t.key){var n=cc[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=dr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?uc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fs,charCode:function(t){return t.type==="keypress"?dr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?dr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fc=Ht(sn),mc=S({},na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=Ht(mc),c=S({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fs}),p=Ht(c),b=S({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Ht(b),L=S({},na,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Ht(L),te=S({},Mi,{newState:0,oldState:0}),Se=Ht(te),ft=[9,13,27,32],Be=Cn&&"CompositionEvent"in window,st=null;Cn&&"documentMode"in document&&(st=document.documentMode);var Rn=Cn&&"TextEvent"in window&&!st,gi=Cn&&(!Be||st&&8<st&&11>=st),Qn=" ",Yn=!1;function pr(t,n){switch(t){case"keyup":return ft.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ra=!1;function Db(t,n){switch(t){case"compositionend":return sa(n);case"keypress":return n.which!==32?null:(Yn=!0,Qn);case"textInput":return t=n.data,t===Qn&&Yn?null:t;default:return null}}function Mb(t,n){if(ra)return t==="compositionend"||!Be&&pr(t,n)?(t=Rl(),hr=Cl=di=null,ra=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gi&&n.locale!=="ko"?null:n.data;default:return null}}var Ob={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ob[t.type]:n==="textarea"}function ep(t,n,s,l){cs?hi?hi.push(l):hi=[l]:cs=l,n=iu(n,"onChange"),0<n.length&&(s=new fi("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var Ml=null,Ol=null;function Vb(t){ky(t,0)}function pc(t){var n=pn(t);if(lr(n))return t}function tp(t,n){if(t==="change")return n}var np=!1;if(Cn){var vh;if(Cn){var _h="oninput"in document;if(!_h){var ip=document.createElement("div");ip.setAttribute("oninput","return;"),_h=typeof ip.oninput=="function"}vh=_h}else vh=!1;np=vh&&(!document.documentMode||9<document.documentMode)}function sp(){Ml&&(Ml.detachEvent("onpropertychange",rp),Ol=Ml=null)}function rp(t){if(t.propertyName==="value"&&pc(Ol)){var n=[];ep(n,Ol,t,Nn(t)),us(Vb,n)}}function kb(t,n,s){t==="focusin"?(sp(),Ml=n,Ol=s,Ml.attachEvent("onpropertychange",rp)):t==="focusout"&&sp()}function Lb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pc(Ol)}function Ub(t,n){if(t==="click")return pc(n)}function zb(t,n){if(t==="input"||t==="change")return pc(n)}function Pb(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var yn=typeof Object.is=="function"?Object.is:Pb;function Vl(t,n){if(yn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!vt.call(n,h)||!yn(t[h],n[h]))return!1}return!0}function ap(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lp(t,n){var s=ap(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=ap(s)}}function op(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?op(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function cp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ui(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=ui(t.document)}return n}function bh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var qb=Cn&&"documentMode"in document&&11>=document.documentMode,aa=null,xh=null,kl=null,Eh=!1;function up(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Eh||aa==null||aa!==ui(l)||(l=aa,"selectionStart"in l&&bh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),kl&&Vl(kl,l)||(kl=l,l=iu(xh,"onSelect"),0<l.length&&(n=new fi("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=aa)))}function gr(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var la={animationend:gr("Animation","AnimationEnd"),animationiteration:gr("Animation","AnimationIteration"),animationstart:gr("Animation","AnimationStart"),transitionrun:gr("Transition","TransitionRun"),transitionstart:gr("Transition","TransitionStart"),transitioncancel:gr("Transition","TransitionCancel"),transitionend:gr("Transition","TransitionEnd")},Th={},hp={};Cn&&(hp=document.createElement("div").style,"AnimationEvent"in window||(delete la.animationend.animation,delete la.animationiteration.animation,delete la.animationstart.animation),"TransitionEvent"in window||delete la.transitionend.transition);function yr(t){if(Th[t])return Th[t];if(!la[t])return t;var n=la[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in hp)return Th[t]=n[s];return t}var dp=yr("animationend"),fp=yr("animationiteration"),mp=yr("animationstart"),Bb=yr("transitionrun"),Hb=yr("transitionstart"),Fb=yr("transitioncancel"),pp=yr("transitionend"),gp=new Map,Sh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sh.push("scrollEnd");function Kn(t,n){gp.set(t,n),oi(n,[t])}var gc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},In=[],oa=0,Ah=0;function yc(){for(var t=oa,n=Ah=oa=0;n<t;){var s=In[n];In[n++]=null;var l=In[n];In[n++]=null;var h=In[n];In[n++]=null;var d=In[n];if(In[n++]=null,l!==null&&h!==null){var y=l.pending;y===null?h.next=h:(h.next=y.next,y.next=h),l.pending=h}d!==0&&yp(s,h,d)}}function vc(t,n,s,l){In[oa++]=t,In[oa++]=n,In[oa++]=s,In[oa++]=l,Ah|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function wh(t,n,s,l){return vc(t,n,s,l),_c(t)}function vr(t,n){return vc(t,null,null,n),_c(t)}function yp(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&n!==null&&(h=31-dt(s),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=s|536870912),d):null}function _c(t){if(50<so)throw so=0,Vd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ca={};function Gb(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,n,s,l){return new Gb(t,n,s,l)}function Nh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vi(t,n){var s=t.alternate;return s===null?(s=vn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function vp(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function bc(t,n,s,l,h,d){var y=0;if(l=t,typeof t=="function")Nh(t)&&(y=1);else if(typeof t=="string")y=$x(t,s,oe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=vn(31,s,n,h),t.elementType=N,t.lanes=d,t;case W:return _r(s.children,h,d,n);case $:y=8,h|=24;break;case ne:return t=vn(12,s,n,h|2),t.elementType=ne,t.lanes=d,t;case fe:return t=vn(13,s,n,h),t.elementType=fe,t.lanes=d,t;case ve:return t=vn(19,s,n,h),t.elementType=ve,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:y=10;break e;case ae:y=9;break e;case le:y=11;break e;case I:y=14;break e;case A:y=16,l=null;break e}y=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=vn(y,s,n,h),n.elementType=t,n.type=l,n.lanes=d,n}function _r(t,n,s,l){return t=vn(7,t,l,n),t.lanes=s,t}function Ch(t,n,s){return t=vn(6,t,null,n),t.lanes=s,t}function _p(t){var n=vn(18,null,null,0);return n.stateNode=t,n}function Rh(t,n,s){return n=vn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var bp=new WeakMap;function jn(t,n){if(typeof t=="object"&&t!==null){var s=bp.get(t);return s!==void 0?s:(n={value:t,source:n,stack:fl(n)},bp.set(t,n),n)}return{value:t,source:n,stack:fl(n)}}var ua=[],ha=0,xc=null,Ll=0,Dn=[],Mn=0,ms=null,yi=1,vi="";function ki(t,n){ua[ha++]=Ll,ua[ha++]=xc,xc=t,Ll=n}function xp(t,n,s){Dn[Mn++]=yi,Dn[Mn++]=vi,Dn[Mn++]=ms,ms=t;var l=yi;t=vi;var h=32-dt(l)-1;l&=~(1<<h),s+=1;var d=32-dt(n)+h;if(30<d){var y=h-h%5;d=(l&(1<<y)-1).toString(32),l>>=y,h-=y,yi=1<<32-dt(n)+h|s<<h|l,vi=d+t}else yi=1<<d|s<<h|l,vi=t}function Ih(t){t.return!==null&&(ki(t,1),xp(t,1,0))}function jh(t){for(;t===xc;)xc=ua[--ha],ua[ha]=null,Ll=ua[--ha],ua[ha]=null;for(;t===ms;)ms=Dn[--Mn],Dn[Mn]=null,vi=Dn[--Mn],Dn[Mn]=null,yi=Dn[--Mn],Dn[Mn]=null}function Ep(t,n){Dn[Mn++]=yi,Dn[Mn++]=vi,Dn[Mn++]=ms,yi=n.id,vi=n.overflow,ms=t}var Ft=null,et=null,Me=!1,ps=null,On=!1,Dh=Error(a(519));function gs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ul(jn(n,t)),Dh}function Tp(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[bt]=t,n[Ut]=l,s){case"dialog":Re("cancel",n),Re("close",n);break;case"iframe":case"object":case"embed":Re("load",n);break;case"video":case"audio":for(s=0;s<ao.length;s++)Re(ao[s],n);break;case"source":Re("error",n);break;case"img":case"image":case"link":Re("error",n),Re("load",n);break;case"details":Re("toggle",n);break;case"input":Re("invalid",n),ec(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Re("invalid",n);break;case"textarea":Re("invalid",n),ls(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Py(n.textContent,s)?(l.popover!=null&&(Re("beforetoggle",n),Re("toggle",n)),l.onScroll!=null&&Re("scroll",n),l.onScrollEnd!=null&&Re("scrollend",n),l.onClick!=null&&(n.onclick=Hn),n=!0):n=!1,n||gs(t,!0)}function Sp(t){for(Ft=t.return;Ft;)switch(Ft.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:Ft=Ft.return}}function da(t){if(t!==Ft)return!1;if(!Me)return Sp(t),Me=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||$d(t.type,t.memoizedProps)),s=!s),s&&et&&gs(t),Sp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));et=Xy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));et=Xy(t)}else n===27?(n=et,Is(t.type)?(t=tf,tf=null,et=t):et=n):et=Ft?kn(t.stateNode.nextSibling):null;return!0}function br(){et=Ft=null,Me=!1}function Mh(){var t=ps;return t!==null&&(dn===null?dn=t:dn.push.apply(dn,t),ps=null),t}function Ul(t){ps===null?ps=[t]:ps.push(t)}var Oh=M(null),xr=null,Li=null;function ys(t,n,s){re(Oh,n._currentValue),n._currentValue=s}function Ui(t){t._currentValue=Oh.current,X(Oh)}function Vh(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function kh(t,n,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var y=h.child;d=d.firstContext;e:for(;d!==null;){var x=d;d=h;for(var R=0;R<n.length;R++)if(x.context===n[R]){d.lanes|=s,x=d.alternate,x!==null&&(x.lanes|=s),Vh(d.return,s,t),l||(y=null);break e}d=x.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(a(341));y.lanes|=s,d=y.alternate,d!==null&&(d.lanes|=s),Vh(y,s,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function fa(t,n,s,l){t=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var x=h.type;yn(h.pendingProps.value,y.value)||(t!==null?t.push(x):t=[x])}}else if(h===Ve.current){if(y=h.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ho):t=[ho])}h=h.return}t!==null&&kh(n,t,s,l),n.flags|=262144}function Ec(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Er(t){xr=t,Li=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return Ap(xr,t)}function Tc(t,n){return xr===null&&Er(t),Ap(t,n)}function Ap(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Li===null){if(t===null)throw Error(a(308));Li=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Li=Li.next=n;return s}var Qb=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},Yb=r.unstable_scheduleCallback,Kb=r.unstable_NormalPriority,Tt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lh(){return{controller:new Qb,data:new Map,refCount:0}}function zl(t){t.refCount--,t.refCount===0&&Yb(Kb,function(){t.controller.abort()})}var Pl=null,Uh=0,ma=0,pa=null;function Xb(t,n){if(Pl===null){var s=Pl=[];Uh=0,ma=qd(),pa={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Uh++,n.then(wp,wp),n}function wp(){if(--Uh===0&&Pl!==null){pa!==null&&(pa.status="fulfilled");var t=Pl;Pl=null,ma=0,pa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function $b(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Np=G.S;G.S=function(t,n){uy=nn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Xb(t,n),Np!==null&&Np(t,n)};var Tr=M(null);function zh(){var t=Tr.current;return t!==null?t:Je.pooledCache}function Sc(t,n){n===null?re(Tr,Tr.current):re(Tr,n.pool)}function Cp(){var t=zh();return t===null?null:{parent:Tt._currentValue,pool:t}}var ga=Error(a(460)),Ph=Error(a(474)),Ac=Error(a(542)),wc={then:function(){}};function Rp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ip(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Hn,Hn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Dp(t),t;default:if(typeof n.status=="string")n.then(Hn,Hn);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Dp(t),t}throw Ar=n,ga}}function Sr(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ar=s,ga):s}}var Ar=null;function jp(){if(Ar===null)throw Error(a(459));var t=Ar;return Ar=null,t}function Dp(t){if(t===ga||t===Ac)throw Error(a(483))}var ya=null,ql=0;function Nc(t){var n=ql;return ql+=1,ya===null&&(ya=[]),Ip(ya,t,n)}function Bl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Cc(t,n){throw n.$$typeof===w?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Mp(t){function n(V,j){if(t){var U=V.deletions;U===null?(V.deletions=[j],V.flags|=16):U.push(j)}}function s(V,j){if(!t)return null;for(;j!==null;)n(V,j),j=j.sibling;return null}function l(V){for(var j=new Map;V!==null;)V.key!==null?j.set(V.key,V):j.set(V.index,V),V=V.sibling;return j}function h(V,j){return V=Vi(V,j),V.index=0,V.sibling=null,V}function d(V,j,U){return V.index=U,t?(U=V.alternate,U!==null?(U=U.index,U<j?(V.flags|=67108866,j):U):(V.flags|=67108866,j)):(V.flags|=1048576,j)}function y(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function x(V,j,U,Q){return j===null||j.tag!==6?(j=Ch(U,V.mode,Q),j.return=V,j):(j=h(j,U),j.return=V,j)}function R(V,j,U,Q){var me=U.type;return me===W?F(V,j,U.props.children,Q,U.key):j!==null&&(j.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===A&&Sr(me)===j.type)?(j=h(j,U.props),Bl(j,U),j.return=V,j):(j=bc(U.type,U.key,U.props,null,V.mode,Q),Bl(j,U),j.return=V,j)}function z(V,j,U,Q){return j===null||j.tag!==4||j.stateNode.containerInfo!==U.containerInfo||j.stateNode.implementation!==U.implementation?(j=Rh(U,V.mode,Q),j.return=V,j):(j=h(j,U.children||[]),j.return=V,j)}function F(V,j,U,Q,me){return j===null||j.tag!==7?(j=_r(U,V.mode,Q,me),j.return=V,j):(j=h(j,U),j.return=V,j)}function K(V,j,U){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Ch(""+j,V.mode,U),j.return=V,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case H:return U=bc(j.type,j.key,j.props,null,V.mode,U),Bl(U,j),U.return=V,U;case Y:return j=Rh(j,V.mode,U),j.return=V,j;case A:return j=Sr(j),K(V,j,U)}if(It(j)||k(j))return j=_r(j,V.mode,U,null),j.return=V,j;if(typeof j.then=="function")return K(V,Nc(j),U);if(j.$$typeof===ie)return K(V,Tc(V,j),U);Cc(V,j)}return null}function P(V,j,U,Q){var me=j!==null?j.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return me!==null?null:x(V,j,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case H:return U.key===me?R(V,j,U,Q):null;case Y:return U.key===me?z(V,j,U,Q):null;case A:return U=Sr(U),P(V,j,U,Q)}if(It(U)||k(U))return me!==null?null:F(V,j,U,Q,null);if(typeof U.then=="function")return P(V,j,Nc(U),Q);if(U.$$typeof===ie)return P(V,j,Tc(V,U),Q);Cc(V,U)}return null}function B(V,j,U,Q,me){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return V=V.get(U)||null,x(j,V,""+Q,me);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:return V=V.get(Q.key===null?U:Q.key)||null,R(j,V,Q,me);case Y:return V=V.get(Q.key===null?U:Q.key)||null,z(j,V,Q,me);case A:return Q=Sr(Q),B(V,j,U,Q,me)}if(It(Q)||k(Q))return V=V.get(U)||null,F(j,V,Q,me,null);if(typeof Q.then=="function")return B(V,j,U,Nc(Q),me);if(Q.$$typeof===ie)return B(V,j,U,Tc(j,Q),me);Cc(j,Q)}return null}function he(V,j,U,Q){for(var me=null,Pe=null,de=j,Ne=j=0,je=null;de!==null&&Ne<U.length;Ne++){de.index>Ne?(je=de,de=null):je=de.sibling;var qe=P(V,de,U[Ne],Q);if(qe===null){de===null&&(de=je);break}t&&de&&qe.alternate===null&&n(V,de),j=d(qe,j,Ne),Pe===null?me=qe:Pe.sibling=qe,Pe=qe,de=je}if(Ne===U.length)return s(V,de),Me&&ki(V,Ne),me;if(de===null){for(;Ne<U.length;Ne++)de=K(V,U[Ne],Q),de!==null&&(j=d(de,j,Ne),Pe===null?me=de:Pe.sibling=de,Pe=de);return Me&&ki(V,Ne),me}for(de=l(de);Ne<U.length;Ne++)je=B(de,V,Ne,U[Ne],Q),je!==null&&(t&&je.alternate!==null&&de.delete(je.key===null?Ne:je.key),j=d(je,j,Ne),Pe===null?me=je:Pe.sibling=je,Pe=je);return t&&de.forEach(function(Vs){return n(V,Vs)}),Me&&ki(V,Ne),me}function ge(V,j,U,Q){if(U==null)throw Error(a(151));for(var me=null,Pe=null,de=j,Ne=j=0,je=null,qe=U.next();de!==null&&!qe.done;Ne++,qe=U.next()){de.index>Ne?(je=de,de=null):je=de.sibling;var Vs=P(V,de,qe.value,Q);if(Vs===null){de===null&&(de=je);break}t&&de&&Vs.alternate===null&&n(V,de),j=d(Vs,j,Ne),Pe===null?me=Vs:Pe.sibling=Vs,Pe=Vs,de=je}if(qe.done)return s(V,de),Me&&ki(V,Ne),me;if(de===null){for(;!qe.done;Ne++,qe=U.next())qe=K(V,qe.value,Q),qe!==null&&(j=d(qe,j,Ne),Pe===null?me=qe:Pe.sibling=qe,Pe=qe);return Me&&ki(V,Ne),me}for(de=l(de);!qe.done;Ne++,qe=U.next())qe=B(de,V,Ne,qe.value,Q),qe!==null&&(t&&qe.alternate!==null&&de.delete(qe.key===null?Ne:qe.key),j=d(qe,j,Ne),Pe===null?me=qe:Pe.sibling=qe,Pe=qe);return t&&de.forEach(function(lE){return n(V,lE)}),Me&&ki(V,Ne),me}function Ze(V,j,U,Q){if(typeof U=="object"&&U!==null&&U.type===W&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case H:e:{for(var me=U.key;j!==null;){if(j.key===me){if(me=U.type,me===W){if(j.tag===7){s(V,j.sibling),Q=h(j,U.props.children),Q.return=V,V=Q;break e}}else if(j.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===A&&Sr(me)===j.type){s(V,j.sibling),Q=h(j,U.props),Bl(Q,U),Q.return=V,V=Q;break e}s(V,j);break}else n(V,j);j=j.sibling}U.type===W?(Q=_r(U.props.children,V.mode,Q,U.key),Q.return=V,V=Q):(Q=bc(U.type,U.key,U.props,null,V.mode,Q),Bl(Q,U),Q.return=V,V=Q)}return y(V);case Y:e:{for(me=U.key;j!==null;){if(j.key===me)if(j.tag===4&&j.stateNode.containerInfo===U.containerInfo&&j.stateNode.implementation===U.implementation){s(V,j.sibling),Q=h(j,U.children||[]),Q.return=V,V=Q;break e}else{s(V,j);break}else n(V,j);j=j.sibling}Q=Rh(U,V.mode,Q),Q.return=V,V=Q}return y(V);case A:return U=Sr(U),Ze(V,j,U,Q)}if(It(U))return he(V,j,U,Q);if(k(U)){if(me=k(U),typeof me!="function")throw Error(a(150));return U=me.call(U),ge(V,j,U,Q)}if(typeof U.then=="function")return Ze(V,j,Nc(U),Q);if(U.$$typeof===ie)return Ze(V,j,Tc(V,U),Q);Cc(V,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,j!==null&&j.tag===6?(s(V,j.sibling),Q=h(j,U),Q.return=V,V=Q):(s(V,j),Q=Ch(U,V.mode,Q),Q.return=V,V=Q),y(V)):s(V,j)}return function(V,j,U,Q){try{ql=0;var me=Ze(V,j,U,Q);return ya=null,me}catch(de){if(de===ga||de===Ac)throw de;var Pe=vn(29,de,null,V.mode);return Pe.lanes=Q,Pe.return=V,Pe}finally{}}}var wr=Mp(!0),Op=Mp(!1),vs=!1;function qh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function _s(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function bs(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=_c(t),yp(t,null,s),n}return vc(t,l,n,s),_c(t)}function Hl(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,gl(t,s)}}function Hh(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=y:d=d.next=y,s=s.next}while(s!==null);d===null?h=d=n:d=d.next=n}else h=d=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var Fh=!1;function Fl(){if(Fh){var t=pa;if(t!==null)throw t}}function Gl(t,n,s,l){Fh=!1;var h=t.updateQueue;vs=!1;var d=h.firstBaseUpdate,y=h.lastBaseUpdate,x=h.shared.pending;if(x!==null){h.shared.pending=null;var R=x,z=R.next;R.next=null,y===null?d=z:y.next=z,y=R;var F=t.alternate;F!==null&&(F=F.updateQueue,x=F.lastBaseUpdate,x!==y&&(x===null?F.firstBaseUpdate=z:x.next=z,F.lastBaseUpdate=R))}if(d!==null){var K=h.baseState;y=0,F=z=R=null,x=d;do{var P=x.lane&-536870913,B=P!==x.lane;if(B?(Ie&P)===P:(l&P)===P){P!==0&&P===ma&&(Fh=!0),F!==null&&(F=F.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var he=t,ge=x;P=n;var Ze=s;switch(ge.tag){case 1:if(he=ge.payload,typeof he=="function"){K=he.call(Ze,K,P);break e}K=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ge.payload,P=typeof he=="function"?he.call(Ze,K,P):he,P==null)break e;K=S({},K,P);break e;case 2:vs=!0}}P=x.callback,P!==null&&(t.flags|=64,B&&(t.flags|=8192),B=h.callbacks,B===null?h.callbacks=[P]:B.push(P))}else B={lane:P,tag:x.tag,payload:x.payload,callback:x.callback,next:null},F===null?(z=F=B,R=K):F=F.next=B,y|=P;if(x=x.next,x===null){if(x=h.shared.pending,x===null)break;B=x,x=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);F===null&&(R=K),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=F,d===null&&(h.shared.lanes=0),As|=y,t.lanes=y,t.memoizedState=K}}function Vp(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function kp(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Vp(s[t],n)}var va=M(null),Rc=M(0);function Lp(t,n){t=Yi,re(Rc,t),re(va,n),Yi=t|n.baseLanes}function Gh(){re(Rc,Yi),re(va,va.current)}function Qh(){Yi=Rc.current,X(va),X(Rc)}var _n=M(null),Vn=null;function xs(t){var n=t.alternate;re(mt,mt.current&1),re(_n,t),Vn===null&&(n===null||va.current!==null||n.memoizedState!==null)&&(Vn=t)}function Yh(t){re(mt,mt.current),re(_n,t),Vn===null&&(Vn=t)}function Up(t){t.tag===22?(re(mt,mt.current),re(_n,t),Vn===null&&(Vn=t)):Es()}function Es(){re(mt,mt.current),re(_n,_n.current)}function bn(t){X(_n),Vn===t&&(Vn=null),X(mt)}var mt=M(0);function Ic(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Wd(s)||ef(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var zi=0,Ae=null,Xe=null,St=null,jc=!1,_a=!1,Nr=!1,Dc=0,Ql=0,ba=null,Zb=0;function ct(){throw Error(a(321))}function Kh(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!yn(t[s],n[s]))return!1;return!0}function Xh(t,n,s,l,h,d){return zi=d,Ae=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?xg:ud,Nr=!1,d=s(l,h),Nr=!1,_a&&(d=Pp(n,s,l,h)),zp(t),d}function zp(t){G.H=Xl;var n=Xe!==null&&Xe.next!==null;if(zi=0,St=Xe=Ae=null,jc=!1,Ql=0,ba=null,n)throw Error(a(300));t===null||At||(t=t.dependencies,t!==null&&Ec(t)&&(At=!0))}function Pp(t,n,s,l){Ae=t;var h=0;do{if(_a&&(ba=null),Ql=0,_a=!1,25<=h)throw Error(a(301));if(h+=1,St=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=Eg,d=n(s,l)}while(_a);return d}function Jb(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?Yl(n):n,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(Ae.flags|=1024),n}function $h(){var t=Dc!==0;return Dc=0,t}function Zh(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function Jh(t){if(jc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}jc=!1}zi=0,St=Xe=Ae=null,_a=!1,Ql=Dc=0,ba=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Ae.memoizedState=St=t:St=St.next=t,St}function pt(){if(Xe===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var n=St===null?Ae.memoizedState:St.next;if(n!==null)St=n,Xe=t;else{if(t===null)throw Ae.alternate===null?Error(a(467)):Error(a(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},St===null?Ae.memoizedState=St=t:St=St.next=t}return St}function Mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yl(t){var n=Ql;return Ql+=1,ba===null&&(ba=[]),t=Ip(ba,t,n),n=Ae,(St===null?n.memoizedState:St.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?xg:ud),t}function Oc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Yl(t);if(t.$$typeof===ie)return Gt(t)}throw Error(a(438,String(t)))}function Wh(t){var n=null,s=Ae.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Ae.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Mc(),Ae.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=O;return n.index++,s}function Pi(t,n){return typeof n=="function"?n(t):n}function Vc(t){var n=pt();return ed(n,Xe,t)}function ed(t,n,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var y=h.next;h.next=d.next,d.next=y}n.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{n=h.next;var x=y=null,R=null,z=n,F=!1;do{var K=z.lane&-536870913;if(K!==z.lane?(Ie&K)===K:(zi&K)===K){var P=z.revertLane;if(P===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),K===ma&&(F=!0);else if((zi&P)===P){z=z.next,P===ma&&(F=!0);continue}else K={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(x=R=K,y=d):R=R.next=K,Ae.lanes|=P,As|=P;K=z.action,Nr&&s(d,K),d=z.hasEagerState?z.eagerState:s(d,K)}else P={lane:K,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(x=R=P,y=d):R=R.next=P,Ae.lanes|=K,As|=K;z=z.next}while(z!==null&&z!==n);if(R===null?y=d:R.next=x,!yn(d,t.memoizedState)&&(At=!0,F&&(s=pa,s!==null)))throw s;t.memoizedState=d,t.baseState=y,t.baseQueue=R,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function td(t){var n=pt(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,d=n.memoizedState;if(h!==null){s.pending=null;var y=h=h.next;do d=t(d,y.action),y=y.next;while(y!==h);yn(d,n.memoizedState)||(At=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,l]}function qp(t,n,s){var l=Ae,h=pt(),d=Me;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=n();var y=!yn((Xe||h).memoizedState,s);if(y&&(h.memoizedState=s,At=!0),h=h.queue,sd(Fp.bind(null,l,h,t),[t]),h.getSnapshot!==n||y||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,xa(9,{destroy:void 0},Hp.bind(null,l,h,s,n),null),Je===null)throw Error(a(349));d||(zi&127)!==0||Bp(l,n,s)}return s}function Bp(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Ae.updateQueue,n===null?(n=Mc(),Ae.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Hp(t,n,s,l){n.value=s,n.getSnapshot=l,Gp(n)&&Qp(t)}function Fp(t,n,s){return s(function(){Gp(n)&&Qp(t)})}function Gp(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!yn(t,s)}catch{return!0}}function Qp(t){var n=vr(t,2);n!==null&&fn(n,t,2)}function nd(t){var n=rn();if(typeof t=="function"){var s=t;if(t=s(),Nr){An(!0);try{s()}finally{An(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:t},n}function Yp(t,n,s,l){return t.baseState=s,ed(t,Xe,typeof l=="function"?l:Pi)}function Wb(t,n,s,l,h){if(Uc(t))throw Error(a(485));if(t=n.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};G.T!==null?s(!0):d.isTransition=!1,l(d),s=n.pending,s===null?(d.next=n.pending=d,Kp(n,d)):(d.next=s.next,n.pending=s.next=d)}}function Kp(t,n){var s=n.action,l=n.payload,h=t.state;if(n.isTransition){var d=G.T,y={};G.T=y;try{var x=s(h,l),R=G.S;R!==null&&R(y,x),Xp(t,n,x)}catch(z){id(t,n,z)}finally{d!==null&&y.types!==null&&(d.types=y.types),G.T=d}}else try{d=s(h,l),Xp(t,n,d)}catch(z){id(t,n,z)}}function Xp(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){$p(t,n,l)},function(l){return id(t,n,l)}):$p(t,n,s)}function $p(t,n,s){n.status="fulfilled",n.value=s,Zp(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Kp(t,s)))}function id(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Zp(n),n=n.next;while(n!==l)}t.action=null}function Zp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Jp(t,n){return n}function Wp(t,n){if(Me){var s=Je.formState;if(s!==null){e:{var l=Ae;if(Me){if(et){t:{for(var h=et,d=On;h.nodeType!==8;){if(!d){h=null;break t}if(h=kn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){et=kn(h.nextSibling),l=h.data==="F!";break e}}gs(l)}l=!1}l&&(n=s[0])}}return s=rn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jp,lastRenderedState:n},s.queue=l,s=vg.bind(null,Ae,l),l.dispatch=s,l=nd(!1),d=cd.bind(null,Ae,!1,l.queue),l=rn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,s=Wb.bind(null,Ae,h,d,s),h.dispatch=s,l.memoizedState=t,[n,s,!1]}function eg(t){var n=pt();return tg(n,Xe,t)}function tg(t,n,s){if(n=ed(t,n,Jp)[0],t=Vc(Pi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Yl(n)}catch(y){throw y===ga?Ac:y}else l=n;n=pt();var h=n.queue,d=h.dispatch;return s!==n.memoizedState&&(Ae.flags|=2048,xa(9,{destroy:void 0},ex.bind(null,h,s),null)),[l,d,t]}function ex(t,n){t.action=n}function ng(t){var n=pt(),s=Xe;if(s!==null)return tg(n,s,t);pt(),n=n.memoizedState,s=pt();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function xa(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=Ae.updateQueue,n===null&&(n=Mc(),Ae.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function ig(){return pt().memoizedState}function kc(t,n,s,l){var h=rn();Ae.flags|=t,h.memoizedState=xa(1|n,{destroy:void 0},s,l===void 0?null:l)}function Lc(t,n,s,l){var h=pt();l=l===void 0?null:l;var d=h.memoizedState.inst;Xe!==null&&l!==null&&Kh(l,Xe.memoizedState.deps)?h.memoizedState=xa(n,d,s,l):(Ae.flags|=t,h.memoizedState=xa(1|n,d,s,l))}function sg(t,n){kc(8390656,8,t,n)}function sd(t,n){Lc(2048,8,t,n)}function tx(t){Ae.flags|=4;var n=Ae.updateQueue;if(n===null)n=Mc(),Ae.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function rg(t){var n=pt().memoizedState;return tx({ref:n,nextImpl:t}),function(){if((He&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function ag(t,n){return Lc(4,2,t,n)}function lg(t,n){return Lc(4,4,t,n)}function og(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function cg(t,n,s){s=s!=null?s.concat([t]):null,Lc(4,4,og.bind(null,n,t),s)}function rd(){}function ug(t,n){var s=pt();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&Kh(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function hg(t,n){var s=pt();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&Kh(n,l[1]))return l[0];if(l=t(),Nr){An(!0);try{t()}finally{An(!1)}}return s.memoizedState=[l,n],l}function ad(t,n,s){return s===void 0||(zi&1073741824)!==0&&(Ie&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=dy(),Ae.lanes|=t,As|=t,s)}function dg(t,n,s,l){return yn(s,n)?s:va.current!==null?(t=ad(t,s,l),yn(t,n)||(At=!0),t):(zi&42)===0||(zi&1073741824)!==0&&(Ie&261930)===0?(At=!0,t.memoizedState=s):(t=dy(),Ae.lanes|=t,As|=t,n)}function fg(t,n,s,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var y=G.T,x={};G.T=x,cd(t,!1,n,s);try{var R=h(),z=G.S;if(z!==null&&z(x,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=$b(R,l);Kl(t,n,F,Tn(t))}else Kl(t,n,l,Tn(t))}catch(K){Kl(t,n,{then:function(){},status:"rejected",reason:K},Tn())}finally{se.p=d,y!==null&&x.types!==null&&(y.types=x.types),G.T=y}}function nx(){}function ld(t,n,s,l){if(t.tag!==5)throw Error(a(476));var h=mg(t).queue;fg(t,h,n,pe,s===null?nx:function(){return pg(t),s(l)})}function mg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:pe},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function pg(t){var n=mg(t);n.next===null&&(n=t.alternate.memoizedState),Kl(t,n.next.queue,{},Tn())}function od(){return Gt(ho)}function gg(){return pt().memoizedState}function yg(){return pt().memoizedState}function ix(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=Tn();t=_s(s);var l=bs(n,t,s);l!==null&&(fn(l,n,s),Hl(l,n,s)),n={cache:Lh()},t.payload=n;return}n=n.return}}function sx(t,n,s){var l=Tn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Uc(t)?_g(n,s):(s=wh(t,n,s,l),s!==null&&(fn(s,t,l),bg(s,n,l)))}function vg(t,n,s){var l=Tn();Kl(t,n,s,l)}function Kl(t,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Uc(t))_g(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var y=n.lastRenderedState,x=d(y,s);if(h.hasEagerState=!0,h.eagerState=x,yn(x,y))return vc(t,n,h,0),Je===null&&yc(),!1}catch{}finally{}if(s=wh(t,n,h,l),s!==null)return fn(s,t,l),bg(s,n,l),!0}return!1}function cd(t,n,s,l){if(l={lane:2,revertLane:qd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Uc(t)){if(n)throw Error(a(479))}else n=wh(t,s,l,2),n!==null&&fn(n,t,2)}function Uc(t){var n=t.alternate;return t===Ae||n!==null&&n===Ae}function _g(t,n){_a=jc=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function bg(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,gl(t,s)}}var Xl={readContext:Gt,use:Oc,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};Xl.useEffectEvent=ct;var xg={readContext:Gt,use:Oc,useCallback:function(t,n){return rn().memoizedState=[t,n===void 0?null:n],t},useContext:Gt,useEffect:sg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,kc(4194308,4,og.bind(null,n,t),s)},useLayoutEffect:function(t,n){return kc(4194308,4,t,n)},useInsertionEffect:function(t,n){kc(4,2,t,n)},useMemo:function(t,n){var s=rn();n=n===void 0?null:n;var l=t();if(Nr){An(!0);try{t()}finally{An(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=rn();if(s!==void 0){var h=s(n);if(Nr){An(!0);try{s(n)}finally{An(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=sx.bind(null,Ae,t),[l.memoizedState,t]},useRef:function(t){var n=rn();return t={current:t},n.memoizedState=t},useState:function(t){t=nd(t);var n=t.queue,s=vg.bind(null,Ae,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:rd,useDeferredValue:function(t,n){var s=rn();return ad(s,t,n)},useTransition:function(){var t=nd(!1);return t=fg.bind(null,Ae,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=Ae,h=rn();if(Me){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Je===null)throw Error(a(349));(Ie&127)!==0||Bp(l,n,s)}h.memoizedState=s;var d={value:s,getSnapshot:n};return h.queue=d,sg(Fp.bind(null,l,d,t),[t]),l.flags|=2048,xa(9,{destroy:void 0},Hp.bind(null,l,d,s,n),null),s},useId:function(){var t=rn(),n=Je.identifierPrefix;if(Me){var s=vi,l=yi;s=(l&~(1<<32-dt(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Dc++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=Zb++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:od,useFormState:Wp,useActionState:Wp,useOptimistic:function(t){var n=rn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=cd.bind(null,Ae,!0,s),s.dispatch=n,[t,n]},useMemoCache:Wh,useCacheRefresh:function(){return rn().memoizedState=ix.bind(null,Ae)},useEffectEvent:function(t){var n=rn(),s={impl:t};return n.memoizedState=s,function(){if((He&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},ud={readContext:Gt,use:Oc,useCallback:ug,useContext:Gt,useEffect:sd,useImperativeHandle:cg,useInsertionEffect:ag,useLayoutEffect:lg,useMemo:hg,useReducer:Vc,useRef:ig,useState:function(){return Vc(Pi)},useDebugValue:rd,useDeferredValue:function(t,n){var s=pt();return dg(s,Xe.memoizedState,t,n)},useTransition:function(){var t=Vc(Pi)[0],n=pt().memoizedState;return[typeof t=="boolean"?t:Yl(t),n]},useSyncExternalStore:qp,useId:gg,useHostTransitionStatus:od,useFormState:eg,useActionState:eg,useOptimistic:function(t,n){var s=pt();return Yp(s,Xe,t,n)},useMemoCache:Wh,useCacheRefresh:yg};ud.useEffectEvent=rg;var Eg={readContext:Gt,use:Oc,useCallback:ug,useContext:Gt,useEffect:sd,useImperativeHandle:cg,useInsertionEffect:ag,useLayoutEffect:lg,useMemo:hg,useReducer:td,useRef:ig,useState:function(){return td(Pi)},useDebugValue:rd,useDeferredValue:function(t,n){var s=pt();return Xe===null?ad(s,t,n):dg(s,Xe.memoizedState,t,n)},useTransition:function(){var t=td(Pi)[0],n=pt().memoizedState;return[typeof t=="boolean"?t:Yl(t),n]},useSyncExternalStore:qp,useId:gg,useHostTransitionStatus:od,useFormState:ng,useActionState:ng,useOptimistic:function(t,n){var s=pt();return Xe!==null?Yp(s,Xe,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Wh,useCacheRefresh:yg};Eg.useEffectEvent=rg;function hd(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:S({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var dd={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=Tn(),h=_s(l);h.payload=n,s!=null&&(h.callback=s),n=bs(t,h,l),n!==null&&(fn(n,t,l),Hl(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=Tn(),h=_s(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=bs(t,h,l),n!==null&&(fn(n,t,l),Hl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Tn(),l=_s(s);l.tag=2,n!=null&&(l.callback=n),n=bs(t,l,s),n!==null&&(fn(n,t,s),Hl(n,t,s))}};function Tg(t,n,s,l,h,d,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,y):n.prototype&&n.prototype.isPureReactComponent?!Vl(s,l)||!Vl(h,d):!0}function Sg(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&dd.enqueueReplaceState(n,n.state,null)}function Cr(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=S({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function Ag(t){gc(t)}function wg(t){console.error(t)}function Ng(t){gc(t)}function zc(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Cg(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function fd(t,n,s){return s=_s(s),s.tag=3,s.payload={element:null},s.callback=function(){zc(t,n)},s}function Rg(t){return t=_s(t),t.tag=3,t}function Ig(t,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Cg(n,s,l)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Cg(n,s,l),typeof h!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function rx(t,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&fa(n,s,h,!0),s=_n.current,s!==null){switch(s.tag){case 31:case 13:return Vn===null?Zc():s.alternate===null&&ut===0&&(ut=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===wc?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Ud(t,l,h)),!1;case 22:return s.flags|=65536,l===wc?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Ud(t,l,h)),!1}throw Error(a(435,s.tag))}return Ud(t,l,h),Zc(),!1}if(Me)return n=_n.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Dh&&(t=Error(a(422),{cause:l}),Ul(jn(t,s)))):(l!==Dh&&(n=Error(a(423),{cause:l}),Ul(jn(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=jn(l,s),h=fd(t.stateNode,l,h),Hh(t,h),ut!==4&&(ut=2)),!1;var d=Error(a(520),{cause:l});if(d=jn(d,s),io===null?io=[d]:io.push(d),ut!==4&&(ut=2),n===null)return!0;l=jn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=fd(s.stateNode,l,t),Hh(s,t),!1;case 1:if(n=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ws===null||!ws.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Rg(h),Ig(h,t,s,l),Hh(s,h),!1}s=s.return}while(s!==null);return!1}var md=Error(a(461)),At=!1;function Qt(t,n,s,l){n.child=t===null?Op(n,null,s,l):wr(n,t.child,s,l)}function jg(t,n,s,l,h){s=s.render;var d=n.ref;if("ref"in l){var y={};for(var x in l)x!=="ref"&&(y[x]=l[x])}else y=l;return Er(n),l=Xh(t,n,s,y,d,h),x=$h(),t!==null&&!At?(Zh(t,n,h),qi(t,n,h)):(Me&&x&&Ih(n),n.flags|=1,Qt(t,n,l,h),n.child)}function Dg(t,n,s,l,h){if(t===null){var d=s.type;return typeof d=="function"&&!Nh(d)&&d.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=d,Mg(t,n,d,l,h)):(t=bc(s.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!Ed(t,h)){var y=d.memoizedProps;if(s=s.compare,s=s!==null?s:Vl,s(y,l)&&t.ref===n.ref)return qi(t,n,h)}return n.flags|=1,t=Vi(d,l),t.ref=n.ref,t.return=n,n.child=t}function Mg(t,n,s,l,h){if(t!==null){var d=t.memoizedProps;if(Vl(d,l)&&t.ref===n.ref)if(At=!1,n.pendingProps=l=d,Ed(t,h))(t.flags&131072)!==0&&(At=!0);else return n.lanes=t.lanes,qi(t,n,h)}return pd(t,n,s,l,h)}function Og(t,n,s,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,n.child=null;return Vg(t,n,d,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Sc(n,d!==null?d.cachePool:null),d!==null?Lp(n,d):Gh(),Up(n);else return l=n.lanes=536870912,Vg(t,n,d!==null?d.baseLanes|s:s,s,l)}else d!==null?(Sc(n,d.cachePool),Lp(n,d),Es(),n.memoizedState=null):(t!==null&&Sc(n,null),Gh(),Es());return Qt(t,n,h,s),n.child}function $l(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Vg(t,n,s,l,h){var d=zh();return d=d===null?null:{parent:Tt._currentValue,pool:d},n.memoizedState={baseLanes:s,cachePool:d},t!==null&&Sc(n,null),Gh(),Up(n),t!==null&&fa(t,n,l,!0),n.childLanes=h,null}function Pc(t,n){return n=Bc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function kg(t,n,s){return wr(n,t.child,null,s),t=Pc(n,n.pendingProps),t.flags|=2,bn(n),n.memoizedState=null,t}function ax(t,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Me){if(l.mode==="hidden")return t=Pc(n,l),n.lanes=536870912,$l(null,t);if(Yh(n),(t=et)?(t=Ky(t,On),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ms!==null?{id:yi,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},s=_p(t),s.return=n,n.child=s,Ft=n,et=null)):t=null,t===null)throw gs(n);return n.lanes=536870912,null}return Pc(n,l)}var d=t.memoizedState;if(d!==null){var y=d.dehydrated;if(Yh(n),h)if(n.flags&256)n.flags&=-257,n=kg(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(At||fa(t,n,s,!1),h=(s&t.childLanes)!==0,At||h){if(l=Je,l!==null&&(y=yl(l,s),y!==0&&y!==d.retryLane))throw d.retryLane=y,vr(t,y),fn(l,t,y),md;Zc(),n=kg(t,n,s)}else t=d.treeContext,et=kn(y.nextSibling),Ft=n,Me=!0,ps=null,On=!1,t!==null&&Ep(n,t),n=Pc(n,l),n.flags|=4096;return n}return t=Vi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function qc(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function pd(t,n,s,l,h){return Er(n),s=Xh(t,n,s,l,void 0,h),l=$h(),t!==null&&!At?(Zh(t,n,h),qi(t,n,h)):(Me&&l&&Ih(n),n.flags|=1,Qt(t,n,s,h),n.child)}function Lg(t,n,s,l,h,d){return Er(n),n.updateQueue=null,s=Pp(n,l,s,h),zp(t),l=$h(),t!==null&&!At?(Zh(t,n,d),qi(t,n,d)):(Me&&l&&Ih(n),n.flags|=1,Qt(t,n,s,d),n.child)}function Ug(t,n,s,l,h){if(Er(n),n.stateNode===null){var d=ca,y=s.contextType;typeof y=="object"&&y!==null&&(d=Gt(y)),d=new s(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=dd,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},qh(n),y=s.contextType,d.context=typeof y=="object"&&y!==null?Gt(y):ca,d.state=n.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(hd(n,s,y,l),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&dd.enqueueReplaceState(d,d.state,null),Gl(n,l,d,h),Fl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){d=n.stateNode;var x=n.memoizedProps,R=Cr(s,x);d.props=R;var z=d.context,F=s.contextType;y=ca,typeof F=="object"&&F!==null&&(y=Gt(F));var K=s.getDerivedStateFromProps;F=typeof K=="function"||typeof d.getSnapshotBeforeUpdate=="function",x=n.pendingProps!==x,F||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x||z!==y)&&Sg(n,d,l,y),vs=!1;var P=n.memoizedState;d.state=P,Gl(n,l,d,h),Fl(),z=n.memoizedState,x||P!==z||vs?(typeof K=="function"&&(hd(n,s,K,l),z=n.memoizedState),(R=vs||Tg(n,s,R,l,P,z,y))?(F||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),d.props=l,d.state=z,d.context=y,l=R):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,Bh(t,n),y=n.memoizedProps,F=Cr(s,y),d.props=F,K=n.pendingProps,P=d.context,z=s.contextType,R=ca,typeof z=="object"&&z!==null&&(R=Gt(z)),x=s.getDerivedStateFromProps,(z=typeof x=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==K||P!==R)&&Sg(n,d,l,R),vs=!1,P=n.memoizedState,d.state=P,Gl(n,l,d,h),Fl();var B=n.memoizedState;y!==K||P!==B||vs||t!==null&&t.dependencies!==null&&Ec(t.dependencies)?(typeof x=="function"&&(hd(n,s,x,l),B=n.memoizedState),(F=vs||Tg(n,s,F,l,P,B,R)||t!==null&&t.dependencies!==null&&Ec(t.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,B,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,B,R)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),d.props=l,d.state=B,d.context=R,l=F):(typeof d.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return d=l,qc(t,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&l?(n.child=wr(n,t.child,null,h),n.child=wr(n,null,s,h)):Qt(t,n,s,h),n.memoizedState=d.state,t=n.child):t=qi(t,n,h),t}function zg(t,n,s,l){return br(),n.flags|=256,Qt(t,n,s,l),n.child}var gd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yd(t){return{baseLanes:t,cachePool:Cp()}}function vd(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=En),t}function Pg(t,n,s){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,y;if((y=d)||(y=t!==null&&t.memoizedState===null?!1:(mt.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Me){if(h?xs(n):Es(),(t=et)?(t=Ky(t,On),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ms!==null?{id:yi,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},s=_p(t),s.return=n,n.child=s,Ft=n,et=null)):t=null,t===null)throw gs(n);return ef(t)?n.lanes=32:n.lanes=536870912,null}var x=l.children;return l=l.fallback,h?(Es(),h=n.mode,x=Bc({mode:"hidden",children:x},h),l=_r(l,h,s,null),x.return=n,l.return=n,x.sibling=l,n.child=x,l=n.child,l.memoizedState=yd(s),l.childLanes=vd(t,y,s),n.memoizedState=gd,$l(null,l)):(xs(n),_d(n,x))}var R=t.memoizedState;if(R!==null&&(x=R.dehydrated,x!==null)){if(d)n.flags&256?(xs(n),n.flags&=-257,n=bd(t,n,s)):n.memoizedState!==null?(Es(),n.child=t.child,n.flags|=128,n=null):(Es(),x=l.fallback,h=n.mode,l=Bc({mode:"visible",children:l.children},h),x=_r(x,h,s,null),x.flags|=2,l.return=n,x.return=n,l.sibling=x,n.child=l,wr(n,t.child,null,s),l=n.child,l.memoizedState=yd(s),l.childLanes=vd(t,y,s),n.memoizedState=gd,n=$l(null,l));else if(xs(n),ef(x)){if(y=x.nextSibling&&x.nextSibling.dataset,y)var z=y.dgst;y=z,l=Error(a(419)),l.stack="",l.digest=y,Ul({value:l,source:null,stack:null}),n=bd(t,n,s)}else if(At||fa(t,n,s,!1),y=(s&t.childLanes)!==0,At||y){if(y=Je,y!==null&&(l=yl(y,s),l!==0&&l!==R.retryLane))throw R.retryLane=l,vr(t,l),fn(y,t,l),md;Wd(x)||Zc(),n=bd(t,n,s)}else Wd(x)?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,et=kn(x.nextSibling),Ft=n,Me=!0,ps=null,On=!1,t!==null&&Ep(n,t),n=_d(n,l.children),n.flags|=4096);return n}return h?(Es(),x=l.fallback,h=n.mode,R=t.child,z=R.sibling,l=Vi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,z!==null?x=Vi(z,x):(x=_r(x,h,s,null),x.flags|=2),x.return=n,l.return=n,l.sibling=x,n.child=l,$l(null,l),l=n.child,x=t.child.memoizedState,x===null?x=yd(s):(h=x.cachePool,h!==null?(R=Tt._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Cp(),x={baseLanes:x.baseLanes|s,cachePool:h}),l.memoizedState=x,l.childLanes=vd(t,y,s),n.memoizedState=gd,$l(t.child,l)):(xs(n),s=t.child,t=s.sibling,s=Vi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=s,n.memoizedState=null,s)}function _d(t,n){return n=Bc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Bc(t,n){return t=vn(22,t,null,n),t.lanes=0,t}function bd(t,n,s){return wr(n,t.child,null,s),t=_d(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function qg(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Vh(t.return,n,s)}function xd(t,n,s,l,h,d){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:d}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=s,y.tailMode=h,y.treeForkCount=d)}function Bg(t,n,s){var l=n.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var y=mt.current,x=(y&2)!==0;if(x?(y=y&1|2,n.flags|=128):y&=1,re(mt,y),Qt(t,n,l,s),l=Me?Ll:0,!x&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qg(t,s,n);else if(t.tag===19)qg(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&Ic(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),xd(n,!1,h,s,d,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Ic(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}xd(n,!0,s,null,d,l);break;case"together":xd(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function qi(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),As|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(fa(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=Vi(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Vi(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Ed(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ec(t)))}function lx(t,n,s){switch(n.tag){case 3:jt(n,n.stateNode.containerInfo),ys(n,Tt,t.memoizedState.cache),br();break;case 27:case 5:er(n);break;case 4:jt(n,n.stateNode.containerInfo);break;case 10:ys(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Yh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(xs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Pg(t,n,s):(xs(n),t=qi(t,n,s),t!==null?t.sibling:null);xs(n);break;case 19:var h=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(fa(t,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return Bg(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(mt,mt.current),l)break;return null;case 22:return n.lanes=0,Og(t,n,s,n.pendingProps);case 24:ys(n,Tt,t.memoizedState.cache)}return qi(t,n,s)}function Hg(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)At=!0;else{if(!Ed(t,s)&&(n.flags&128)===0)return At=!1,lx(t,n,s);At=(t.flags&131072)!==0}else At=!1,Me&&(n.flags&1048576)!==0&&xp(n,Ll,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Sr(n.elementType),n.type=t,typeof t=="function")Nh(t)?(l=Cr(t,l),n.tag=1,n=Ug(null,n,t,l,s)):(n.tag=0,n=pd(null,n,t,l,s));else{if(t!=null){var h=t.$$typeof;if(h===le){n.tag=11,n=jg(null,n,t,l,s);break e}else if(h===I){n.tag=14,n=Dg(null,n,t,l,s);break e}}throw n=nt(t)||t,Error(a(306,n,""))}}return n;case 0:return pd(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=Cr(l,n.pendingProps),Ug(t,n,l,h,s);case 3:e:{if(jt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var d=n.memoizedState;h=d.element,Bh(t,n),Gl(n,l,null,s);var y=n.memoizedState;if(l=y.cache,ys(n,Tt,l),l!==d.cache&&kh(n,[Tt],s,!0),Fl(),l=y.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=zg(t,n,l,s);break e}else if(l!==h){h=jn(Error(a(424)),n),Ul(h),n=zg(t,n,l,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(et=kn(t.firstChild),Ft=n,Me=!0,ps=null,On=!0,s=Op(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(br(),l===h){n=qi(t,n,s);break e}Qt(t,n,l,s)}n=n.child}return n;case 26:return qc(t,n),t===null?(s=e0(n.type,null,n.pendingProps,null))?n.memoizedState=s:Me||(s=n.type,t=n.pendingProps,l=su(we.current).createElement(s),l[bt]=n,l[Ut]=t,Yt(l,s,t),xt(l),n.stateNode=l):n.memoizedState=e0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return er(n),t===null&&Me&&(l=n.stateNode=Zy(n.type,n.pendingProps,we.current),Ft=n,On=!0,h=et,Is(n.type)?(tf=h,et=kn(l.firstChild)):et=h),Qt(t,n,n.pendingProps.children,s),qc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Me&&((h=l=et)&&(l=Lx(l,n.type,n.pendingProps,On),l!==null?(n.stateNode=l,Ft=n,et=kn(l.firstChild),On=!1,h=!0):h=!1),h||gs(n)),er(n),h=n.type,d=n.pendingProps,y=t!==null?t.memoizedProps:null,l=d.children,$d(h,d)?l=null:y!==null&&$d(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=Xh(t,n,Jb,null,null,s),ho._currentValue=h),qc(t,n),Qt(t,n,l,s),n.child;case 6:return t===null&&Me&&((t=s=et)&&(s=Ux(s,n.pendingProps,On),s!==null?(n.stateNode=s,Ft=n,et=null,t=!0):t=!1),t||gs(n)),null;case 13:return Pg(t,n,s);case 4:return jt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=wr(n,null,l,s):Qt(t,n,l,s),n.child;case 11:return jg(t,n,n.type,n.pendingProps,s);case 7:return Qt(t,n,n.pendingProps,s),n.child;case 8:return Qt(t,n,n.pendingProps.children,s),n.child;case 12:return Qt(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,ys(n,n.type,l.value),Qt(t,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Er(n),h=Gt(h),l=l(h),n.flags|=1,Qt(t,n,l,s),n.child;case 14:return Dg(t,n,n.type,n.pendingProps,s);case 15:return Mg(t,n,n.type,n.pendingProps,s);case 19:return Bg(t,n,s);case 31:return ax(t,n,s);case 22:return Og(t,n,s,n.pendingProps);case 24:return Er(n),l=Gt(Tt),t===null?(h=zh(),h===null&&(h=Je,d=Lh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),n.memoizedState={parent:l,cache:h},qh(n),ys(n,Tt,h)):((t.lanes&s)!==0&&(Bh(t,n),Gl(n,null,null,s),Fl()),h=t.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ys(n,Tt,l)):(l=d.cache,ys(n,Tt,l),l!==h.cache&&kh(n,[Tt],s,!0))),Qt(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Bi(t){t.flags|=4}function Td(t,n,s,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(gy())t.flags|=8192;else throw Ar=wc,Ph}else t.flags&=-16777217}function Fg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!r0(n))if(gy())t.flags|=8192;else throw Ar=wc,Ph}function Hc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Xo():536870912,t.lanes|=n,Aa|=n)}function Zl(t,n){if(!Me)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function tt(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function ox(t,n,s){var l=n.pendingProps;switch(jh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(n),null;case 1:return tt(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ui(Tt),it(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(da(n)?Bi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Mh())),tt(n),null;case 26:var h=n.type,d=n.memoizedState;return t===null?(Bi(n),d!==null?(tt(n),Fg(n,d)):(tt(n),Td(n,h,null,l,s))):d?d!==t.memoizedState?(Bi(n),tt(n),Fg(n,d)):(tt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Bi(n),tt(n),Td(n,h,t,l,s)),null;case 27:if(Fr(n),s=we.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Bi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return tt(n),null}t=oe.current,da(n)?Tp(n):(t=Zy(h,l,s),n.stateNode=t,Bi(n))}return tt(n),null;case 5:if(Fr(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Bi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return tt(n),null}if(d=oe.current,da(n))Tp(n);else{var y=su(we.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?y.createElement(h,{is:l.is}):y.createElement(h)}}d[bt]=n,d[Ut]=l;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=d;e:switch(Yt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Bi(n)}}return tt(n),Td(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Bi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=we.current,da(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,h=Ft,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[bt]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Py(t.nodeValue,s)),t||gs(n,!0)}else t=su(t).createTextNode(l),t[bt]=n,n.stateNode=t}return tt(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=da(n),s!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[bt]=n}else br(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;tt(n),t=!1}else s=Mh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(bn(n),n):(bn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return tt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=da(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[bt]=n}else br(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;tt(n),h=!1}else h=Mh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(bn(n),n):(bn(n),null)}return bn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),Hc(n,n.updateQueue),tt(n),null);case 4:return it(),t===null&&Gd(n.stateNode.containerInfo),tt(n),null;case 10:return Ui(n.type),tt(n),null;case 19:if(X(mt),l=n.memoizedState,l===null)return tt(n),null;if(h=(n.flags&128)!==0,d=l.rendering,d===null)if(h)Zl(l,!1);else{if(ut!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=Ic(t),d!==null){for(n.flags|=128,Zl(l,!1),t=d.updateQueue,n.updateQueue=t,Hc(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)vp(s,t),s=s.sibling;return re(mt,mt.current&1|2),Me&&ki(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&nn()>Kc&&(n.flags|=128,h=!0,Zl(l,!1),n.lanes=4194304)}else{if(!h)if(t=Ic(d),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Hc(n,t),Zl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Me)return tt(n),null}else 2*nn()-l.renderingStartTime>Kc&&s!==536870912&&(n.flags|=128,h=!0,Zl(l,!1),n.lanes=4194304);l.isBackwards?(d.sibling=n.child,n.child=d):(t=l.last,t!==null?t.sibling=d:n.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=nn(),t.sibling=null,s=mt.current,re(mt,h?s&1|2:s&1),Me&&ki(n,l.treeForkCount),t):(tt(n),null);case 22:case 23:return bn(n),Qh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(tt(n),n.subtreeFlags&6&&(n.flags|=8192)):tt(n),s=n.updateQueue,s!==null&&Hc(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&X(Tr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ui(Tt),tt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function cx(t,n){switch(jh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ui(Tt),it(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Fr(n),null;case 31:if(n.memoizedState!==null){if(bn(n),n.alternate===null)throw Error(a(340));br()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(bn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));br()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return X(mt),null;case 4:return it(),null;case 10:return Ui(n.type),null;case 22:case 23:return bn(n),Qh(),t!==null&&X(Tr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ui(Tt),null;case 25:return null;default:return null}}function Gg(t,n){switch(jh(n),n.tag){case 3:Ui(Tt),it();break;case 26:case 27:case 5:Fr(n);break;case 4:it();break;case 31:n.memoizedState!==null&&bn(n);break;case 13:bn(n);break;case 19:X(mt);break;case 10:Ui(n.type);break;case 22:case 23:bn(n),Qh(),t!==null&&X(Tr);break;case 24:Ui(Tt)}}function Jl(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var d=s.create,y=s.inst;l=d(),y.destroy=l}s=s.next}while(s!==h)}}catch(x){Ye(n,n.return,x)}}function Ts(t,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var y=l.inst,x=y.destroy;if(x!==void 0){y.destroy=void 0,h=n;var R=s,z=x;try{z()}catch(F){Ye(h,R,F)}}}l=l.next}while(l!==d)}}catch(F){Ye(n,n.return,F)}}function Qg(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{kp(n,s)}catch(l){Ye(t,t.return,l)}}}function Yg(t,n,s){s.props=Cr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Ye(t,n,l)}}function Wl(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){Ye(t,n,h)}}function _i(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Ye(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Ye(t,n,h)}else s.current=null}function Kg(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Ye(t,t.return,h)}}function Sd(t,n,s){try{var l=t.stateNode;jx(l,t.type,s,n),l[Ut]=n}catch(h){Ye(t,t.return,h)}}function Xg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Is(t.type)||t.tag===4}function Ad(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Xg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Is(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wd(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Hn));else if(l!==4&&(l===27&&Is(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(wd(t,n,s),t=t.sibling;t!==null;)wd(t,n,s),t=t.sibling}function Fc(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&Is(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Fc(t,n,s),t=t.sibling;t!==null;)Fc(t,n,s),t=t.sibling}function $g(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Yt(n,l,s),n[bt]=t,n[Ut]=s}catch(d){Ye(t,t.return,d)}}var Hi=!1,wt=!1,Nd=!1,Zg=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function ux(t,n){if(t=t.containerInfo,Kd=hu,t=cp(t),bh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var y=0,x=-1,R=-1,z=0,F=0,K=t,P=null;t:for(;;){for(var B;K!==s||h!==0&&K.nodeType!==3||(x=y+h),K!==d||l!==0&&K.nodeType!==3||(R=y+l),K.nodeType===3&&(y+=K.nodeValue.length),(B=K.firstChild)!==null;)P=K,K=B;for(;;){if(K===t)break t;if(P===s&&++z===h&&(x=y),P===d&&++F===l&&(R=y),(B=K.nextSibling)!==null)break;K=P,P=K.parentNode}K=B}s=x===-1||R===-1?null:{start:x,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(Xd={focusedElem:t,selectionRange:s},hu=!1,Pt=n;Pt!==null;)if(n=Pt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Pt=t;else for(;Pt!==null;){switch(n=Pt,d=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=n,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var he=Cr(s.type,h);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ge){Ye(s,s.return,ge)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)Jd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Jd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Pt=t;break}Pt=n.return}}function Jg(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Gi(t,s),l&4&&Jl(5,s);break;case 1:if(Gi(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(y){Ye(s,s.return,y)}else{var h=Cr(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Ye(s,s.return,y)}}l&64&&Qg(s),l&512&&Wl(s,s.return);break;case 3:if(Gi(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{kp(t,n)}catch(y){Ye(s,s.return,y)}}break;case 27:n===null&&l&4&&$g(s);case 26:case 5:Gi(t,s),n===null&&l&4&&Kg(s),l&512&&Wl(s,s.return);break;case 12:Gi(t,s);break;case 31:Gi(t,s),l&4&&ty(t,s);break;case 13:Gi(t,s),l&4&&ny(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=_x.bind(null,s),zx(t,s))));break;case 22:if(l=s.memoizedState!==null||Hi,!l){n=n!==null&&n.memoizedState!==null||wt,h=Hi;var d=wt;Hi=l,(wt=n)&&!d?Qi(t,s,(s.subtreeFlags&8772)!==0):Gi(t,s),Hi=h,wt=d}break;case 30:break;default:Gi(t,s)}}function Wg(t){var n=t.alternate;n!==null&&(t.alternate=null,Wg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Xr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var rt=null,cn=!1;function Fi(t,n,s){for(s=s.child;s!==null;)ey(t,n,s),s=s.sibling}function ey(t,n,s){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(zn,s)}catch{}switch(s.tag){case 26:wt||_i(s,n),Fi(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:wt||_i(s,n);var l=rt,h=cn;Is(s.type)&&(rt=s.stateNode,cn=!1),Fi(t,n,s),oo(s.stateNode),rt=l,cn=h;break;case 5:wt||_i(s,n);case 6:if(l=rt,h=cn,rt=null,Fi(t,n,s),rt=l,cn=h,rt!==null)if(cn)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(s.stateNode)}catch(d){Ye(s,n,d)}else try{rt.removeChild(s.stateNode)}catch(d){Ye(s,n,d)}break;case 18:rt!==null&&(cn?(t=rt,Qy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Ma(t)):Qy(rt,s.stateNode));break;case 4:l=rt,h=cn,rt=s.stateNode.containerInfo,cn=!0,Fi(t,n,s),rt=l,cn=h;break;case 0:case 11:case 14:case 15:Ts(2,s,n),wt||Ts(4,s,n),Fi(t,n,s);break;case 1:wt||(_i(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Yg(s,n,l)),Fi(t,n,s);break;case 21:Fi(t,n,s);break;case 22:wt=(l=wt)||s.memoizedState!==null,Fi(t,n,s),wt=l;break;default:Fi(t,n,s)}}function ty(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ma(t)}catch(s){Ye(n,n.return,s)}}}function ny(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ma(t)}catch(s){Ye(n,n.return,s)}}function hx(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Zg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Zg),n;default:throw Error(a(435,t.tag))}}function Gc(t,n){var s=hx(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=bx.bind(null,t,l);l.then(h,h)}})}function un(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=t,y=n,x=y;e:for(;x!==null;){switch(x.tag){case 27:if(Is(x.type)){rt=x.stateNode,cn=!1;break e}break;case 5:rt=x.stateNode,cn=!1;break e;case 3:case 4:rt=x.stateNode.containerInfo,cn=!0;break e}x=x.return}if(rt===null)throw Error(a(160));ey(d,y,h),rt=null,cn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)iy(n,t),n=n.sibling}var Xn=null;function iy(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(n,t),hn(t),l&4&&(Ts(3,t,t.return),Jl(3,t),Ts(5,t,t.return));break;case 1:un(n,t),hn(t),l&512&&(wt||s===null||_i(s,s.return)),l&64&&Hi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Xn;if(un(n,t),hn(t),l&512&&(wt||s===null||_i(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ri]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Yt(d,l,s),d[bt]=t,xt(d),l=d;break e;case"link":var y=i0("link","href",h).get(l+(s.href||""));if(y){for(var x=0;x<y.length;x++)if(d=y[x],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(x,1);break t}}d=h.createElement(l),Yt(d,l,s),h.head.appendChild(d);break;case"meta":if(y=i0("meta","content",h).get(l+(s.content||""))){for(x=0;x<y.length;x++)if(d=y[x],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(x,1);break t}}d=h.createElement(l),Yt(d,l,s),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[bt]=t,xt(d),l=d}t.stateNode=l}else s0(h,t.type,t.stateNode);else t.stateNode=n0(h,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?s0(h,t.type,t.stateNode):n0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Sd(t,t.memoizedProps,s.memoizedProps)}break;case 27:un(n,t),hn(t),l&512&&(wt||s===null||_i(s,s.return)),s!==null&&l&4&&Sd(t,t.memoizedProps,s.memoizedProps);break;case 5:if(un(n,t),hn(t),l&512&&(wt||s===null||_i(s,s.return)),t.flags&32){h=t.stateNode;try{on(h,"")}catch(he){Ye(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Sd(t,h,s!==null?s.memoizedProps:h)),l&1024&&(Nd=!0);break;case 6:if(un(n,t),hn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(he){Ye(t,t.return,he)}}break;case 3:if(lu=null,h=Xn,Xn=ru(n.containerInfo),un(n,t),Xn=h,hn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Ma(n.containerInfo)}catch(he){Ye(t,t.return,he)}Nd&&(Nd=!1,sy(t));break;case 4:l=Xn,Xn=ru(t.stateNode.containerInfo),un(n,t),hn(t),Xn=l;break;case 12:un(n,t),hn(t);break;case 31:un(n,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Gc(t,l)));break;case 13:un(n,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Yc=nn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Gc(t,l)));break;case 22:h=t.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,z=Hi,F=wt;if(Hi=z||h,wt=F||R,un(n,t),wt=F,Hi=z,hn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||R||Hi||wt||Rr(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(d=R.stateNode,h)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{x=R.stateNode;var K=R.memoizedProps.style,P=K!=null&&K.hasOwnProperty("display")?K.display:null;x.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(he){Ye(R,R.return,he)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(he){Ye(R,R.return,he)}}}else if(n.tag===18){if(s===null){R=n;try{var B=R.stateNode;h?Yy(B,!0):Yy(R.stateNode,!1)}catch(he){Ye(R,R.return,he)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Gc(t,s))));break;case 19:un(n,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Gc(t,l)));break;case 30:break;case 21:break;default:un(n,t),hn(t)}}function hn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(Xg(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,d=Ad(t);Fc(t,d,h);break;case 5:var y=s.stateNode;s.flags&32&&(on(y,""),s.flags&=-33);var x=Ad(t);Fc(t,x,y);break;case 3:case 4:var R=s.stateNode.containerInfo,z=Ad(t);wd(t,z,R);break;default:throw Error(a(161))}}catch(F){Ye(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function sy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;sy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Gi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Jg(t,n.alternate,n),n=n.sibling}function Rr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ts(4,n,n.return),Rr(n);break;case 1:_i(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Yg(n,n.return,s),Rr(n);break;case 27:oo(n.stateNode);case 26:case 5:_i(n,n.return),Rr(n);break;case 22:n.memoizedState===null&&Rr(n);break;case 30:Rr(n);break;default:Rr(n)}t=t.sibling}}function Qi(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,d=n,y=d.flags;switch(d.tag){case 0:case 11:case 15:Qi(h,d,s),Jl(4,d);break;case 1:if(Qi(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Ye(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var x=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Vp(R[h],x)}catch(z){Ye(l,l.return,z)}}s&&y&64&&Qg(d),Wl(d,d.return);break;case 27:$g(d);case 26:case 5:Qi(h,d,s),s&&l===null&&y&4&&Kg(d),Wl(d,d.return);break;case 12:Qi(h,d,s);break;case 31:Qi(h,d,s),s&&y&4&&ty(h,d);break;case 13:Qi(h,d,s),s&&y&4&&ny(h,d);break;case 22:d.memoizedState===null&&Qi(h,d,s),Wl(d,d.return);break;case 30:break;default:Qi(h,d,s)}n=n.sibling}}function Cd(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&zl(s))}function Rd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&zl(t))}function $n(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ry(t,n,s,l),n=n.sibling}function ry(t,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:$n(t,n,s,l),h&2048&&Jl(9,n);break;case 1:$n(t,n,s,l);break;case 3:$n(t,n,s,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&zl(t)));break;case 12:if(h&2048){$n(t,n,s,l),t=n.stateNode;try{var d=n.memoizedProps,y=d.id,x=d.onPostCommit;typeof x=="function"&&x(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Ye(n,n.return,R)}}else $n(t,n,s,l);break;case 31:$n(t,n,s,l);break;case 13:$n(t,n,s,l);break;case 23:break;case 22:d=n.stateNode,y=n.alternate,n.memoizedState!==null?d._visibility&2?$n(t,n,s,l):eo(t,n):d._visibility&2?$n(t,n,s,l):(d._visibility|=2,Ea(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Cd(y,n);break;case 24:$n(t,n,s,l),h&2048&&Rd(n.alternate,n);break;default:$n(t,n,s,l)}}function Ea(t,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=t,y=n,x=s,R=l,z=y.flags;switch(y.tag){case 0:case 11:case 15:Ea(d,y,x,R,h),Jl(8,y);break;case 23:break;case 22:var F=y.stateNode;y.memoizedState!==null?F._visibility&2?Ea(d,y,x,R,h):eo(d,y):(F._visibility|=2,Ea(d,y,x,R,h)),h&&z&2048&&Cd(y.alternate,y);break;case 24:Ea(d,y,x,R,h),h&&z&2048&&Rd(y.alternate,y);break;default:Ea(d,y,x,R,h)}n=n.sibling}}function eo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,h=l.flags;switch(l.tag){case 22:eo(s,l),h&2048&&Cd(l.alternate,l);break;case 24:eo(s,l),h&2048&&Rd(l.alternate,l);break;default:eo(s,l)}n=n.sibling}}var to=8192;function Ta(t,n,s){if(t.subtreeFlags&to)for(t=t.child;t!==null;)ay(t,n,s),t=t.sibling}function ay(t,n,s){switch(t.tag){case 26:Ta(t,n,s),t.flags&to&&t.memoizedState!==null&&Zx(s,Xn,t.memoizedState,t.memoizedProps);break;case 5:Ta(t,n,s);break;case 3:case 4:var l=Xn;Xn=ru(t.stateNode.containerInfo),Ta(t,n,s),Xn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=to,to=16777216,Ta(t,n,s),to=l):Ta(t,n,s));break;default:Ta(t,n,s)}}function ly(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function no(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Pt=l,cy(l,t)}ly(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)oy(t),t=t.sibling}function oy(t){switch(t.tag){case 0:case 11:case 15:no(t),t.flags&2048&&Ts(9,t,t.return);break;case 3:no(t);break;case 12:no(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Qc(t)):no(t);break;default:no(t)}}function Qc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Pt=l,cy(l,t)}ly(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ts(8,n,n.return),Qc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Qc(n));break;default:Qc(n)}t=t.sibling}}function cy(t,n){for(;Pt!==null;){var s=Pt;switch(s.tag){case 0:case 11:case 15:Ts(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:zl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Pt=l;else e:for(s=t;Pt!==null;){l=Pt;var h=l.sibling,d=l.return;if(Wg(l),l===s){Pt=null;break e}if(h!==null){h.return=d,Pt=h;break e}Pt=d}}}var dx={getCacheForType:function(t){var n=Gt(Tt),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return Gt(Tt).controller.signal}},fx=typeof WeakMap=="function"?WeakMap:Map,He=0,Je=null,Ce=null,Ie=0,Qe=0,xn=null,Ss=!1,Sa=!1,Id=!1,Yi=0,ut=0,As=0,Ir=0,jd=0,En=0,Aa=0,io=null,dn=null,Dd=!1,Yc=0,uy=0,Kc=1/0,Xc=null,ws=null,Mt=0,Ns=null,wa=null,Ki=0,Md=0,Od=null,hy=null,so=0,Vd=null;function Tn(){return(He&2)!==0&&Ie!==0?Ie&-Ie:G.T!==null?qd():$o()}function dy(){if(En===0)if((Ie&536870912)===0||Me){var t=ir;ir<<=1,(ir&3932160)===0&&(ir=262144),En=t}else En=536870912;return t=_n.current,t!==null&&(t.flags|=32),En}function fn(t,n,s){(t===Je&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(Na(t,0),Cs(t,Ie,En,!1)),sr(t,s),((He&2)===0||t!==Je)&&(t===Je&&((He&2)===0&&(Ir|=s),ut===4&&Cs(t,Ie,En,!1)),bi(t))}function fy(t,n,s){if((He&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||Pn(t,n),h=l?gx(t,n):Ld(t,n,!0),d=l;do{if(h===0){Sa&&!l&&Cs(t,n,0,!1);break}else{if(s=t.current.alternate,d&&!mx(s)){h=Ld(t,n,!1),d=!1;continue}if(h===2){if(d=n,t.errorRecoveryDisabledLanes&d)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var x=t;h=io;var R=x.current.memoizedState.isDehydrated;if(R&&(Na(x,y).flags|=256),y=Ld(x,y,!1),y!==2){if(Id&&!R){x.errorRecoveryDisabledLanes|=d,Ir|=d,h=4;break e}d=dn,dn=h,d!==null&&(dn===null?dn=d:dn.push.apply(dn,d))}h=y}if(d=!1,h!==2)continue}}if(h===1){Na(t,0),Cs(t,n,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Cs(l,n,En,!Ss);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Yc+300-nn(),10<h)){if(Cs(l,n,En,!Ss),ni(l,0,!0)!==0)break e;Ki=n,l.timeoutHandle=Fy(my.bind(null,l,s,dn,Xc,Dd,n,En,Ir,Aa,Ss,d,"Throttled",-0,0),h);break e}my(l,s,dn,Xc,Dd,n,En,Ir,Aa,Ss,d,null,-0,0)}}break}while(!0);bi(t)}function my(t,n,s,l,h,d,y,x,R,z,F,K,P,B){if(t.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},ay(n,d,K);var he=(d&62914560)===d?Yc-nn():(d&4194048)===d?uy-nn():0;if(he=Jx(K,he),he!==null){Ki=d,t.cancelPendingCommit=he(Ey.bind(null,t,n,d,s,l,h,y,x,R,F,K,null,P,B)),Cs(t,d,y,!z);return}}Ey(t,n,d,s,l,h,y,x,R)}function mx(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!yn(d(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Cs(t,n,s,l){n&=~jd,n&=~Ir,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var d=31-dt(h),y=1<<d;l[d]=-1,h&=~y}s!==0&&rr(t,s,n)}function $c(){return(He&6)===0?(ro(0),!1):!0}function kd(){if(Ce!==null){if(Qe===0)var t=Ce.return;else t=Ce,Li=xr=null,Jh(t),ya=null,ql=0,t=Ce;for(;t!==null;)Gg(t.alternate,t),t=t.return;Ce=null}}function Na(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Ox(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Ki=0,kd(),Je=t,Ce=s=Vi(t.current,null),Ie=n,Qe=0,xn=null,Ss=!1,Sa=Pn(t,n),Id=!1,Aa=En=jd=Ir=As=ut=0,dn=io=null,Dd=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-dt(l),d=1<<h;n|=t[h],l&=~d}return Yi=n,yc(),s}function py(t,n){Ae=null,G.H=Xl,n===ga||n===Ac?(n=jp(),Qe=3):n===Ph?(n=jp(),Qe=4):Qe=n===md?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,xn=n,Ce===null&&(ut=1,zc(t,jn(n,t.current)))}function gy(){var t=_n.current;return t===null?!0:(Ie&4194048)===Ie?Vn===null:(Ie&62914560)===Ie||(Ie&536870912)!==0?t===Vn:!1}function yy(){var t=G.H;return G.H=Xl,t===null?Xl:t}function vy(){var t=G.A;return G.A=dx,t}function Zc(){ut=4,Ss||(Ie&4194048)!==Ie&&_n.current!==null||(Sa=!0),(As&134217727)===0&&(Ir&134217727)===0||Je===null||Cs(Je,Ie,En,!1)}function Ld(t,n,s){var l=He;He|=2;var h=yy(),d=vy();(Je!==t||Ie!==n)&&(Xc=null,Na(t,n)),n=!1;var y=ut;e:do try{if(Qe!==0&&Ce!==null){var x=Ce,R=xn;switch(Qe){case 8:kd(),y=6;break e;case 3:case 2:case 9:case 6:_n.current===null&&(n=!0);var z=Qe;if(Qe=0,xn=null,Ca(t,x,R,z),s&&Sa){y=0;break e}break;default:z=Qe,Qe=0,xn=null,Ca(t,x,R,z)}}px(),y=ut;break}catch(F){py(t,F)}while(!0);return n&&t.shellSuspendCounter++,Li=xr=null,He=l,G.H=h,G.A=d,Ce===null&&(Je=null,Ie=0,yc()),y}function px(){for(;Ce!==null;)_y(Ce)}function gx(t,n){var s=He;He|=2;var l=yy(),h=vy();Je!==t||Ie!==n?(Xc=null,Kc=nn()+500,Na(t,n)):Sa=Pn(t,n);e:do try{if(Qe!==0&&Ce!==null){n=Ce;var d=xn;t:switch(Qe){case 1:Qe=0,xn=null,Ca(t,n,d,1);break;case 2:case 9:if(Rp(d)){Qe=0,xn=null,by(n);break}n=function(){Qe!==2&&Qe!==9||Je!==t||(Qe=7),bi(t)},d.then(n,n);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Rp(d)?(Qe=0,xn=null,by(n)):(Qe=0,xn=null,Ca(t,n,d,7));break;case 5:var y=null;switch(Ce.tag){case 26:y=Ce.memoizedState;case 5:case 27:var x=Ce;if(y?r0(y):x.stateNode.complete){Qe=0,xn=null;var R=x.sibling;if(R!==null)Ce=R;else{var z=x.return;z!==null?(Ce=z,Jc(z)):Ce=null}break t}}Qe=0,xn=null,Ca(t,n,d,5);break;case 6:Qe=0,xn=null,Ca(t,n,d,6);break;case 8:kd(),ut=6;break e;default:throw Error(a(462))}}yx();break}catch(F){py(t,F)}while(!0);return Li=xr=null,G.H=l,G.A=h,He=s,Ce!==null?0:(Je=null,Ie=0,yc(),ut)}function yx(){for(;Ce!==null&&!fh();)_y(Ce)}function _y(t){var n=Hg(t.alternate,t,Yi);t.memoizedProps=t.pendingProps,n===null?Jc(t):Ce=n}function by(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Lg(s,n,n.pendingProps,n.type,void 0,Ie);break;case 11:n=Lg(s,n,n.pendingProps,n.type.render,n.ref,Ie);break;case 5:Jh(n);default:Gg(s,n),n=Ce=vp(n,Yi),n=Hg(s,n,Yi)}t.memoizedProps=t.pendingProps,n===null?Jc(t):Ce=n}function Ca(t,n,s,l){Li=xr=null,Jh(n),ya=null,ql=0;var h=n.return;try{if(rx(t,h,n,s,Ie)){ut=1,zc(t,jn(s,t.current)),Ce=null;return}}catch(d){if(h!==null)throw Ce=h,d;ut=1,zc(t,jn(s,t.current)),Ce=null;return}n.flags&32768?(Me||l===1?t=!0:Sa||(Ie&536870912)!==0?t=!1:(Ss=t=!0,(l===2||l===9||l===3||l===6)&&(l=_n.current,l!==null&&l.tag===13&&(l.flags|=16384))),xy(n,t)):Jc(n)}function Jc(t){var n=t;do{if((n.flags&32768)!==0){xy(n,Ss);return}t=n.return;var s=ox(n.alternate,n,Yi);if(s!==null){Ce=s;return}if(n=n.sibling,n!==null){Ce=n;return}Ce=n=t}while(n!==null);ut===0&&(ut=5)}function xy(t,n){do{var s=cx(t.alternate,t);if(s!==null){s.flags&=32767,Ce=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Ce=t;return}Ce=t=s}while(t!==null);ut=6,Ce=null}function Ey(t,n,s,l,h,d,y,x,R){t.cancelPendingCommit=null;do Wc();while(Mt!==0);if((He&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(d=n.lanes|n.childLanes,d|=Ah,gh(t,s,d,y,x,R),t===Je&&(Ce=Je=null,Ie=0),wa=n,Ns=t,Ki=s,Md=d,Od=h,hy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,xx(ss,function(){return Ny(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=se.p,se.p=2,y=He,He|=4;try{ux(t,n,s)}finally{He=y,se.p=h,G.T=l}}Mt=1,Ty(),Sy(),Ay()}}function Ty(){if(Mt===1){Mt=0;var t=Ns,n=wa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var l=se.p;se.p=2;var h=He;He|=4;try{iy(n,t);var d=Xd,y=cp(t.containerInfo),x=d.focusedElem,R=d.selectionRange;if(y!==x&&x&&x.ownerDocument&&op(x.ownerDocument.documentElement,x)){if(R!==null&&bh(x)){var z=R.start,F=R.end;if(F===void 0&&(F=z),"selectionStart"in x)x.selectionStart=z,x.selectionEnd=Math.min(F,x.value.length);else{var K=x.ownerDocument||document,P=K&&K.defaultView||window;if(P.getSelection){var B=P.getSelection(),he=x.textContent.length,ge=Math.min(R.start,he),Ze=R.end===void 0?ge:Math.min(R.end,he);!B.extend&&ge>Ze&&(y=Ze,Ze=ge,ge=y);var V=lp(x,ge),j=lp(x,Ze);if(V&&j&&(B.rangeCount!==1||B.anchorNode!==V.node||B.anchorOffset!==V.offset||B.focusNode!==j.node||B.focusOffset!==j.offset)){var U=K.createRange();U.setStart(V.node,V.offset),B.removeAllRanges(),ge>Ze?(B.addRange(U),B.extend(j.node,j.offset)):(U.setEnd(j.node,j.offset),B.addRange(U))}}}}for(K=[],B=x;B=B.parentNode;)B.nodeType===1&&K.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<K.length;x++){var Q=K[x];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}hu=!!Kd,Xd=Kd=null}finally{He=h,se.p=l,G.T=s}}t.current=n,Mt=2}}function Sy(){if(Mt===2){Mt=0;var t=Ns,n=wa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var l=se.p;se.p=2;var h=He;He|=4;try{Jg(t,n.alternate,n)}finally{He=h,se.p=l,G.T=s}}Mt=3}}function Ay(){if(Mt===4||Mt===3){Mt=0,Ho();var t=Ns,n=wa,s=Ki,l=hy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Mt=5:(Mt=0,wa=Ns=null,wy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ws=null),ji(s),n=n.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(zn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,h=se.p,se.p=2,G.T=null;try{for(var d=t.onRecoverableError,y=0;y<l.length;y++){var x=l[y];d(x.value,{componentStack:x.stack})}}finally{G.T=n,se.p=h}}(Ki&3)!==0&&Wc(),bi(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===Vd?so++:(so=0,Vd=t):so=0,ro(0)}}function wy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,zl(n)))}function Wc(){return Ty(),Sy(),Ay(),Ny()}function Ny(){if(Mt!==5)return!1;var t=Ns,n=Md;Md=0;var s=ji(Ki),l=G.T,h=se.p;try{se.p=32>s?32:s,G.T=null,s=Od,Od=null;var d=Ns,y=Ki;if(Mt=0,wa=Ns=null,Ki=0,(He&6)!==0)throw Error(a(331));var x=He;if(He|=4,oy(d.current),ry(d,d.current,y,s),He=x,ro(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(zn,d)}catch{}return!0}finally{se.p=h,G.T=l,wy(t,n)}}function Cy(t,n,s){n=jn(s,n),n=fd(t.stateNode,n,2),t=bs(t,n,2),t!==null&&(sr(t,2),bi(t))}function Ye(t,n,s){if(t.tag===3)Cy(t,t,s);else for(;n!==null;){if(n.tag===3){Cy(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ws===null||!ws.has(l))){t=jn(s,t),s=Rg(2),l=bs(n,s,2),l!==null&&(Ig(s,l,n,t),sr(l,2),bi(l));break}}n=n.return}}function Ud(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new fx;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Id=!0,h.add(s),t=vx.bind(null,t,n,s),n.then(t,t))}function vx(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Je===t&&(Ie&s)===s&&(ut===4||ut===3&&(Ie&62914560)===Ie&&300>nn()-Yc?(He&2)===0&&Na(t,0):jd|=s,Aa===Ie&&(Aa=0)),bi(t)}function Ry(t,n){n===0&&(n=Xo()),t=vr(t,n),t!==null&&(sr(t,n),bi(t))}function _x(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Ry(t,s)}function bx(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Ry(t,s)}function xx(t,n){return Dt(t,n)}var eu=null,Ra=null,zd=!1,tu=!1,Pd=!1,Rs=0;function bi(t){t!==Ra&&t.next===null&&(Ra===null?eu=Ra=t:Ra=Ra.next=t),tu=!0,zd||(zd=!0,Tx())}function ro(t,n){if(!Pd&&tu){Pd=!0;do for(var s=!1,l=eu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var y=l.suspendedLanes,x=l.pingedLanes;d=(1<<31-dt(42|t)+1)-1,d&=h&~(y&~x),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,My(l,d))}else d=Ie,d=ni(l,l===Je?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Pn(l,d)||(s=!0,My(l,d));l=l.next}while(s);Pd=!1}}function Ex(){Iy()}function Iy(){tu=zd=!1;var t=0;Rs!==0&&Mx()&&(t=Rs);for(var n=nn(),s=null,l=eu;l!==null;){var h=l.next,d=jy(l,n);d===0?(l.next=null,s===null?eu=h:s.next=h,h===null&&(Ra=s)):(s=l,(t!==0||(d&3)!==0)&&(tu=!0)),l=h}Mt!==0&&Mt!==5||ro(t),Rs!==0&&(Rs=0)}function jy(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var y=31-dt(d),x=1<<y,R=h[y];R===-1?((x&s)===0||(x&l)!==0)&&(h[y]=ph(x,n)):R<=n&&(t.expiredLanes|=x),d&=~x}if(n=Je,s=Ie,s=ni(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&is(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Pn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&is(l),ji(s)){case 2:case 8:s=pl;break;case 32:s=ss;break;case 268435456:s=Fo;break;default:s=ss}return l=Dy.bind(null,t),s=Dt(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&is(l),t.callbackPriority=2,t.callbackNode=null,2}function Dy(t,n){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Wc()&&t.callbackNode!==s)return null;var l=Ie;return l=ni(t,t===Je?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(fy(t,l,n),jy(t,nn()),t.callbackNode!=null&&t.callbackNode===s?Dy.bind(null,t):null)}function My(t,n){if(Wc())return null;fy(t,n,!0)}function Tx(){Vx(function(){(He&6)!==0?Dt(ml,Ex):Iy()})}function qd(){if(Rs===0){var t=ma;t===0&&(t=ei,ei<<=1,(ei&261888)===0&&(ei=256)),Rs=t}return Rs}function Oy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Wr(""+t)}function Vy(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function Sx(t,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var d=Oy((h[Ut]||null).action),y=l.submitter;y&&(n=(n=y[Ut]||null)?Oy(n.formAction):y.getAttribute("formAction"),n!==null&&(d=n,y=null));var x=new fi("action","action",null,l,h);t.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Rs!==0){var R=y?Vy(h,y):new FormData(h);ld(s,{pending:!0,data:R,method:h.method,action:d},null,R)}}else typeof d=="function"&&(x.preventDefault(),R=y?Vy(h,y):new FormData(h),ld(s,{pending:!0,data:R,method:h.method,action:d},d,R))},currentTarget:h}]})}}for(var Bd=0;Bd<Sh.length;Bd++){var Hd=Sh[Bd],Ax=Hd.toLowerCase(),wx=Hd[0].toUpperCase()+Hd.slice(1);Kn(Ax,"on"+wx)}Kn(dp,"onAnimationEnd"),Kn(fp,"onAnimationIteration"),Kn(mp,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(Bb,"onTransitionRun"),Kn(Hb,"onTransitionStart"),Kn(Fb,"onTransitionCancel"),Kn(pp,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ao));function ky(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var y=l.length-1;0<=y;y--){var x=l[y],R=x.instance,z=x.currentTarget;if(x=x.listener,R!==d&&h.isPropagationStopped())break e;d=x,h.currentTarget=z;try{d(h)}catch(F){gc(F)}h.currentTarget=null,d=R}else for(y=0;y<l.length;y++){if(x=l[y],R=x.instance,z=x.currentTarget,x=x.listener,R!==d&&h.isPropagationStopped())break e;d=x,h.currentTarget=z;try{d(h)}catch(F){gc(F)}h.currentTarget=null,d=R}}}}function Re(t,n){var s=n[Kr];s===void 0&&(s=n[Kr]=new Set);var l=t+"__bubble";s.has(l)||(Ly(n,t,2,!1),s.add(l))}function Fd(t,n,s){var l=0;n&&(l|=4),Ly(s,t,l,n)}var nu="_reactListening"+Math.random().toString(36).slice(2);function Gd(t){if(!t[nu]){t[nu]=!0,vl.forEach(function(s){s!=="selectionchange"&&(Nx.has(s)||Fd(s,!1,t),Fd(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[nu]||(n[nu]=!0,Fd("selectionchange",!1,n))}}function Ly(t,n,s,l){switch(d0(n)){case 2:var h=tE;break;case 8:h=nE;break;default:h=lf}s=h.bind(null,n,s,t),h=void 0,!ur||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function Qd(t,n,s,l,h){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var x=l.stateNode.containerInfo;if(x===h)break;if(y===4)for(y=l.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;x!==null;){if(y=ai(x),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){l=d=y;continue e}x=x.parentNode}}l=l.return}us(function(){var z=d,F=Nn(s),K=[];e:{var P=gp.get(t);if(P!==void 0){var B=fi,he=t;switch(t){case"keypress":if(dr(s)===0)break e;case"keydown":case"keyup":B=fc;break;case"focusin":he="focus",B=mr;break;case"focusout":he="blur",B=mr;break;case"beforeblur":case"afterblur":B=mr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=jl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=sc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=p;break;case dp:case fp:case mp:B=ac;break;case pp:B=T;break;case"scroll":case"scrollend":B=Il;break;case"wheel":B=q;break;case"copy":case"cut":case"paste":B=lc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Oi;break;case"toggle":case"beforetoggle":B=Se}var ge=(n&4)!==0,Ze=!ge&&(t==="scroll"||t==="scrollend"),V=ge?P!==null?P+"Capture":null:P;ge=[];for(var j=z,U;j!==null;){var Q=j;if(U=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||U===null||V===null||(Q=Fn(j,V),Q!=null&&ge.push(lo(j,Q,U))),Ze)break;j=j.return}0<ge.length&&(P=new B(P,he,null,s,F),K.push({event:P,listeners:ge}))}}if((n&7)===0){e:{if(P=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",P&&s!==Nl&&(he=s.relatedTarget||s.fromElement)&&(ai(he)||he[si]))break e;if((B||P)&&(P=F.window===F?F:(P=F.ownerDocument)?P.defaultView||P.parentWindow:window,B?(he=s.relatedTarget||s.toElement,B=z,he=he?ai(he):null,he!==null&&(Ze=u(he),ge=he.tag,he!==Ze||ge!==5&&ge!==27&&ge!==6)&&(he=null)):(B=null,he=z),B!==he)){if(ge=jl,Q="onMouseLeave",V="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(ge=Oi,Q="onPointerLeave",V="onPointerEnter",j="pointer"),Ze=B==null?P:pn(B),U=he==null?P:pn(he),P=new ge(Q,j+"leave",B,s,F),P.target=Ze,P.relatedTarget=U,Q=null,ai(F)===z&&(ge=new ge(V,j+"enter",he,s,F),ge.target=U,ge.relatedTarget=Ze,Q=ge),Ze=Q,B&&he)t:{for(ge=Cx,V=B,j=he,U=0,Q=V;Q;Q=ge(Q))U++;Q=0;for(var me=j;me;me=ge(me))Q++;for(;0<U-Q;)V=ge(V),U--;for(;0<Q-U;)j=ge(j),Q--;for(;U--;){if(V===j||j!==null&&V===j.alternate){ge=V;break t}V=ge(V),j=ge(j)}ge=null}else ge=null;B!==null&&Uy(K,P,B,ge,!1),he!==null&&Ze!==null&&Uy(K,Ze,he,ge,!0)}}e:{if(P=z?pn(z):window,B=P.nodeName&&P.nodeName.toLowerCase(),B==="select"||B==="input"&&P.type==="file")var Pe=tp;else if(Wm(P))if(np)Pe=zb;else{Pe=Lb;var de=kb}else B=P.nodeName,!B||B.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?z&&Jr(z.elementType)&&(Pe=tp):Pe=Ub;if(Pe&&(Pe=Pe(t,z))){ep(K,Pe,s,F);break e}de&&de(t,P,z),t==="focusout"&&z&&P.type==="number"&&z.memoizedProps.value!=null&&Sl(P,"number",P.value)}switch(de=z?pn(z):window,t){case"focusin":(Wm(de)||de.contentEditable==="true")&&(aa=de,xh=z,kl=null);break;case"focusout":kl=xh=aa=null;break;case"mousedown":Eh=!0;break;case"contextmenu":case"mouseup":case"dragend":Eh=!1,up(K,s,F);break;case"selectionchange":if(qb)break;case"keydown":case"keyup":up(K,s,F)}var Ne;if(Be)e:{switch(t){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else ra?pr(t,s)&&(je="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(je="onCompositionStart");je&&(gi&&s.locale!=="ko"&&(ra||je!=="onCompositionStart"?je==="onCompositionEnd"&&ra&&(Ne=Rl()):(di=F,Cl="value"in di?di.value:di.textContent,ra=!0)),de=iu(z,je),0<de.length&&(je=new pi(je,t,null,s,F),K.push({event:je,listeners:de}),Ne?je.data=Ne:(Ne=sa(s),Ne!==null&&(je.data=Ne)))),(Ne=Rn?Db(t,s):Mb(t,s))&&(je=iu(z,"onBeforeInput"),0<je.length&&(de=new pi("onBeforeInput","beforeinput",null,s,F),K.push({event:de,listeners:je}),de.data=Ne)),Sx(K,t,z,s,F)}ky(K,n)})}function lo(t,n,s){return{instance:t,listener:n,currentTarget:s}}function iu(t,n){for(var s=n+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Fn(t,s),h!=null&&l.unshift(lo(t,h,d)),h=Fn(t,n),h!=null&&l.push(lo(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Cx(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Uy(t,n,s,l,h){for(var d=n._reactName,y=[];s!==null&&s!==l;){var x=s,R=x.alternate,z=x.stateNode;if(x=x.tag,R!==null&&R===l)break;x!==5&&x!==26&&x!==27||z===null||(R=z,h?(z=Fn(s,d),z!=null&&y.unshift(lo(s,z,R))):h||(z=Fn(s,d),z!=null&&y.push(lo(s,z,R)))),s=s.return}y.length!==0&&t.push({event:n,listeners:y})}var Rx=/\r\n?/g,Ix=/\u0000|\uFFFD/g;function zy(t){return(typeof t=="string"?t:""+t).replace(Rx,`
`).replace(Ix,"")}function Py(t,n){return n=zy(n),zy(t)===n}function $e(t,n,s,l,h,d){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||on(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&on(t,""+l);break;case"className":gn(t,"class",l);break;case"tabIndex":gn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(t,s,l);break;case"style":wl(t,l,d);break;case"data":if(n!=="object"){gn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Wr(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(n!=="input"&&$e(t,n,"name",h.name,h,null),$e(t,n,"formEncType",h.formEncType,h,null),$e(t,n,"formMethod",h.formMethod,h,null),$e(t,n,"formTarget",h.formTarget,h,null)):($e(t,n,"encType",h.encType,h,null),$e(t,n,"method",h.method,h,null),$e(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Wr(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Hn);break;case"onScroll":l!=null&&Re("scroll",t);break;case"onScrollEnd":l!=null&&Re("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Wr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Re("beforetoggle",t),Re("toggle",t),$r(t,"popover",l);break;case"xlinkActuate":Et(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Et(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Et(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Et(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Et(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Et(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Et(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Et(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Et(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":$r(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=ic.get(s)||s,$r(t,s,l))}}function Yd(t,n,s,l,h,d){switch(s){case"style":wl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?on(t,l):(typeof l=="number"||typeof l=="bigint")&&on(t,""+l);break;case"onScroll":l!=null&&Re("scroll",t);break;case"onScrollEnd":l!=null&&Re("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_l.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),d=t[Ut]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):$r(t,s,l)}}}function Yt(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",t),Re("load",t);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var y=s[d];if(y!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$e(t,n,d,y,s,null)}}h&&$e(t,n,"srcSet",s.srcSet,s,null),l&&$e(t,n,"src",s.src,s,null);return;case"input":Re("invalid",t);var x=d=y=h=null,R=null,z=null;for(l in s)if(s.hasOwnProperty(l)){var F=s[l];if(F!=null)switch(l){case"name":h=F;break;case"type":y=F;break;case"checked":R=F;break;case"defaultChecked":z=F;break;case"value":d=F;break;case"defaultValue":x=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:$e(t,n,l,F,s,null)}}ec(t,d,x,R,z,y,h,!1);return;case"select":Re("invalid",t),l=y=d=null;for(h in s)if(s.hasOwnProperty(h)&&(x=s[h],x!=null))switch(h){case"value":d=x;break;case"defaultValue":y=x;break;case"multiple":l=x;default:$e(t,n,h,x,s,null)}n=d,s=y,t.multiple=!!l,n!=null?as(t,!!l,n,!1):s!=null&&as(t,!!l,s,!0);return;case"textarea":Re("invalid",t),d=h=l=null;for(y in s)if(s.hasOwnProperty(y)&&(x=s[y],x!=null))switch(y){case"value":l=x;break;case"defaultValue":h=x;break;case"children":d=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(a(91));break;default:$e(t,n,y,x,s,null)}ls(t,l,h,d);return;case"option":for(R in s)if(s.hasOwnProperty(R)&&(l=s[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$e(t,n,R,l,s,null)}return;case"dialog":Re("beforetoggle",t),Re("toggle",t),Re("cancel",t),Re("close",t);break;case"iframe":case"object":Re("load",t);break;case"video":case"audio":for(l=0;l<ao.length;l++)Re(ao[l],t);break;case"image":Re("error",t),Re("load",t);break;case"details":Re("toggle",t);break;case"embed":case"source":case"link":Re("error",t),Re("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(l=s[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$e(t,n,z,l,s,null)}return;default:if(Jr(n)){for(F in s)s.hasOwnProperty(F)&&(l=s[F],l!==void 0&&Yd(t,n,F,l,s,void 0));return}}for(x in s)s.hasOwnProperty(x)&&(l=s[x],l!=null&&$e(t,n,x,l,s,null))}function jx(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,y=null,x=null,R=null,z=null,F=null;for(B in s){var K=s[B];if(s.hasOwnProperty(B)&&K!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":R=K;default:l.hasOwnProperty(B)||$e(t,n,B,null,l,K)}}for(var P in l){var B=l[P];if(K=s[P],l.hasOwnProperty(P)&&(B!=null||K!=null))switch(P){case"type":d=B;break;case"name":h=B;break;case"checked":z=B;break;case"defaultChecked":F=B;break;case"value":y=B;break;case"defaultValue":x=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:B!==K&&$e(t,n,P,B,l,K)}}Zr(t,y,x,R,z,F,d,h);return;case"select":B=y=x=P=null;for(d in s)if(R=s[d],s.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":B=R;default:l.hasOwnProperty(d)||$e(t,n,d,null,l,R)}for(h in l)if(d=l[h],R=s[h],l.hasOwnProperty(h)&&(d!=null||R!=null))switch(h){case"value":P=d;break;case"defaultValue":x=d;break;case"multiple":y=d;default:d!==R&&$e(t,n,h,d,l,R)}n=x,s=y,l=B,P!=null?as(t,!!s,P,!1):!!l!=!!s&&(n!=null?as(t,!!s,n,!0):as(t,!!s,s?[]:"",!1));return;case"textarea":B=P=null;for(x in s)if(h=s[x],s.hasOwnProperty(x)&&h!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:$e(t,n,x,null,l,h)}for(y in l)if(h=l[y],d=s[y],l.hasOwnProperty(y)&&(h!=null||d!=null))switch(y){case"value":P=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&$e(t,n,y,h,l,d)}tc(t,P,B);return;case"option":for(var he in s)if(P=s[he],s.hasOwnProperty(he)&&P!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:$e(t,n,he,null,l,P)}for(R in l)if(P=l[R],B=s[R],l.hasOwnProperty(R)&&P!==B&&(P!=null||B!=null))switch(R){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:$e(t,n,R,P,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in s)P=s[ge],s.hasOwnProperty(ge)&&P!=null&&!l.hasOwnProperty(ge)&&$e(t,n,ge,null,l,P);for(z in l)if(P=l[z],B=s[z],l.hasOwnProperty(z)&&P!==B&&(P!=null||B!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,n));break;default:$e(t,n,z,P,l,B)}return;default:if(Jr(n)){for(var Ze in s)P=s[Ze],s.hasOwnProperty(Ze)&&P!==void 0&&!l.hasOwnProperty(Ze)&&Yd(t,n,Ze,void 0,l,P);for(F in l)P=l[F],B=s[F],!l.hasOwnProperty(F)||P===B||P===void 0&&B===void 0||Yd(t,n,F,P,l,B);return}}for(var V in s)P=s[V],s.hasOwnProperty(V)&&P!=null&&!l.hasOwnProperty(V)&&$e(t,n,V,null,l,P);for(K in l)P=l[K],B=s[K],!l.hasOwnProperty(K)||P===B||P==null&&B==null||$e(t,n,K,P,l,B)}function qy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Dx(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],d=h.transferSize,y=h.initiatorType,x=h.duration;if(d&&x&&qy(y)){for(y=0,x=h.responseEnd,l+=1;l<s.length;l++){var R=s[l],z=R.startTime;if(z>x)break;var F=R.transferSize,K=R.initiatorType;F&&qy(K)&&(R=R.responseEnd,y+=F*(R<x?1:(x-z)/(R-z)))}if(--l,n+=8*(d+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Kd=null,Xd=null;function su(t){return t.nodeType===9?t:t.ownerDocument}function By(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function $d(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Zd=null;function Mx(){var t=window.event;return t&&t.type==="popstate"?t===Zd?!1:(Zd=t,!0):(Zd=null,!1)}var Fy=typeof setTimeout=="function"?setTimeout:void 0,Ox=typeof clearTimeout=="function"?clearTimeout:void 0,Gy=typeof Promise=="function"?Promise:void 0,Vx=typeof queueMicrotask=="function"?queueMicrotask:typeof Gy<"u"?function(t){return Gy.resolve(null).then(t).catch(kx)}:Fy;function kx(t){setTimeout(function(){throw t})}function Is(t){return t==="head"}function Qy(t,n){var s=n,l=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(h),Ma(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")oo(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,oo(s);for(var d=s.firstChild;d;){var y=d.nextSibling,x=d.nodeName;d[ri]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=y}}else s==="body"&&oo(t.ownerDocument.body);s=h}while(s);Ma(n)}function Yy(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function Jd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Jd(s),Xr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Lx(t,n,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ri])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=kn(t.nextSibling),t===null)break}return null}function Ux(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=kn(t.nextSibling),t===null))return null;return t}function Ky(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=kn(t.nextSibling),t===null))return null;return t}function Wd(t){return t.data==="$?"||t.data==="$~"}function ef(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function zx(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function kn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var tf=null;function Xy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return kn(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function $y(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function Zy(t,n,s){switch(n=su(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function oo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Xr(t)}var Ln=new Map,Jy=new Set;function ru(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Xi=se.d;se.d={f:Px,r:qx,D:Bx,C:Hx,L:Fx,m:Gx,X:Yx,S:Qx,M:Kx};function Px(){var t=Xi.f(),n=$c();return t||n}function qx(t){var n=wn(t);n!==null&&n.tag===5&&n.type==="form"?pg(n):Xi.r(t)}var Ia=typeof document>"u"?null:document;function Wy(t,n,s){var l=Ia;if(l&&typeof n=="string"&&n){var h=ln(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Jy.has(h)||(Jy.add(h),t={rel:t,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Yt(n,"link",t),xt(n),l.head.appendChild(n)))}}function Bx(t){Xi.D(t),Wy("dns-prefetch",t,null)}function Hx(t,n){Xi.C(t,n),Wy("preconnect",t,n)}function Fx(t,n,s){Xi.L(t,n,s);var l=Ia;if(l&&t&&n){var h='link[rel="preload"][as="'+ln(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+ln(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+ln(s.imageSizes)+'"]')):h+='[href="'+ln(t)+'"]';var d=h;switch(n){case"style":d=ja(t);break;case"script":d=Da(t)}Ln.has(d)||(t=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Ln.set(d,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(co(d))||n==="script"&&l.querySelector(uo(d))||(n=l.createElement("link"),Yt(n,"link",t),xt(n),l.head.appendChild(n)))}}function Gx(t,n){Xi.m(t,n);var s=Ia;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+ln(l)+'"][href="'+ln(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Da(t)}if(!Ln.has(d)&&(t=S({rel:"modulepreload",href:t},n),Ln.set(d,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(uo(d)))return}l=s.createElement("link"),Yt(l,"link",t),xt(l),s.head.appendChild(l)}}}function Qx(t,n,s){Xi.S(t,n,s);var l=Ia;if(l&&t){var h=li(l).hoistableStyles,d=ja(t);n=n||"default";var y=h.get(d);if(!y){var x={loading:0,preload:null};if(y=l.querySelector(co(d)))x.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Ln.get(d))&&nf(t,s);var R=y=l.createElement("link");xt(R),Yt(R,"link",t),R._p=new Promise(function(z,F){R.onload=z,R.onerror=F}),R.addEventListener("load",function(){x.loading|=1}),R.addEventListener("error",function(){x.loading|=2}),x.loading|=4,au(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:x},h.set(d,y)}}}function Yx(t,n){Xi.X(t,n);var s=Ia;if(s&&t){var l=li(s).hoistableScripts,h=Da(t),d=l.get(h);d||(d=s.querySelector(uo(h)),d||(t=S({src:t,async:!0},n),(n=Ln.get(h))&&sf(t,n),d=s.createElement("script"),xt(d),Yt(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Kx(t,n){Xi.M(t,n);var s=Ia;if(s&&t){var l=li(s).hoistableScripts,h=Da(t),d=l.get(h);d||(d=s.querySelector(uo(h)),d||(t=S({src:t,async:!0,type:"module"},n),(n=Ln.get(h))&&sf(t,n),d=s.createElement("script"),xt(d),Yt(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function e0(t,n,s,l){var h=(h=we.current)?ru(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=ja(s.href),s=li(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=ja(s.href);var d=li(h).hoistableStyles,y=d.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,y),(d=h.querySelector(co(t)))&&!d._p&&(y.instance=d,y.state.loading=5),Ln.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Ln.set(t,s),d||Xx(h,t,s,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Da(s),s=li(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ja(t){return'href="'+ln(t)+'"'}function co(t){return'link[rel="stylesheet"]['+t+"]"}function t0(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function Xx(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Yt(n,"link",s),xt(n),t.head.appendChild(n))}function Da(t){return'[src="'+ln(t)+'"]'}function uo(t){return"script[async]"+t}function n0(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ln(s.href)+'"]');if(l)return n.instance=l,xt(l),l;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),xt(l),Yt(l,"style",h),au(l,s.precedence,t),n.instance=l;case"stylesheet":h=ja(s.href);var d=t.querySelector(co(h));if(d)return n.state.loading|=4,n.instance=d,xt(d),d;l=t0(s),(h=Ln.get(h))&&nf(l,h),d=(t.ownerDocument||t).createElement("link"),xt(d);var y=d;return y._p=new Promise(function(x,R){y.onload=x,y.onerror=R}),Yt(d,"link",l),n.state.loading|=4,au(d,s.precedence,t),n.instance=d;case"script":return d=Da(s.src),(h=t.querySelector(uo(d)))?(n.instance=h,xt(h),h):(l=s,(h=Ln.get(d))&&(l=S({},s),sf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),xt(h),Yt(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,au(l,s.precedence,t));return n.instance}function au(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,y=0;y<l.length;y++){var x=l[y];if(x.dataset.precedence===n)d=x;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function nf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function sf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var lu=null;function i0(t,n,s){if(lu===null){var l=new Map,h=lu=new Map;h.set(s,l)}else h=lu,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var d=s[h];if(!(d[ri]||d[bt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(n)||"";y=t+y;var x=l.get(y);x?x.push(d):l.set(y,[d])}}return l}function s0(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function $x(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function r0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Zx(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=ja(l.href),d=n.querySelector(co(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=ou.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=d,xt(d);return}d=n.ownerDocument||n,l=t0(l),(h=Ln.get(h))&&nf(l,h),d=d.createElement("link"),xt(d);var y=d;y._p=new Promise(function(x,R){y.onload=x,y.onerror=R}),Yt(d,"link",l),s.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=ou.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var rf=0;function Jx(t,n){return t.stylesheets&&t.count===0&&uu(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&uu(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+n);0<t.imgBytes&&rf===0&&(rf=62500*Dx());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&uu(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>rf?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function ou(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var cu=null;function uu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,cu=new Map,n.forEach(Wx,t),cu=null,ou.call(t))}function Wx(t,n){if(!(n.state.loading&4)){var s=cu.get(t);if(s)var l=s.get(null);else{s=new Map,cu.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var y=h[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),l=y)}l&&s.set(null,l)}h=n.instance,y=h.getAttribute("data-precedence"),d=s.get(y)||l,d===l&&s.set(null,h),s.set(y,h),this.count++,l=ou.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var ho={$$typeof:ie,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function eE(t,n,s,l,h,d,y,x,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function a0(t,n,s,l,h,d,y,x,R,z,F,K){return t=new eE(t,n,s,y,R,z,F,K,x),n=1,d===!0&&(n|=24),d=vn(3,null,null,n),t.current=d,d.stateNode=t,n=Lh(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:n},qh(d),t}function l0(t){return t?(t=ca,t):ca}function o0(t,n,s,l,h,d){h=l0(h),l.context===null?l.context=h:l.pendingContext=h,l=_s(n),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=bs(t,l,n),s!==null&&(fn(s,t,n),Hl(s,t,n))}function c0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function af(t,n){c0(t,n),(t=t.alternate)&&c0(t,n)}function u0(t){if(t.tag===13||t.tag===31){var n=vr(t,67108864);n!==null&&fn(n,t,67108864),af(t,67108864)}}function h0(t){if(t.tag===13||t.tag===31){var n=Tn();n=ar(n);var s=vr(t,n);s!==null&&fn(s,t,n),af(t,n)}}var hu=!0;function tE(t,n,s,l){var h=G.T;G.T=null;var d=se.p;try{se.p=2,lf(t,n,s,l)}finally{se.p=d,G.T=h}}function nE(t,n,s,l){var h=G.T;G.T=null;var d=se.p;try{se.p=8,lf(t,n,s,l)}finally{se.p=d,G.T=h}}function lf(t,n,s,l){if(hu){var h=of(l);if(h===null)Qd(t,n,l,du,s),f0(t,l);else if(sE(h,t,n,s,l))l.stopPropagation();else if(f0(t,l),n&4&&-1<iE.indexOf(t)){for(;h!==null;){var d=wn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=ti(d.pendingLanes);if(y!==0){var x=d;for(x.pendingLanes|=2,x.entangledLanes|=2;y;){var R=1<<31-dt(y);x.entanglements[1]|=R,y&=~R}bi(d),(He&6)===0&&(Kc=nn()+500,ro(0))}}break;case 31:case 13:x=vr(d,2),x!==null&&fn(x,d,2),$c(),af(d,2)}if(d=of(l),d===null&&Qd(t,n,l,du,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else Qd(t,n,l,null,s)}}function of(t){return t=Nn(t),cf(t)}var du=null;function cf(t){if(du=null,t=ai(t),t!==null){var n=u(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=f(n),t!==null)return t;t=null}else if(s===31){if(t=g(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return du=t,null}function d0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nr()){case ml:return 2;case pl:return 8;case ss:case mh:return 32;case Fo:return 268435456;default:return 32}default:return 32}}var uf=!1,js=null,Ds=null,Ms=null,fo=new Map,mo=new Map,Os=[],iE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function f0(t,n){switch(t){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":fo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":mo.delete(n.pointerId)}}function po(t,n,s,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=wn(n),n!==null&&u0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function sE(t,n,s,l,h){switch(n){case"focusin":return js=po(js,t,n,s,l,h),!0;case"dragenter":return Ds=po(Ds,t,n,s,l,h),!0;case"mouseover":return Ms=po(Ms,t,n,s,l,h),!0;case"pointerover":var d=h.pointerId;return fo.set(d,po(fo.get(d)||null,t,n,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,mo.set(d,po(mo.get(d)||null,t,n,s,l,h)),!0}return!1}function m0(t){var n=ai(t.target);if(n!==null){var s=u(n);if(s!==null){if(n=s.tag,n===13){if(n=f(s),n!==null){t.blockedOn=n,qn(t.priority,function(){h0(s)});return}}else if(n===31){if(n=g(s),n!==null){t.blockedOn=n,qn(t.priority,function(){h0(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=of(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Nl=l,s.target.dispatchEvent(l),Nl=null}else return n=wn(s),n!==null&&u0(n),t.blockedOn=s,!1;n.shift()}return!0}function p0(t,n,s){fu(t)&&s.delete(n)}function rE(){uf=!1,js!==null&&fu(js)&&(js=null),Ds!==null&&fu(Ds)&&(Ds=null),Ms!==null&&fu(Ms)&&(Ms=null),fo.forEach(p0),mo.forEach(p0)}function mu(t,n){t.blockedOn===n&&(t.blockedOn=null,uf||(uf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,rE)))}var pu=null;function g0(t){pu!==t&&(pu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){pu===t&&(pu=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(cf(l||s)===null)continue;break}var d=wn(s);d!==null&&(t.splice(n,3),n-=3,ld(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Ma(t){function n(R){return mu(R,t)}js!==null&&mu(js,t),Ds!==null&&mu(Ds,t),Ms!==null&&mu(Ms,t),fo.forEach(n),mo.forEach(n);for(var s=0;s<Os.length;s++){var l=Os[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Os.length&&(s=Os[0],s.blockedOn===null);)m0(s),s.blockedOn===null&&Os.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],y=h[Ut]||null;if(typeof d=="function")y||g0(s);else if(y){var x=null;if(d&&d.hasAttribute("formAction")){if(h=d,y=d[Ut]||null)x=y.formAction;else if(cf(h)!==null)continue}else x=y.action;typeof x=="function"?s[l+1]=x:(s.splice(l,3),l-=3),g0(s)}}}function y0(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function hf(t){this._internalRoot=t}gu.prototype.render=hf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=Tn();o0(s,l,t,n,null,null)},gu.prototype.unmount=hf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;o0(t.current,2,null,t,null,null),$c(),n[si]=null}};function gu(t){this._internalRoot=t}gu.prototype.unstable_scheduleHydration=function(t){if(t){var n=$o();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Os.length&&n!==0&&n<Os[s].priority;s++);Os.splice(s,0,t),s===0&&m0(t)}};var v0=e.version;if(v0!=="19.2.0")throw Error(a(527,v0,"19.2.0"));se.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var aE={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yu.isDisabled&&yu.supportsFiber)try{zn=yu.inject(aE),Bt=yu}catch{}}return yo.createRoot=function(t,n){if(!o(t))throw Error(a(299));var s=!1,l="",h=Ag,d=wg,y=Ng;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=a0(t,1,!1,null,null,s,l,null,h,d,y,y0),t[si]=n.current,Gd(t),new hf(n)},yo.hydrateRoot=function(t,n,s){if(!o(t))throw Error(a(299));var l=!1,h="",d=Ag,y=wg,x=Ng,R=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=a0(t,1,!0,n,s??null,l,h,R,d,y,x,y0),n.context=l0(null),s=n.current,l=Tn(),l=ar(l),h=_s(l),h.callback=null,bs(s,h,l),s=l,n.current.lanes=s,sr(n,s),bi(n),t[si]=n.current,Gd(t),new gu(n)},yo.version="19.2.0",yo}var C0;function yE(){if(C0)return mf.exports;C0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),mf.exports=gE(),mf.exports}var vE=yE(),l_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},R0=Mr.createContext&&Mr.createContext(l_),_E=["attr","size","title"];function bE(r,e){if(r==null)return{};var i=xE(r,e),a,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)a=u[o],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(i[a]=r[a])}return i}function xE(r,e){if(r==null)return{};var i={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;i[a]=r[a]}return i}function Ou(){return Ou=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])}return r},Ou.apply(this,arguments)}function I0(r,e){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),i.push.apply(i,a)}return i}function Vu(r){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?I0(Object(i),!0).forEach(function(a){EE(r,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):I0(Object(i)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(i,a))})}return r}function EE(r,e,i){return e=TE(e),e in r?Object.defineProperty(r,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[e]=i,r}function TE(r){var e=SE(r,"string");return typeof e=="symbol"?e:e+""}function SE(r,e){if(typeof r!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var a=i.call(r,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function o_(r){return r&&r.map((e,i)=>Mr.createElement(e.tag,Vu({key:i},e.attr),o_(e.child)))}function ht(r){return e=>Mr.createElement(AE,Ou({attr:Vu({},r.attr)},e),o_(r.child))}function AE(r){var e=i=>{var{attr:a,size:o,title:u}=r,f=bE(r,_E),g=o||i.size||"1em",v;return i.className&&(v=i.className),r.className&&(v=(v?v+" ":"")+r.className),Mr.createElement("svg",Ou({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,a,f,{className:v,style:Vu(Vu({color:r.color||i.color},i.style),r.style),height:g,width:g,xmlns:"http://www.w3.org/2000/svg"}),u&&Mr.createElement("title",null,u),r.children)};return R0!==void 0?Mr.createElement(R0.Consumer,null,i=>e(i)):e(l_)}function om(r){return ht({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(r)}function c_(r){return ht({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(r)}function wE(r){return ht({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"},child:[]},{tag:"path",attr:{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"},child:[]}]})(r)}function jf(r){return ht({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"},child:[]}]})(r)}function NE(r){return ht({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(r)}function CE(r){return ht({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(r)}function cm(r){return ht({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(r)}function RE(r){return ht({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(r)}function IE(r){return ht({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"4",y:"4",width:"16",height:"16",rx:"2",ry:"2"},child:[]},{tag:"rect",attr:{x:"9",y:"9",width:"6",height:"6"},child:[]},{tag:"line",attr:{x1:"9",y1:"1",x2:"9",y2:"4"},child:[]},{tag:"line",attr:{x1:"15",y1:"1",x2:"15",y2:"4"},child:[]},{tag:"line",attr:{x1:"9",y1:"20",x2:"9",y2:"23"},child:[]},{tag:"line",attr:{x1:"15",y1:"20",x2:"15",y2:"23"},child:[]},{tag:"line",attr:{x1:"20",y1:"9",x2:"23",y2:"9"},child:[]},{tag:"line",attr:{x1:"20",y1:"14",x2:"23",y2:"14"},child:[]},{tag:"line",attr:{x1:"1",y1:"9",x2:"4",y2:"9"},child:[]},{tag:"line",attr:{x1:"1",y1:"14",x2:"4",y2:"14"},child:[]}]})(r)}function jE(r){return ht({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"},child:[]}]})(r)}function u_(r){return ht({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"},child:[]},{tag:"line",attr:{x1:"4",y1:"22",x2:"4",y2:"15"},child:[]}]})(r)}function DE(r){return ht({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"9",x2:"20",y2:"9"},child:[]},{tag:"line",attr:{x1:"4",y1:"15",x2:"20",y2:"15"},child:[]},{tag:"line",attr:{x1:"10",y1:"3",x2:"8",y2:"21"},child:[]},{tag:"line",attr:{x1:"16",y1:"3",x2:"14",y2:"21"},child:[]}]})(r)}function ME(r){return ht({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(r)}function OE(r){return ht({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(r)}function h_(r){return ht({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(r)}function d_(r){return ht({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"},child:[]}]})(r)}function VE(r){return ht({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"},child:[]},{tag:"path",attr:{d:"M19 10v2a7 7 0 0 1-14 0v-2"},child:[]},{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"8",y1:"23",x2:"16",y2:"23"},child:[]}]})(r)}function kE(r){return ht({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M8 14s1.5 2 4 2 4-2 4-2"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"9.01",y2:"9"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"15.01",y2:"9"},child:[]}]})(r)}function LE(r){return ht({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(r)}function j0(r){return ht({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"4 7 4 4 20 4 20 7"},child:[]},{tag:"line",attr:{x1:"9",y1:"20",x2:"15",y2:"20"},child:[]},{tag:"line",attr:{x1:"12",y1:"4",x2:"12",y2:"20"},child:[]}]})(r)}function Df(r){return ht({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(r)}function f_(r){return ht({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(r)}const UE=()=>{};var D0={};const m_=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},zE=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[i++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[i++],f=r[i++],g=r[i++],v=((o&7)<<18|(u&63)<<12|(f&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(v>>10)),e[a++]=String.fromCharCode(56320+(v&1023))}else{const u=r[i++],f=r[i++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},p_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,g=f?r[o+1]:0,v=o+2<r.length,_=v?r[o+2]:0,E=u>>2,S=(u&3)<<4|g>>4;let w=(g&15)<<2|_>>6,H=_&63;v||(H=64,f||(w=64)),a.push(i[E],i[S],i[w],i[H])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(m_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):zE(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const S=o<r.length?i[r.charAt(o)]:64;if(++o,u==null||g==null||_==null||S==null)throw new PE;const w=u<<2|g>>4;if(a.push(w),_!==64){const H=g<<4&240|_>>2;if(a.push(H),S!==64){const Y=_<<6&192|S;a.push(Y)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class PE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qE=function(r){const e=m_(r);return p_.encodeByteArray(e,!0)},ku=function(r){return qE(r).replace(/\./g,"")},g_=function(r){try{return p_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function BE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const HE=()=>BE().__FIREBASE_DEFAULTS__,FE=()=>{if(typeof process>"u"||typeof D0>"u")return;const r=D0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},GE=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&g_(r[1]);return e&&JSON.parse(e)},Ju=()=>{try{return UE()||HE()||FE()||GE()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},y_=r=>Ju()?.emulatorHosts?.[r],QE=r=>{const e=y_(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},v_=()=>Ju()?.config,__=r=>Ju()?.[`_${r}`];class YE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function il(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function b_(r){return(await fetch(r,{credentials:"include"})).ok}function KE(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[ku(JSON.stringify(i)),ku(JSON.stringify(f)),""].join(".")}const xo={};function XE(){const r={prod:[],emulator:[]};for(const e of Object.keys(xo))xo[e]?r.emulator.push(e):r.prod.push(e);return r}function $E(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let M0=!1;function x_(r,e){if(typeof window>"u"||typeof document>"u"||!il(window.location.host)||xo[r]===e||xo[r]||M0)return;xo[r]=e;function i(w){return`__firebase__banner__${w}`}const a="__firebase__banner",u=XE().prod.length>0;function f(){const w=document.getElementById(a);w&&w.remove()}function g(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function v(w,H){w.setAttribute("width","24"),w.setAttribute("id",H),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function _(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{M0=!0,f()},w}function E(w,H){w.setAttribute("id",H),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function S(){const w=$E(a),H=i("text"),Y=document.getElementById(H)||document.createElement("span"),W=i("learnmore"),$=document.getElementById(W)||document.createElement("a"),ne=i("preprendIcon"),ae=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ie=w.element;g(ie),E($,W);const le=_();v(ae,ne),ie.append(ae,Y,$,le),document.body.appendChild(ie)}u?(Y.innerText="Preview backend disconnected.",ae.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ae.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function JE(){const r=Ju()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eT(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function tT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nT(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function iT(){return!JE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sT(){try{return typeof indexedDB=="object"}catch{return!1}}function rT(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const aT="FirebaseError";class ns extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=aT,Object.setPrototypeOf(this,ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Oo.prototype.create)}}class Oo{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?lT(u,a):"Error",g=`${this.serviceName}: ${f} (${o}).`;return new ns(o,g,a)}}function lT(r,e){return r.replace(oT,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const oT=/\{\$([^}]+)}/g;function cT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Lr(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const u=r[o],f=e[o];if(O0(u)&&O0(f)){if(!Lr(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function O0(r){return r!==null&&typeof r=="object"}function Vo(r){const e=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function uT(r,e){const i=new hT(r,e);return i.subscribe.bind(i)}class hT{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");dT(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=vf),o.error===void 0&&(o.error=vf),o.complete===void 0&&(o.complete=vf);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dT(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function vf(){}function Ri(r){return r&&r._delegate?r._delegate:r}class Ur{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const jr="[DEFAULT]";class fT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new YE;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pT(e))try{this.getOrInitializeService({instanceIdentifier:jr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=jr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=jr){return this.instances.has(e)}getOptions(e=jr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[u,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);a===g&&f.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:mT(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=jr){return this.component?this.component.multipleInstances?e:jr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mT(r){return r===jr?void 0:r}function pT(r){return r.instantiationMode==="EAGER"}class gT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new fT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var De;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(De||(De={}));const yT={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},vT=De.INFO,_T={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},bT=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=_T[e];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class um{constructor(e){this.name=e,this._logLevel=vT,this._logHandler=bT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const xT=(r,e)=>e.some(i=>r instanceof i);let V0,k0;function ET(){return V0||(V0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TT(){return k0||(k0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const E_=new WeakMap,Mf=new WeakMap,T_=new WeakMap,_f=new WeakMap,hm=new WeakMap;function ST(r){const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{i(Hs(r.result)),o()},f=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&E_.set(i,r)}).catch(()=>{}),hm.set(e,r),e}function AT(r){if(Mf.has(r))return;const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{i(),o()},f=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Mf.set(r,e)}let Of={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Mf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||T_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Hs(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function wT(r){Of=r(Of)}function NT(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(bf(this),e,...i);return T_.set(a,e.sort?e.sort():[e]),Hs(a)}:TT().includes(r)?function(...e){return r.apply(bf(this),e),Hs(E_.get(this))}:function(...e){return Hs(r.apply(bf(this),e))}}function CT(r){return typeof r=="function"?NT(r):(r instanceof IDBTransaction&&AT(r),xT(r,ET())?new Proxy(r,Of):r)}function Hs(r){if(r instanceof IDBRequest)return ST(r);if(_f.has(r))return _f.get(r);const e=CT(r);return e!==r&&(_f.set(r,e),hm.set(e,r)),e}const bf=r=>hm.get(r);function RT(r,e,{blocked:i,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),g=Hs(f);return a&&f.addEventListener("upgradeneeded",v=>{a(Hs(f.result),v.oldVersion,v.newVersion,Hs(f.transaction),v)}),i&&f.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{u&&v.addEventListener("close",()=>u()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const IT=["get","getKey","getAll","getAllKeys","count"],jT=["put","add","delete","clear"],xf=new Map;function L0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(xf.get(e))return xf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=jT.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||IT.includes(i)))return;const u=async function(f,...g){const v=this.transaction(f,o?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),o&&v.done]))[0]};return xf.set(e,u),u}wT(r=>({...r,get:(e,i,a)=>L0(e,i)||r.get(e,i,a),has:(e,i)=>!!L0(e,i)||r.has(e,i)}));class DT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(MT(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function MT(r){return r.getComponent()?.type==="VERSION"}const Vf="@firebase/app",U0="0.14.6";const Ji=new um("@firebase/app"),OT="@firebase/app-compat",VT="@firebase/analytics-compat",kT="@firebase/analytics",LT="@firebase/app-check-compat",UT="@firebase/app-check",zT="@firebase/auth",PT="@firebase/auth-compat",qT="@firebase/database",BT="@firebase/data-connect",HT="@firebase/database-compat",FT="@firebase/functions",GT="@firebase/functions-compat",QT="@firebase/installations",YT="@firebase/installations-compat",KT="@firebase/messaging",XT="@firebase/messaging-compat",$T="@firebase/performance",ZT="@firebase/performance-compat",JT="@firebase/remote-config",WT="@firebase/remote-config-compat",e2="@firebase/storage",t2="@firebase/storage-compat",n2="@firebase/firestore",i2="@firebase/ai",s2="@firebase/firestore-compat",r2="firebase",a2="12.6.0";const kf="[DEFAULT]",l2={[Vf]:"fire-core",[OT]:"fire-core-compat",[kT]:"fire-analytics",[VT]:"fire-analytics-compat",[UT]:"fire-app-check",[LT]:"fire-app-check-compat",[zT]:"fire-auth",[PT]:"fire-auth-compat",[qT]:"fire-rtdb",[BT]:"fire-data-connect",[HT]:"fire-rtdb-compat",[FT]:"fire-fn",[GT]:"fire-fn-compat",[QT]:"fire-iid",[YT]:"fire-iid-compat",[KT]:"fire-fcm",[XT]:"fire-fcm-compat",[$T]:"fire-perf",[ZT]:"fire-perf-compat",[JT]:"fire-rc",[WT]:"fire-rc-compat",[e2]:"fire-gcs",[t2]:"fire-gcs-compat",[n2]:"fire-fst",[s2]:"fire-fst-compat",[i2]:"fire-vertex","fire-js":"fire-js",[r2]:"fire-js-all"};const Lu=new Map,o2=new Map,Lf=new Map;function z0(r,e){try{r.container.addComponent(e)}catch(i){Ji.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ya(r){const e=r.name;if(Lf.has(e))return Ji.debug(`There were multiple attempts to register component ${e}.`),!1;Lf.set(e,r);for(const i of Lu.values())z0(i,r);for(const i of o2.values())z0(i,r);return!0}function dm(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function Ei(r){return r==null?!1:r.settings!==void 0}const c2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fs=new Oo("app","Firebase",c2);class u2{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fs.create("app-deleted",{appName:this._name})}}const sl=a2;function S_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:kf,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Fs.create("bad-app-name",{appName:String(o)});if(i||(i=v_()),!i)throw Fs.create("no-options");const u=Lu.get(o);if(u){if(Lr(i,u.options)&&Lr(a,u.config))return u;throw Fs.create("duplicate-app",{appName:o})}const f=new gT(o);for(const v of Lf.values())f.addComponent(v);const g=new u2(i,a,f);return Lu.set(o,g),g}function A_(r=kf){const e=Lu.get(r);if(!e&&r===kf&&v_())return S_();if(!e)throw Fs.create("no-app",{appName:r});return e}function Gs(r,e,i){let a=l2[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${a}" with version "${e}":`];o&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ji.warn(f.join(" "));return}Ya(new Ur(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const h2="firebase-heartbeat-database",d2=1,No="firebase-heartbeat-store";let Ef=null;function w_(){return Ef||(Ef=RT(h2,d2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(No)}catch(i){console.warn(i)}}}}).catch(r=>{throw Fs.create("idb-open",{originalErrorMessage:r.message})})),Ef}async function f2(r){try{const i=(await w_()).transaction(No),a=await i.objectStore(No).get(N_(r));return await i.done,a}catch(e){if(e instanceof ns)Ji.warn(e.message);else{const i=Fs.create("idb-get",{originalErrorMessage:e?.message});Ji.warn(i.message)}}}async function P0(r,e){try{const a=(await w_()).transaction(No,"readwrite");await a.objectStore(No).put(e,N_(r)),await a.done}catch(i){if(i instanceof ns)Ji.warn(i.message);else{const a=Fs.create("idb-set",{originalErrorMessage:i?.message});Ji.warn(a.message)}}}function N_(r){return`${r.name}!${r.options.appId}`}const m2=1024,p2=30;class g2{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new v2(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=q0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>p2){const o=_2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ji.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=q0(),{heartbeatsToSend:i,unsentEntries:a}=y2(this._heartbeatsCache.heartbeats),o=ku(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ji.warn(e),""}}}function q0(){return new Date().toISOString().substring(0,10)}function y2(r,e=m2){const i=[];let a=r.slice();for(const o of r){const u=i.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),B0(i)>e){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),B0(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class v2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sT()?rT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await f2(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return P0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return P0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function B0(r){return ku(JSON.stringify({version:2,heartbeats:r})).length}function _2(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}function b2(r){Ya(new Ur("platform-logger",e=>new DT(e),"PRIVATE")),Ya(new Ur("heartbeat",e=>new g2(e),"PRIVATE")),Gs(Vf,U0,r),Gs(Vf,U0,"esm2020"),Gs("fire-js","")}b2("");var x2="firebase",E2="12.6.0";Gs(x2,E2,"app");var H0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Qs,C_;(function(){var r;function e(I,A){function N(){}N.prototype=A.prototype,I.F=A.prototype,I.prototype=new N,I.prototype.constructor=I,I.D=function(O,D,k){for(var C=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)C[nt-2]=arguments[nt];return A.prototype[D].apply(O,C)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,A,N){N||(N=0);const O=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)O[D]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(D=0;D<16;++D)O[D]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;A=I.g[0],N=I.g[1],D=I.g[2];let k=I.g[3],C;C=A+(k^N&(D^k))+O[0]+3614090360&4294967295,A=N+(C<<7&4294967295|C>>>25),C=k+(D^A&(N^D))+O[1]+3905402710&4294967295,k=A+(C<<12&4294967295|C>>>20),C=D+(N^k&(A^N))+O[2]+606105819&4294967295,D=k+(C<<17&4294967295|C>>>15),C=N+(A^D&(k^A))+O[3]+3250441966&4294967295,N=D+(C<<22&4294967295|C>>>10),C=A+(k^N&(D^k))+O[4]+4118548399&4294967295,A=N+(C<<7&4294967295|C>>>25),C=k+(D^A&(N^D))+O[5]+1200080426&4294967295,k=A+(C<<12&4294967295|C>>>20),C=D+(N^k&(A^N))+O[6]+2821735955&4294967295,D=k+(C<<17&4294967295|C>>>15),C=N+(A^D&(k^A))+O[7]+4249261313&4294967295,N=D+(C<<22&4294967295|C>>>10),C=A+(k^N&(D^k))+O[8]+1770035416&4294967295,A=N+(C<<7&4294967295|C>>>25),C=k+(D^A&(N^D))+O[9]+2336552879&4294967295,k=A+(C<<12&4294967295|C>>>20),C=D+(N^k&(A^N))+O[10]+4294925233&4294967295,D=k+(C<<17&4294967295|C>>>15),C=N+(A^D&(k^A))+O[11]+2304563134&4294967295,N=D+(C<<22&4294967295|C>>>10),C=A+(k^N&(D^k))+O[12]+1804603682&4294967295,A=N+(C<<7&4294967295|C>>>25),C=k+(D^A&(N^D))+O[13]+4254626195&4294967295,k=A+(C<<12&4294967295|C>>>20),C=D+(N^k&(A^N))+O[14]+2792965006&4294967295,D=k+(C<<17&4294967295|C>>>15),C=N+(A^D&(k^A))+O[15]+1236535329&4294967295,N=D+(C<<22&4294967295|C>>>10),C=A+(D^k&(N^D))+O[1]+4129170786&4294967295,A=N+(C<<5&4294967295|C>>>27),C=k+(N^D&(A^N))+O[6]+3225465664&4294967295,k=A+(C<<9&4294967295|C>>>23),C=D+(A^N&(k^A))+O[11]+643717713&4294967295,D=k+(C<<14&4294967295|C>>>18),C=N+(k^A&(D^k))+O[0]+3921069994&4294967295,N=D+(C<<20&4294967295|C>>>12),C=A+(D^k&(N^D))+O[5]+3593408605&4294967295,A=N+(C<<5&4294967295|C>>>27),C=k+(N^D&(A^N))+O[10]+38016083&4294967295,k=A+(C<<9&4294967295|C>>>23),C=D+(A^N&(k^A))+O[15]+3634488961&4294967295,D=k+(C<<14&4294967295|C>>>18),C=N+(k^A&(D^k))+O[4]+3889429448&4294967295,N=D+(C<<20&4294967295|C>>>12),C=A+(D^k&(N^D))+O[9]+568446438&4294967295,A=N+(C<<5&4294967295|C>>>27),C=k+(N^D&(A^N))+O[14]+3275163606&4294967295,k=A+(C<<9&4294967295|C>>>23),C=D+(A^N&(k^A))+O[3]+4107603335&4294967295,D=k+(C<<14&4294967295|C>>>18),C=N+(k^A&(D^k))+O[8]+1163531501&4294967295,N=D+(C<<20&4294967295|C>>>12),C=A+(D^k&(N^D))+O[13]+2850285829&4294967295,A=N+(C<<5&4294967295|C>>>27),C=k+(N^D&(A^N))+O[2]+4243563512&4294967295,k=A+(C<<9&4294967295|C>>>23),C=D+(A^N&(k^A))+O[7]+1735328473&4294967295,D=k+(C<<14&4294967295|C>>>18),C=N+(k^A&(D^k))+O[12]+2368359562&4294967295,N=D+(C<<20&4294967295|C>>>12),C=A+(N^D^k)+O[5]+4294588738&4294967295,A=N+(C<<4&4294967295|C>>>28),C=k+(A^N^D)+O[8]+2272392833&4294967295,k=A+(C<<11&4294967295|C>>>21),C=D+(k^A^N)+O[11]+1839030562&4294967295,D=k+(C<<16&4294967295|C>>>16),C=N+(D^k^A)+O[14]+4259657740&4294967295,N=D+(C<<23&4294967295|C>>>9),C=A+(N^D^k)+O[1]+2763975236&4294967295,A=N+(C<<4&4294967295|C>>>28),C=k+(A^N^D)+O[4]+1272893353&4294967295,k=A+(C<<11&4294967295|C>>>21),C=D+(k^A^N)+O[7]+4139469664&4294967295,D=k+(C<<16&4294967295|C>>>16),C=N+(D^k^A)+O[10]+3200236656&4294967295,N=D+(C<<23&4294967295|C>>>9),C=A+(N^D^k)+O[13]+681279174&4294967295,A=N+(C<<4&4294967295|C>>>28),C=k+(A^N^D)+O[0]+3936430074&4294967295,k=A+(C<<11&4294967295|C>>>21),C=D+(k^A^N)+O[3]+3572445317&4294967295,D=k+(C<<16&4294967295|C>>>16),C=N+(D^k^A)+O[6]+76029189&4294967295,N=D+(C<<23&4294967295|C>>>9),C=A+(N^D^k)+O[9]+3654602809&4294967295,A=N+(C<<4&4294967295|C>>>28),C=k+(A^N^D)+O[12]+3873151461&4294967295,k=A+(C<<11&4294967295|C>>>21),C=D+(k^A^N)+O[15]+530742520&4294967295,D=k+(C<<16&4294967295|C>>>16),C=N+(D^k^A)+O[2]+3299628645&4294967295,N=D+(C<<23&4294967295|C>>>9),C=A+(D^(N|~k))+O[0]+4096336452&4294967295,A=N+(C<<6&4294967295|C>>>26),C=k+(N^(A|~D))+O[7]+1126891415&4294967295,k=A+(C<<10&4294967295|C>>>22),C=D+(A^(k|~N))+O[14]+2878612391&4294967295,D=k+(C<<15&4294967295|C>>>17),C=N+(k^(D|~A))+O[5]+4237533241&4294967295,N=D+(C<<21&4294967295|C>>>11),C=A+(D^(N|~k))+O[12]+1700485571&4294967295,A=N+(C<<6&4294967295|C>>>26),C=k+(N^(A|~D))+O[3]+2399980690&4294967295,k=A+(C<<10&4294967295|C>>>22),C=D+(A^(k|~N))+O[10]+4293915773&4294967295,D=k+(C<<15&4294967295|C>>>17),C=N+(k^(D|~A))+O[1]+2240044497&4294967295,N=D+(C<<21&4294967295|C>>>11),C=A+(D^(N|~k))+O[8]+1873313359&4294967295,A=N+(C<<6&4294967295|C>>>26),C=k+(N^(A|~D))+O[15]+4264355552&4294967295,k=A+(C<<10&4294967295|C>>>22),C=D+(A^(k|~N))+O[6]+2734768916&4294967295,D=k+(C<<15&4294967295|C>>>17),C=N+(k^(D|~A))+O[13]+1309151649&4294967295,N=D+(C<<21&4294967295|C>>>11),C=A+(D^(N|~k))+O[4]+4149444226&4294967295,A=N+(C<<6&4294967295|C>>>26),C=k+(N^(A|~D))+O[11]+3174756917&4294967295,k=A+(C<<10&4294967295|C>>>22),C=D+(A^(k|~N))+O[2]+718787259&4294967295,D=k+(C<<15&4294967295|C>>>17),C=N+(k^(D|~A))+O[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+k&4294967295}a.prototype.v=function(I,A){A===void 0&&(A=I.length);const N=A-this.blockSize,O=this.C;let D=this.h,k=0;for(;k<A;){if(D==0)for(;k<=N;)o(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<A;)if(O[D++]=I.charCodeAt(k++),D==this.blockSize){o(this,O),D=0;break}}else for(;k<A;)if(O[D++]=I[k++],D==this.blockSize){o(this,O),D=0;break}}this.h=D,this.o+=A},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var N=I.length-8;N<I.length;++N)I[N]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,N=0;N<4;++N)for(let O=0;O<32;O+=8)I[A++]=this.g[N]>>>O&255;return I};function u(I,A){var N=g;return Object.prototype.hasOwnProperty.call(N,I)?N[I]:N[I]=A(I)}function f(I,A){this.h=A;const N=[];let O=!0;for(let D=I.length-1;D>=0;D--){const k=I[D]|0;O&&k==A||(N[D]=k,O=!1)}this.g=N}var g={};function v(I){return-128<=I&&I<128?u(I,function(A){return new f([A|0],A<0?-1:0)}):new f([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return $(_(-I));const A=[];let N=1;for(let O=0;I>=N;O++)A[O]=I/N|0,N*=4294967296;return new f(A,0)}function E(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return $(E(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=_(Math.pow(A,8));let O=S;for(let k=0;k<I.length;k+=8){var D=Math.min(8,I.length-k);const C=parseInt(I.substring(k,k+D),A);D<8?(D=_(Math.pow(A,D)),O=O.j(D).add(_(C))):(O=O.j(N),O=O.add(_(C)))}return O}var S=v(0),w=v(1),H=v(16777216);r=f.prototype,r.m=function(){if(W(this))return-$(this).m();let I=0,A=1;for(let N=0;N<this.g.length;N++){const O=this.i(N);I+=(O>=0?O:4294967296+O)*A,A*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(Y(this))return"0";if(W(this))return"-"+$(this).toString(I);const A=_(Math.pow(I,6));var N=this;let O="";for(;;){const D=le(N,A).g;N=ne(N,D.j(A));let k=((N.g.length>0?N.g[0]:N.h)>>>0).toString(I);if(N=D,Y(N))return k+O;for(;k.length<6;)k="0"+k;O=k+O}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function Y(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function W(I){return I.h==-1}r.l=function(I){return I=ne(this,I),W(I)?-1:Y(I)?0:1};function $(I){const A=I.g.length,N=[];for(let O=0;O<A;O++)N[O]=~I.g[O];return new f(N,~I.h).add(w)}r.abs=function(){return W(this)?$(this):this},r.add=function(I){const A=Math.max(this.g.length,I.g.length),N=[];let O=0;for(let D=0;D<=A;D++){let k=O+(this.i(D)&65535)+(I.i(D)&65535),C=(k>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);O=C>>>16,k&=65535,C&=65535,N[D]=C<<16|k}return new f(N,N[N.length-1]&-2147483648?-1:0)};function ne(I,A){return I.add($(A))}r.j=function(I){if(Y(this)||Y(I))return S;if(W(this))return W(I)?$(this).j($(I)):$($(this).j(I));if(W(I))return $(this.j($(I)));if(this.l(H)<0&&I.l(H)<0)return _(this.m()*I.m());const A=this.g.length+I.g.length,N=[];for(var O=0;O<2*A;O++)N[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<I.g.length;D++){const k=this.i(O)>>>16,C=this.i(O)&65535,nt=I.i(D)>>>16,It=I.i(D)&65535;N[2*O+2*D]+=C*It,ae(N,2*O+2*D),N[2*O+2*D+1]+=k*It,ae(N,2*O+2*D+1),N[2*O+2*D+1]+=C*nt,ae(N,2*O+2*D+1),N[2*O+2*D+2]+=k*nt,ae(N,2*O+2*D+2)}for(I=0;I<A;I++)N[I]=N[2*I+1]<<16|N[2*I];for(I=A;I<2*A;I++)N[I]=0;return new f(N,0)};function ae(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function ie(I,A){this.g=I,this.h=A}function le(I,A){if(Y(A))throw Error("division by zero");if(Y(I))return new ie(S,S);if(W(I))return A=le($(I),A),new ie($(A.g),$(A.h));if(W(A))return A=le(I,$(A)),new ie($(A.g),A.h);if(I.g.length>30){if(W(I)||W(A))throw Error("slowDivide_ only works with positive integers.");for(var N=w,O=A;O.l(I)<=0;)N=fe(N),O=fe(O);var D=ve(N,1),k=ve(O,1);for(O=ve(O,2),N=ve(N,2);!Y(O);){var C=k.add(O);C.l(I)<=0&&(D=D.add(N),k=C),O=ve(O,1),N=ve(N,1)}return A=ne(I,D.j(A)),new ie(D,A)}for(D=S;I.l(A)>=0;){for(N=Math.max(1,Math.floor(I.m()/A.m())),O=Math.ceil(Math.log(N)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),k=_(N),C=k.j(A);W(C)||C.l(I)>0;)N-=O,k=_(N),C=k.j(A);Y(k)&&(k=w),D=D.add(k),I=ne(I,C)}return new ie(D,I)}r.B=function(I){return le(this,I).h},r.and=function(I){const A=Math.max(this.g.length,I.g.length),N=[];for(let O=0;O<A;O++)N[O]=this.i(O)&I.i(O);return new f(N,this.h&I.h)},r.or=function(I){const A=Math.max(this.g.length,I.g.length),N=[];for(let O=0;O<A;O++)N[O]=this.i(O)|I.i(O);return new f(N,this.h|I.h)},r.xor=function(I){const A=Math.max(this.g.length,I.g.length),N=[];for(let O=0;O<A;O++)N[O]=this.i(O)^I.i(O);return new f(N,this.h^I.h)};function fe(I){const A=I.g.length+1,N=[];for(let O=0;O<A;O++)N[O]=I.i(O)<<1|I.i(O-1)>>>31;return new f(N,I.h)}function ve(I,A){const N=A>>5;A%=32;const O=I.g.length-N,D=[];for(let k=0;k<O;k++)D[k]=A>0?I.i(k+N)>>>A|I.i(k+N+1)<<32-A:I.i(k+N);return new f(D,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,C_=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=E,Qs=f}).apply(typeof H0<"u"?H0:typeof self<"u"?self:typeof window<"u"?window:{});var vu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var R_,vo,I_,Au,Uf,j_,D_,M_;(function(){var r,e=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof vu=="object"&&vu];for(var p=0;p<c.length;++p){var b=c[p];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var a=i(this);function o(c,p){if(p)e:{var b=a;c=c.split(".");for(var T=0;T<c.length-1;T++){var L=c[T];if(!(L in b))break e;b=b[L]}c=c[c.length-1],T=b[c],p=p(T),p!=T&&p!=null&&e(b,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var b=[],T;for(T in p)Object.prototype.hasOwnProperty.call(p,T)&&b.push([T,p[T]]);return b}});var u=u||{},f=this||self;function g(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function v(c,p,b){return c.call.apply(c.bind,arguments)}function _(c,p,b){return _=v,_.apply(null,arguments)}function E(c,p){var b=Array.prototype.slice.call(arguments,1);return function(){var T=b.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function S(c,p){function b(){}b.prototype=p.prototype,c.Z=p.prototype,c.prototype=new b,c.prototype.constructor=c,c.Ob=function(T,L,q){for(var te=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)te[Se-2]=arguments[Se];return p.prototype[L].apply(T,te)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function H(c){const p=c.length;if(p>0){const b=Array(p);for(let T=0;T<p;T++)b[T]=c[T];return b}return[]}function Y(c,p){for(let T=1;T<arguments.length;T++){const L=arguments[T];var b=typeof L;if(b=b!="object"?b:L?Array.isArray(L)?"array":b:"null",b=="array"||b=="object"&&typeof L.length=="number"){b=c.length||0;const q=L.length||0;c.length=b+q;for(let te=0;te<q;te++)c[b+te]=L[te]}else c.push(L)}}class W{constructor(p,b){this.i=p,this.j=b,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function $(c){f.setTimeout(()=>{throw c},0)}function ne(){var c=I;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class ae{constructor(){this.h=this.g=null}add(p,b){const T=ie.get();T.set(p,b),this.h?this.h.next=T:this.g=T,this.h=T}}var ie=new W(()=>new le,c=>c.reset());class le{constructor(){this.next=this.g=this.h=null}set(p,b){this.h=p,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,ve=!1,I=new ae,A=()=>{const c=Promise.resolve(void 0);fe=()=>{c.then(N)}};function N(){for(var c;c=ne();){try{c.h.call(c.g)}catch(b){$(b)}var p=ie;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}ve=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};f.addEventListener("test",b,p),f.removeEventListener("test",b,p)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function nt(c,p){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}S(nt,D),nt.prototype.init=function(c,p){const b=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(b=="mouseover"?p=c.fromElement:b=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&nt.Z.h.call(this)},nt.prototype.h=function(){nt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var It="closure_listenable_"+(Math.random()*1e6|0),G=0;function se(c,p,b,T,L){this.listener=c,this.proxy=null,this.src=p,this.type=b,this.capture=!!T,this.ha=L,this.key=++G,this.da=this.fa=!1}function pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ue(c,p,b){for(const T in c)p.call(b,c[T],T,c)}function Fe(c,p){for(const b in c)p.call(void 0,c[b],b,c)}function M(c){const p={};for(const b in c)p[b]=c[b];return p}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(c,p){let b,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(b in T)c[b]=T[b];for(let q=0;q<X.length;q++)b=X[q],Object.prototype.hasOwnProperty.call(T,b)&&(c[b]=T[b])}}function oe(c){this.src=c,this.g={},this.h=0}oe.prototype.add=function(c,p,b,T,L){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const te=we(c,p,T,L);return te>-1?(p=c[te],b||(p.fa=!1)):(p=new se(p,this.src,q,!!T,L),p.fa=b,c.push(p)),p};function be(c,p){const b=p.type;if(b in c.g){var T=c.g[b],L=Array.prototype.indexOf.call(T,p,void 0),q;(q=L>=0)&&Array.prototype.splice.call(T,L,1),q&&(pe(p),c.g[b].length==0&&(delete c.g[b],c.h--))}}function we(c,p,b,T){for(let L=0;L<c.length;++L){const q=c[L];if(!q.da&&q.listener==p&&q.capture==!!b&&q.ha==T)return L}return-1}var Ve="closure_lm_"+(Math.random()*1e6|0),jt={};function it(c,p,b,T,L){if(Array.isArray(p)){for(let q=0;q<p.length;q++)it(c,p[q],b,T,L);return null}return b=fl(b),c&&c[It]?c.J(p,b,g(T)?!!T.capture:!1,L):er(c,p,b,!1,T,L)}function er(c,p,b,T,L,q){if(!p)throw Error("Invalid event type");const te=g(L)?!!L.capture:!!L;let Se=tr(c);if(Se||(c[Ve]=Se=new oe(c)),b=Se.add(p,b,T,te,q),b.proxy)return b;if(T=Fr(),b.proxy=T,T.src=c,T.listener=b,c.addEventListener)k||(L=te),L===void 0&&(L=!1),c.addEventListener(p.toString(),T,L);else if(c.attachEvent)c.attachEvent(Wn(p.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Fr(){function c(b){return p.call(c.src,c.listener,b)}const p=hl;return c}function Gr(c,p,b,T,L){if(Array.isArray(p))for(var q=0;q<p.length;q++)Gr(c,p[q],b,T,L);else T=g(T)?!!T.capture:!!T,b=fl(b),c&&c[It]?(c=c.i,q=String(p).toString(),q in c.g&&(p=c.g[q],b=we(p,b,T,L),b>-1&&(pe(p[b]),Array.prototype.splice.call(p,b,1),p.length==0&&(delete c.g[q],c.h--)))):c&&(c=tr(c))&&(p=c.g[p.toString()],c=-1,p&&(c=we(p,b,T,L)),(b=c>-1?p[c]:null)&&Qr(b))}function Qr(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[It])be(p.i,c);else{var b=c.type,T=c.proxy;p.removeEventListener?p.removeEventListener(b,T,c.capture):p.detachEvent?p.detachEvent(Wn(b),T):p.addListener&&p.removeListener&&p.removeListener(T),(b=tr(p))?(be(b,c),b.h==0&&(b.src=null,p[Ve]=null)):pe(c)}}}function Wn(c){return c in jt?jt[c]:jt[c]="on"+c}function hl(c,p){if(c.da)c=!0;else{p=new nt(p,this);const b=c.listener,T=c.ha||c.src;c.fa&&Qr(c),c=b.call(T,p)}return c}function tr(c){return c=c[Ve],c instanceof oe?c:null}var dl="__closure_events_fn_"+(Math.random()*1e9>>>0);function fl(c){return typeof c=="function"?c:(c[dl]||(c[dl]=function(p){return c.handleEvent(p)}),c[dl])}function vt(){O.call(this),this.i=new oe(this),this.M=this,this.G=null}S(vt,O),vt.prototype[It]=!0,vt.prototype.removeEventListener=function(c,p,b,T){Gr(this,c,p,b,T)};function Dt(c,p){var b,T=c.G;if(T)for(b=[];T;T=T.G)b.push(T);if(c=c.M,T=p.type||p,typeof p=="string")p=new D(p,c);else if(p instanceof D)p.target=p.target||c;else{var L=p;p=new D(T,c),re(p,L)}L=!0;let q,te;if(b)for(te=b.length-1;te>=0;te--)q=p.g=b[te],L=is(q,T,!0,p)&&L;if(q=p.g=c,L=is(q,T,!0,p)&&L,L=is(q,T,!1,p)&&L,b)for(te=0;te<b.length;te++)q=p.g=b[te],L=is(q,T,!1,p)&&L}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const b=c.g[p];for(let T=0;T<b.length;T++)pe(b[T]);delete c.g[p],c.h--}}this.G=null},vt.prototype.J=function(c,p,b,T){return this.i.add(String(c),p,!1,b,T)},vt.prototype.K=function(c,p,b,T){return this.i.add(String(c),p,!0,b,T)};function is(c,p,b,T){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let L=!0;for(let q=0;q<p.length;++q){const te=p[q];if(te&&!te.da&&te.capture==b){const Se=te.listener,ft=te.ha||te.src;te.fa&&be(c.i,te),L=Se.call(ft,T)!==!1&&L}}return L&&!T.defaultPrevented}function fh(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function Ho(c){c.g=fh(()=>{c.g=null,c.i&&(c.i=!1,Ho(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class nn extends O{constructor(p,b){super(),this.m=p,this.l=b,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Ho(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nr(c){O.call(this),this.h=c,this.g={}}S(nr,O);var ml=[];function pl(c){Ue(c.g,function(p,b){this.g.hasOwnProperty(b)&&Qr(p)},c),c.g={}}nr.prototype.N=function(){nr.Z.N.call(this),pl(this)},nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ss=f.JSON.stringify,mh=f.JSON.parse,Fo=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Go(){}function Qo(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){D.call(this,"d")}S(Bt,D);function An(){D.call(this,"c")}S(An,D);var dt={},Yo=null;function Yr(){return Yo=Yo||new vt}dt.Ia="serverreachability";function Ko(c){D.call(this,dt.Ia,c)}S(Ko,D);function ei(c){const p=Yr();Dt(p,new Ko(p))}dt.STAT_EVENT="statevent";function ir(c,p){D.call(this,dt.STAT_EVENT,c),this.stat=p}S(ir,D);function _t(c){const p=Yr();Dt(p,new ir(p,c))}dt.Ja="timingevent";function ti(c,p){D.call(this,dt.Ja,c),this.size=p}S(ti,D);function ni(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function Pn(){this.g=!0}Pn.prototype.ua=function(){this.g=!1};function ph(c,p,b,T,L,q){c.info(function(){if(c.g)if(q){var te="",Se=q.split("&");for(let Be=0;Be<Se.length;Be++){var ft=Se[Be].split("=");if(ft.length>1){const st=ft[0];ft=ft[1];const Rn=st.split("_");te=Rn.length>=2&&Rn[1]=="type"?te+(st+"="+ft+"&"):te+(st+"=redacted&")}}}else te=null;else te=q;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+p+`
`+b+`
`+te})}function Xo(c,p,b,T,L,q,te){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+p+`
`+b+`
`+q+" "+te})}function ii(c,p,b,T){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+gh(c,b)+(T?" "+T:"")})}function sr(c,p){c.info(function(){return"TIMEOUT: "+p})}Pn.prototype.info=function(){};function gh(c,p){if(!c.g)return p;if(!p)return null;try{const q=JSON.parse(p);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var b=q[c];if(!(b.length<2)){var T=b[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let te=1;te<T.length;te++)T[te]=""}}}}return ss(q)}catch{return p}}var rr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},gl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},yl;function ar(){}S(ar,Go),ar.prototype.g=function(){return new XMLHttpRequest},yl=new ar;function ji(c){return encodeURIComponent(String(c))}function $o(c){var p=1;c=c.split(":");const b=[];for(;p>0&&c.length;)b.push(c.shift()),p--;return c.length&&b.push(c.join(":")),b}function qn(c,p,b,T){this.j=c,this.i=p,this.l=b,this.S=T||1,this.V=new nr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var bt={},Ut={};function si(c,p,b){c.M=1,c.A=lr(Et(p)),c.u=b,c.R=!0,Kr(c,null)}function Kr(c,p){c.F=Date.now(),ri(c),c.B=Et(c.A);var b=c.B,T=c.S;Array.isArray(T)||(T=[String(T)]),Jr(b.i,"t",T),c.C=0,b=c.j.L,c.h=new Bn,c.g=hc(c.j,b?p:null,!c.u),c.P>0&&(c.O=new nn(_(c.Y,c,c.g),c.P)),p=c.V,b=c.g,T=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(ml[0]=L.toString()),L=ml);for(let q=0;q<L.length;q++){const te=it(b,L[q],T||p.handleEvent,!1,p.h||p);if(!te)break;p.g[te.key]=te}p=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),ei(),ph(c.i,c.v,c.B,c.l,c.S,c.u)}qn.prototype.ba=function(c){c=c.target;const p=this.O;p&&Gn(c)==3?p.j():this.Y(c)},qn.prototype.Y=function(c){try{if(c==this.g)e:{const Se=Gn(this.g),ft=this.g.ya(),Be=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||Se!=4||ft==7||(ft==8||Be<=0?ei(3):ei(2)),ai(this);var p=this.g.ca();this.X=p;var b=yh(this);if(this.o=p==200,Xo(this.i,this.v,this.B,this.l,this.S,Se,p),this.o){if(this.U&&!this.L){t:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(T)){var q=T;break t}}q=null}if(c=q)ii(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,c);else{this.o=!1,this.m=3,_t(12),pn(this),wn(this);break e}}if(this.R){c=!0;let st;for(;!this.K&&this.C<b.length;)if(st=Jo(this,b),st==Ut){Se==4&&(this.m=4,_t(14),c=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(st==bt){this.m=4,_t(15),ii(this.i,this.l,b,"[Invalid Chunk]"),c=!1;break}else ii(this.i,this.l,st,null),li(this,st);if(Zo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||b.length!=0||this.h.h||(this.m=1,_t(16),c=!1),this.o=this.o&&c,!c)ii(this.i,this.l,b,"[Invalid Chunked Response]"),pn(this),wn(this);else if(b.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Dl(te),te.P=!0,_t(11))}}else ii(this.i,this.l,b,null),li(this,b);Se==4&&pn(this),this.o&&!this.K&&(Se==4?lc(this.j,this):(this.o=!1,ri(this)))}else Mi(this.g),p==400&&b.indexOf("Unknown SID")>0?(this.m=3,_t(12)):(this.m=0,_t(13)),pn(this),wn(this)}}}catch{}finally{}};function yh(c){if(!Zo(c))return c.g.la();const p=Ht(c.g);if(p==="")return"";let b="";const T=p.length,L=Gn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return pn(c),wn(c),"";c.h.i=new f.TextDecoder}for(let q=0;q<T;q++)c.h.h=!0,b+=c.h.i.decode(p[q],{stream:!(L&&q==T-1)});return p.length=0,c.h.g+=b,c.C=0,c.h.g}function Zo(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Jo(c,p){var b=c.C,T=p.indexOf(`
`,b);return T==-1?Ut:(b=Number(p.substring(b,T)),isNaN(b)?bt:(T+=1,T+b>p.length?Ut:(p=p.slice(T,T+b),c.C=T+b,p)))}qn.prototype.cancel=function(){this.K=!0,pn(this)};function ri(c){c.T=Date.now()+c.H,Xr(c,c.H)}function Xr(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ni(_(c.aa,c),p)}function ai(c){c.D&&(f.clearTimeout(c.D),c.D=null)}qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(sr(this.i,this.B),this.M!=2&&(ei(),_t(17)),pn(this),this.m=2,wn(this)):Xr(this,this.T-c)};function wn(c){c.j.I==0||c.K||lc(c.j,c)}function pn(c){ai(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,pl(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function li(c,p){try{var b=c.j;if(b.I!=0&&(b.g==c||ci(b.h,c))){if(!c.L&&ci(b.h,c)&&b.I==3){try{var T=b.Ba.g.parse(p)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<c.F)ia(b),ds(b);else break e;mr(b),_t(18)}}else b.xa=L[1],0<b.xa-b.K&&L[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=ni(_(b.Va,b),6e3));oi(b.h)<=1&&b.ta&&(b.ta=void 0)}else pi(b,11)}else if((c.L||b.g==c)&&ia(b),!C(p))for(L=b.Ba.g.parse(p),p=0;p<L.length;p++){let Be=L[p];const st=Be[0];if(!(st<=b.K))if(b.K=st,Be=Be[1],b.I==2)if(Be[0]=="c"){b.M=Be[1],b.ba=Be[2];const Rn=Be[3];Rn!=null&&(b.ka=Rn,b.j.info("VER="+b.ka));const gi=Be[4];gi!=null&&(b.za=gi,b.j.info("SVER="+b.za));const Qn=Be[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(T=1.5*Qn,b.O=T,b.j.info("backChannelRequestTimeoutMs_="+T)),T=b;const Yn=c.g;if(Yn){const pr=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pr){var q=T.h;q.g||pr.indexOf("spdy")==-1&&pr.indexOf("quic")==-1&&pr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(bl(q,q.h),q.h=null))}if(T.G){const sa=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;sa&&(T.wa=sa,Ge(T.J,T.G,sa))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-c.F,b.j.info("Handshake RTT: "+b.T+"ms")),T=b;var te=c;if(T.na=uc(T,T.L?T.ba:null,T.W),te.L){xl(T.h,te);var Se=te,ft=T.O;ft&&(Se.H=ft),Se.D&&(ai(Se),ri(Se)),T.g=te}else rc(T);b.i.length>0&&mi(b)}else Be[0]!="stop"&&Be[0]!="close"||pi(b,7);else b.I==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?pi(b,7):Il(b):Be[0]!="noop"&&b.l&&b.l.qa(Be),b.A=0)}}ei(4)}catch{}}var xt=class{constructor(c,p){this.g=c,this.map=p}};function vl(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _l(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function oi(c){return c.h?1:c.g?c.g.size:0}function ci(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function bl(c,p){c.g?c.g.add(p):c.h=p}function xl(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}vl.prototype.cancel=function(){if(this.i=El(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function El(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const b of c.g.values())p=p.concat(b.G);return p}return H(c.i)}var Wo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $r(c,p){if(c){c=c.split("&");for(let b=0;b<c.length;b++){const T=c[b].indexOf("=");let L,q=null;T>=0?(L=c[b].substring(0,T),q=c[b].substring(T+1)):L=c[b],p(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function gn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof gn?(this.l=c.l,zt(this,c.j),this.o=c.o,this.g=c.g,rs(this,c.u),this.h=c.h,Tl(this,ic(c.i)),this.m=c.m):c&&(p=String(c).match(Wo))?(this.l=!1,zt(this,p[1]||"",!0),this.o=ui(p[2]||""),this.g=ui(p[3]||"",!0),rs(this,p[4]),this.h=ui(p[5]||"",!0),Tl(this,p[6]||"",!0),this.m=ui(p[7]||"")):(this.l=!1,this.i=new ls(null,this.l))}gn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(or(p,Zr,!0),":");var b=this.g;return(b||p=="file")&&(c.push("//"),(p=this.o)&&c.push(or(p,Zr,!0),"@"),c.push(ji(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&c.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(or(b,b.charAt(0)=="/"?Sl:ec,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",or(b,tc)),c.join("")},gn.prototype.resolve=function(c){const p=Et(this);let b=!!c.j;b?zt(p,c.j):b=!!c.o,b?p.o=c.o:b=!!c.g,b?p.g=c.g:b=c.u!=null;var T=c.h;if(b)rs(p,c.u);else if(b=!!c.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=p.h.lastIndexOf("/");L!=-1&&(T=p.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let te=0;te<L.length;){const Se=L[te++];Se=="."?T&&te==L.length&&q.push(""):Se==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&te==L.length&&q.push("")):(q.push(Se),T=!0)}T=q.join("/")}else T=L}return b?p.h=T:b=c.i.toString()!=="",b?Tl(p,ic(c.i)):b=!!c.m,b&&(p.m=c.m),p};function Et(c){return new gn(c)}function zt(c,p,b){c.j=b?ui(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function rs(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function Tl(c,p,b){p instanceof ls?(c.i=p,Wr(c.i,c.l)):(b||(p=or(p,as)),c.i=new ls(p,c.l))}function Ge(c,p,b){c.i.set(p,b)}function lr(c){return Ge(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ui(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function or(c,p,b){return typeof c=="string"?(c=encodeURI(c).replace(p,ln),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ln(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Zr=/[#\/\?@]/g,ec=/[#\?:]/g,Sl=/[#\?]/g,as=/[#\?@]/g,tc=/#/g;function ls(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function on(c){c.g||(c.g=new Map,c.h=0,c.i&&$r(c.i,function(p,b){c.add(decodeURIComponent(p.replace(/\+/g," ")),b)}))}r=ls.prototype,r.add=function(c,p){on(this),this.i=null,c=os(this,c);let b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(p),this.h+=1,this};function nc(c,p){on(c),p=os(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Al(c,p){return on(c),p=os(c,p),c.g.has(p)}r.forEach=function(c,p){on(this),this.g.forEach(function(b,T){b.forEach(function(L){c.call(p,L,T,this)},this)},this)};function wl(c,p){on(c);let b=[];if(typeof p=="string")Al(c,p)&&(b=b.concat(c.g.get(os(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)b=b.concat(c[p]);return b}r.set=function(c,p){return on(this),this.i=null,c=os(this,c),Al(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=wl(this,c),c.length>0?String(c[0]):p):p};function Jr(c,p,b){nc(c,p),b.length>0&&(c.i=null,c.g.set(os(c,p),H(b)),c.h+=b.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let T=0;T<p.length;T++){var b=p[T];const L=ji(b);b=wl(this,b);for(let q=0;q<b.length;q++){let te=L;b[q]!==""&&(te+="="+ji(b[q])),c.push(te)}}return this.i=c.join("&")};function ic(c){const p=new ls;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function os(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function Wr(c,p){p&&!c.j&&(on(c),c.i=null,c.g.forEach(function(b,T){const L=T.toLowerCase();T!=L&&(nc(this,T),Jr(this,L,b))},c)),c.j=p}function Hn(c,p){const b=new Pn;if(f.Image){const T=new Image;T.onload=E(Nn,b,"TestLoadImage: loaded",!0,p,T),T.onerror=E(Nn,b,"TestLoadImage: error",!1,p,T),T.onabort=E(Nn,b,"TestLoadImage: abort",!1,p,T),T.ontimeout=E(Nn,b,"TestLoadImage: timeout",!1,p,T),f.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else p(!1)}function Nl(c,p){const b=new Pn,T=new AbortController,L=setTimeout(()=>{T.abort(),Nn(b,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:T.signal}).then(q=>{clearTimeout(L),q.ok?Nn(b,"TestPingServer: ok",!0,p):Nn(b,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),Nn(b,"TestPingServer: error",!1,p)})}function Nn(c,p,b,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(b)}catch{}}function cs(){this.g=new Fo}function hi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(hi,Go),hi.prototype.g=function(){return new cr(this.i,this.h)};function cr(c,p){vt.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(cr,vt),r=cr.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,Fn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,us(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ea(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ea(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?us(this):Fn(this),this.readyState==3&&ea(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,us(this))},r.Na=function(c){this.g&&(this.response=c,us(this))},r.ga=function(){this.g&&us(this)};function us(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Fn(c)}r.setRequestHeader=function(c,p){this.A.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var b=p.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=p.next();return c.join(`\r
`)};function Fn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Cn(c){let p="";return Ue(c,function(b,T){p+=T,p+=":",p+=b,p+=`\r
`}),p}function ur(c,p,b){e:{for(T in b){var T=!1;break e}T=!0}T||(b=Cn(b),typeof c=="string"?b!=null&&ji(b):Ge(c,p,b))}function Ke(c){vt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Ke,vt);var di=/^https?$/i,Cl=["POST","PUT"];r=Ke.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,p,b,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():yl.g(),this.g.onreadystatechange=w(_(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(q){hr(this,q);return}if(c=b||"",b=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)b.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())b.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(b.keys()).find(q=>q.toLowerCase()=="content-type"),L=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Cl,p,void 0)>=0)||T||L||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,te]of b)this.g.setRequestHeader(q,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){hr(this,q)}};function hr(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,Rl(c),Di(c)}function Rl(c){c.A||(c.A=!0,Dt(c,"complete"),Dt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Dt(this,"complete"),Dt(this,"abort"),Di(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Di(this,!0)),Ke.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?dr(this):this.Xa())},r.Xa=function(){dr(this)};function dr(c){if(c.h&&typeof u<"u"){if(c.v&&Gn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Dt(c,"readystatechange"),Gn(c)==4){c.h=!1;try{const q=c.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var b;if(!(b=p)){var T;if(T=q===0){let te=String(c.D).match(Wo)[1]||null;!te&&f.self&&f.self.location&&(te=f.self.location.protocol.slice(0,-1)),T=!di.test(te?te.toLowerCase():"")}b=T}if(b)Dt(c,"complete"),Dt(c,"success");else{c.o=6;try{var L=Gn(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",Rl(c)}}finally{Di(c)}}}}function Di(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const b=c.g;c.g=null,p||Dt(c,"ready");try{b.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Gn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),mh(p)}};function Ht(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Mi(c){const p={};c=(c.g&&Gn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(C(c[T]))continue;var b=$o(c[T]);const L=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const q=p[L]||[];p[L]=q,q.push(b)}Fe(p,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fi(c,p,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||p}function hs(c){this.za=0,this.i=[],this.j=new Pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fi("baseRetryDelayMs",5e3,c),this.Za=fi("retryDelaySeedMs",1e4,c),this.Ta=fi("forwardChannelMaxRetries",2,c),this.va=fi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new vl(c&&c.concurrentRequestLimit),this.Ba=new cs,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=hs.prototype,r.ka=8,r.I=1,r.connect=function(c,p,b,T){_t(0),this.W=c,this.H=p||{},b&&T!==void 0&&(this.H.OSID=b,this.H.OAID=T),this.F=this.X,this.J=uc(this,null,this.W),mi(this)};function Il(c){if(ta(c),c.I==3){var p=c.V++,b=Et(c.J);if(Ge(b,"SID",c.M),Ge(b,"RID",p),Ge(b,"TYPE","terminate"),fr(c,b),p=new qn(c,c.j,p),p.M=2,p.A=lr(Et(b)),b=!1,f.navigator&&f.navigator.sendBeacon)try{b=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!b&&f.Image&&(new Image().src=p.A,b=!0),b||(p.g=hc(p.j,null),p.g.ea(p.A)),p.F=Date.now(),ri(p)}cc(c)}function ds(c){c.g&&(Dl(c),c.g.cancel(),c.g=null)}function ta(c){ds(c),c.v&&(f.clearTimeout(c.v),c.v=null),ia(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function mi(c){if(!_l(c.h)&&!c.m){c.m=!0;var p=c.Ea;fe||A(),ve||(fe(),ve=!0),I.add(p,c),c.D=0}}function na(c,p){return oi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ni(_(c.Ea,c,p),oc(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new qn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=M(q),re(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)e:{for(var p=0,b=0;b<this.i.length;b++){t:{var T=this.i[b];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(p+=T,p>4096){p=b;break e}if(p===4096||b===this.i.length-1){p=b+1;break e}}p=1e3}else p=1e3;p=sc(this,L,p),b=Et(this.J),Ge(b,"RID",c),Ge(b,"CVER",22),this.G&&Ge(b,"X-HTTP-Session-Id",this.G),fr(this,b),q&&(this.R?p="headers="+ji(Cn(q))+"&"+p:this.u&&ur(b,this.u,q)),bl(this.h,L),this.Ra&&Ge(b,"TYPE","init"),this.S?(Ge(b,"$req",p),Ge(b,"SID","null"),L.U=!0,si(L,b,null)):si(L,b,p),this.I=2}}else this.I==3&&(c?jl(this,c):this.i.length==0||_l(this.h)||jl(this))};function jl(c,p){var b;p?b=p.l:b=c.V++;const T=Et(c.J);Ge(T,"SID",c.M),Ge(T,"RID",b),Ge(T,"AID",c.K),fr(c,T),c.u&&c.o&&ur(T,c.u,c.o),b=new qn(c,c.j,b,c.D+1),c.u===null&&(b.J=c.o),p&&(c.i=p.G.concat(c.i)),p=sc(c,b,1e3),b.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),bl(c.h,b),si(b,T,p)}function fr(c,p){c.H&&Ue(c.H,function(b,T){Ge(p,T,b)}),c.l&&Ue({},function(b,T){Ge(p,T,b)})}function sc(c,p,b){b=Math.min(c.i.length,b);const T=c.l?_(c.l.Ka,c.l,c):null;e:{var L=c.i;let Se=-1;for(;;){const ft=["count="+b];Se==-1?b>0?(Se=L[0].g,ft.push("ofs="+Se)):Se=0:ft.push("ofs="+Se);let Be=!0;for(let st=0;st<b;st++){var q=L[st].g;const Rn=L[st].map;if(q-=Se,q<0)Se=Math.max(0,L[st].g-100),Be=!1;else try{q="req"+q+"_"||"";try{var te=Rn instanceof Map?Rn:Object.entries(Rn);for(const[gi,Qn]of te){let Yn=Qn;g(Qn)&&(Yn=ss(Qn)),ft.push(q+gi+"="+encodeURIComponent(Yn))}}catch(gi){throw ft.push(q+"type="+encodeURIComponent("_badmap")),gi}}catch{T&&T(Rn)}}if(Be){te=ft.join("&");break e}}te=void 0}return c=c.i.splice(0,b),p.G=c,te}function rc(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;fe||A(),ve||(fe(),ve=!0),I.add(p,c),c.A=0}}function mr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ni(_(c.Da,c),oc(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,ac(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ni(_(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_t(10),ds(this),ac(this))};function Dl(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function ac(c){c.g=new qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=Et(c.na);Ge(p,"RID","rpc"),Ge(p,"SID",c.M),Ge(p,"AID",c.K),Ge(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ge(p,"TO",c.ia),Ge(p,"TYPE","xmlhttp"),fr(c,p),c.u&&c.o&&ur(p,c.u,c.o),c.O&&(c.g.H=c.O);var b=c.g;c=c.ba,b.M=1,b.A=lr(Et(p)),b.u=null,b.R=!0,Kr(b,c)}r.Va=function(){this.C!=null&&(this.C=null,ds(this),mr(this),_t(19))};function ia(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function lc(c,p){var b=null;if(c.g==p){ia(c),Dl(c),c.g=null;var T=2}else if(ci(c.h,p))b=p.G,xl(c.h,p),T=1;else return;if(c.I!=0){if(p.o)if(T==1){b=p.u?p.u.length:0,p=Date.now()-p.F;var L=c.D;T=Yr(),Dt(T,new ti(T,b)),mi(c)}else rc(c);else if(L=p.m,L==3||L==0&&p.X>0||!(T==1&&na(c,p)||T==2&&mr(c)))switch(b&&b.length>0&&(p=c.h,p.i=p.i.concat(b)),L){case 1:pi(c,5);break;case 4:pi(c,10);break;case 3:pi(c,6);break;default:pi(c,2)}}}function oc(c,p){let b=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(b*=2),b*p}function pi(c,p){if(c.j.info("Error code "+p),p==2){var b=_(c.bb,c),T=c.Ua;const L=!T;T=new gn(T||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||zt(T,"https"),lr(T),L?Hn(T.toString(),b):Nl(T.toString(),b)}else _t(2);c.I=0,c.l&&c.l.pa(p),cc(c),ta(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function cc(c){if(c.I=0,c.ja=[],c.l){const p=El(c.h);(p.length!=0||c.i.length!=0)&&(Y(c.ja,p),Y(c.ja,c.i),c.h.i.length=0,H(c.i),c.i.length=0),c.l.oa()}}function uc(c,p,b){var T=b instanceof gn?Et(b):new gn(b);if(T.g!="")p&&(T.g=p+"."+T.g),rs(T,T.u);else{var L=f.location;T=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;const q=new gn(null);T&&zt(q,T),p&&(q.g=p),L&&rs(q,L),b&&(q.h=b),T=q}return b=c.G,p=c.wa,b&&p&&Ge(T,b,p),Ge(T,"VER",c.ka),fr(c,T),T}function hc(c,p,b){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new Ke(new hi({ab:b})):new Ke(c.ma),p.Fa(c.L),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function dc(){}r=dc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function fs(){}fs.prototype.g=function(c,p){return new sn(c,p)};function sn(c,p){vt.call(this),this.g=new hs(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!C(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!C(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Oi(this)}S(sn,vt),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Il(this.g)},sn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.v&&(b={},b.__data__=ss(c),c=b);p.i.push(new xt(p.Ya++,c)),p.I==3&&mi(p)},sn.prototype.N=function(){this.g.l=null,delete this.j,Il(this.g),delete this.g,sn.Z.N.call(this)};function fc(c){Bt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const b in p){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}S(fc,Bt);function mc(){An.call(this),this.status=1}S(mc,An);function Oi(c){this.g=c}S(Oi,dc),Oi.prototype.ra=function(){Dt(this.g,"a")},Oi.prototype.qa=function(c){Dt(this.g,new fc(c))},Oi.prototype.pa=function(c){Dt(this.g,new mc)},Oi.prototype.oa=function(){Dt(this.g,"b")},fs.prototype.createWebChannel=fs.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,M_=function(){return new fs},D_=function(){return Yr()},j_=dt,Uf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},rr.NO_ERROR=0,rr.TIMEOUT=8,rr.HTTP_ERROR=6,Au=rr,gl.COMPLETE="complete",I_=gl,Qo.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",vt.prototype.listen=vt.prototype.J,vo=Qo,Ke.prototype.listenOnce=Ke.prototype.K,Ke.prototype.getLastError=Ke.prototype.Ha,Ke.prototype.getLastErrorCode=Ke.prototype.ya,Ke.prototype.getStatus=Ke.prototype.ca,Ke.prototype.getResponseJson=Ke.prototype.La,Ke.prototype.getResponseText=Ke.prototype.la,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Fa,R_=Ke}).apply(typeof vu<"u"?vu:typeof self<"u"?self:typeof window<"u"?window:{});const F0="@firebase/firestore",G0="4.9.2";class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");let rl="12.3.0";const zr=new um("@firebase/firestore");function Oa(){return zr.logLevel}function ce(r,...e){if(zr.logLevel<=De.DEBUG){const i=e.map(fm);zr.debug(`Firestore (${rl}): ${r}`,...i)}}function Wi(r,...e){if(zr.logLevel<=De.ERROR){const i=e.map(fm);zr.error(`Firestore (${rl}): ${r}`,...i)}}function Ka(r,...e){if(zr.logLevel<=De.WARN){const i=e.map(fm);zr.warn(`Firestore (${rl}): ${r}`,...i)}}function fm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function Te(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,O_(r,a,i)}function O_(r,e,i){let a=`FIRESTORE (${rl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Wi(a),new Error(a)}function ot(r,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||O_(e,o,a)}function Le(r,e){return r}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends ns{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Or{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class V_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class T2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Jt.UNAUTHENTICATED)))}shutdown(){}}class S2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class A2{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){ot(this.o===void 0,42304);let a=this.i;const o=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let u=new Or;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Or,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const v=u;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},g=v=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Or)}}),0),f()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ot(typeof a.accessToken=="string",31837,{l:a}),new V_(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class w2{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class N2{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new w2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Q0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class C2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ei(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){ot(this.o===void 0,3512);const a=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>a(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Q0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(ot(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Q0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function R2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class k_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=R2(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<i&&(a+=e.charAt(o[u]%62))}return a}}function Oe(r,e){return r<e?-1:r>e?1:0}function zf(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const o=r.charAt(a),u=e.charAt(a);if(o!==u)return Tf(o)===Tf(u)?Oe(o,u):Tf(o)?1:-1}return Oe(r.length,e.length)}const I2=55296,j2=57343;function Tf(r){const e=r.charCodeAt(0);return e>=I2&&e<=j2}function Xa(r,e,i){return r.length===e.length&&r.every(((a,o)=>i(a,e[o])))}const Y0="__name__";class xi{constructor(e,i,a){i===void 0?i=0:i>e.length&&Te(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Te(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return xi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof xi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const u=xi.compareSegments(e.get(o),i.get(o));if(u!==0)return u}return Oe(e.length,i.length)}static compareSegments(e,i){const a=xi.isNumericId(e),o=xi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?xi.extractNumericId(e).compare(xi.extractNumericId(i)):zf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qs.fromString(e.substring(4,e.length-2))}}class at extends xi{construct(e,i,a){return new at(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ue(ee.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new at(i)}static emptyPath(){return new at([])}}const D2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends xi{construct(e,i,a){return new en(e,i,a)}static isValidIdentifier(e){return D2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Y0}static keyField(){return new en([Y0])}static fromServerFormat(e){const i=[];let a="",o=0;const u=()=>{if(a.length===0)throw new ue(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let f=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ue(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ue(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=v,o+=2}else g==="`"?(f=!f,o++):g!=="."||f?(a+=g,o++):(u(),o++)}if(u(),f)throw new ue(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(i)}static emptyPath(){return new en([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(at.fromString(e))}static fromName(e){return new ye(at.fromString(e).popFirst(5))}static empty(){return new ye(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return at.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new at(e.slice()))}}function M2(r,e,i){if(!i)throw new ue(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function O2(r,e,i,a){if(e===!0&&a===!0)throw new ue(ee.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function K0(r){if(ye.isDocumentKey(r))throw new ue(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function L_(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Wu(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function Pf(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ue(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Wu(r);throw new ue(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Rt(r,e){const i={typeString:r};return e&&(i.value=e),i}function ko(r,e){if(!L_(r))throw new ue(ee.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const f=r[a];if(o&&typeof f!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){i=`Expected '${a}' field to equal '${u.value}'`;break}}if(i)throw new ue(ee.INVALID_ARGUMENT,i);return!0}const X0=-62135596800,$0=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*$0);return new lt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ue(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ue(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<X0)throw new ue(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$0}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ko(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-X0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:Rt("string",lt._jsonSchemaVersion),seconds:Rt("number"),nanoseconds:Rt("number")};class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new lt(0,0))}static max(){return new Ee(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Co=-1;function V2(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Ee.fromTimestamp(a===1e9?new lt(i+1,0):new lt(i,a));return new Ys(o,ye.empty(),e)}function k2(r){return new Ys(r.readTime,r.key,Co)}class Ys{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Ys(Ee.min(),ye.empty(),Co)}static max(){return new Ys(Ee.max(),ye.empty(),Co)}}function L2(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ye.comparator(r.documentKey,e.documentKey),i!==0?i:Oe(r.largestBatchId,e.largestBatchId))}const U2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class z2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function eh(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==U2)throw r;ce("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,a)=>{i(e)}))}static reject(e){return new Z(((i,a)=>{a(e)}))}static waitFor(e){return new Z(((i,a)=>{let o=0,u=0,f=!1;e.forEach((g=>{++o,g.next((()=>{++u,f&&u===o&&i()}),(v=>a(v)))})),f=!0,u===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const a of e)i=i.next((o=>o?Z.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,u)=>{a.push(i.call(this,o,u))})),this.waitFor(a)}static mapArray(e,i){return new Z(((a,o)=>{const u=e.length,f=new Array(u);let g=0;for(let v=0;v<u;v++){const _=v;i(e[_]).next((E=>{f[_]=E,++g,g===u&&a(f)}),(E=>o(E)))}}))}static doWhile(e,i){return new Z(((a,o)=>{const u=()=>{e()===!0?i().next((()=>{u()}),o):a()};u()}))}}function P2(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function al(r){return r.name==="IndexedDbTransactionError"}class th{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}th.ce=-1;const q2=-1;function nh(r){return r==null}function Uu(r){return r===0&&1/r==-1/0}function B2(r){return typeof r=="number"&&Number.isInteger(r)&&!Uu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const U_="";function H2(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=Z0(e)),e=F2(r.get(i),e);return Z0(e)}function F2(r,e){let i=e;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":i+="";break;case U_:i+="";break;default:i+=u}}return i}function Z0(r){return r+U_+""}function J0(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function ll(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function z_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class yt{constructor(e,i){this.comparator=e,this.root=i||Kt.EMPTY}insert(e,i){return new yt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _u(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _u(this.root,e,this.comparator,!1)}getReverseIterator(){return new _u(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _u(this.root,e,this.comparator,!0)}}class _u{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=i?a(e.key,i):1,i&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,i,a,o,u){this.key=e,this.value=i,this.color=a??Kt.RED,this.left=o??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,u){return new Kt(e??this.key,i??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,i,a),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,i,a,o,u){return this}insert(e,i,a){return new Kt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ot{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new W0(this.data.getIterator())}getIteratorFrom(e){return new W0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ot(this.comparator);return i.data=e,i}}class W0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class qs{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new qs([])}unionWith(e){let i=new Ot(en.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new qs(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Xa(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class P_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new P_("Invalid base64 string: "+u):u}})(e);return new Xt(i)}static fromUint8Array(e){const i=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Xt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const G2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ks(r){if(ot(!!r,39018),typeof r=="string"){let e=0;const i=G2.exec(r);if(ot(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:gt(r.seconds),nanos:gt(r.nanos)}}function gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Xs(r){return typeof r=="string"?Xt.fromBase64String(r):Xt.fromUint8Array(r)}const q_="server_timestamp",B_="__type__",H_="__previous_value__",F_="__local_write_time__";function mm(r){return(r?.mapValue?.fields||{})[B_]?.stringValue===q_}function ih(r){const e=r.mapValue.fields[H_];return mm(e)?ih(e):e}function Ro(r){const e=Ks(r.mapValue.fields[F_].timestampValue);return new lt(e.seconds,e.nanos)}class Q2{constructor(e,i,a,o,u,f,g,v,_,E){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=E}}const zu="(default)";class Io{constructor(e,i){this.projectId=e,this.database=i||zu}static empty(){return new Io("","")}get isDefaultDatabase(){return this.database===zu}isEqual(e){return e instanceof Io&&e.projectId===this.projectId&&e.database===this.database}}const G_="__type__",Y2="__max__",bu={mapValue:{}},Q_="__vector__",Pu="value";function $s(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?mm(r)?4:X2(r)?9007199254740991:K2(r)?10:11:Te(28295,{value:r})}function Ii(r,e){if(r===e)return!0;const i=$s(r);if(i!==$s(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ro(r).isEqual(Ro(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Ks(o.timestampValue),g=Ks(u.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return Xs(o.bytesValue).isEqual(Xs(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=gt(o.doubleValue),g=gt(u.doubleValue);return f===g?Uu(f)===Uu(g):isNaN(f)&&isNaN(g)}return!1})(r,e);case 9:return Xa(r.arrayValue.values||[],e.arrayValue.values||[],Ii);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},g=u.mapValue.fields||{};if(J0(f)!==J0(g))return!1;for(const v in f)if(f.hasOwnProperty(v)&&(g[v]===void 0||!Ii(f[v],g[v])))return!1;return!0})(r,e);default:return Te(52216,{left:r})}}function jo(r,e){return(r.values||[]).find((i=>Ii(i,e)))!==void 0}function $a(r,e){if(r===e)return 0;const i=$s(r),a=$s(e);if(i!==a)return Oe(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Oe(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const g=gt(u.integerValue||u.doubleValue),v=gt(f.integerValue||f.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(r,e);case 3:return ev(r.timestampValue,e.timestampValue);case 4:return ev(Ro(r),Ro(e));case 5:return zf(r.stringValue,e.stringValue);case 6:return(function(u,f){const g=Xs(u),v=Xs(f);return g.compareTo(v)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const g=u.split("/"),v=f.split("/");for(let _=0;_<g.length&&_<v.length;_++){const E=Oe(g[_],v[_]);if(E!==0)return E}return Oe(g.length,v.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const g=Oe(gt(u.latitude),gt(f.latitude));return g!==0?g:Oe(gt(u.longitude),gt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return tv(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const g=u.fields||{},v=f.fields||{},_=g[Pu]?.arrayValue,E=v[Pu]?.arrayValue,S=Oe(_?.values?.length||0,E?.values?.length||0);return S!==0?S:tv(_,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===bu.mapValue&&f===bu.mapValue)return 0;if(u===bu.mapValue)return 1;if(f===bu.mapValue)return-1;const g=u.fields||{},v=Object.keys(g),_=f.fields||{},E=Object.keys(_);v.sort(),E.sort();for(let S=0;S<v.length&&S<E.length;++S){const w=zf(v[S],E[S]);if(w!==0)return w;const H=$a(g[v[S]],_[E[S]]);if(H!==0)return H}return Oe(v.length,E.length)})(r.mapValue,e.mapValue);default:throw Te(23264,{he:i})}}function ev(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Oe(r,e);const i=Ks(r),a=Ks(e),o=Oe(i.seconds,a.seconds);return o!==0?o:Oe(i.nanos,a.nanos)}function tv(r,e){const i=r.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const u=$a(i[o],a[o]);if(u)return u}return Oe(i.length,a.length)}function Za(r){return qf(r)}function qf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Ks(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Xs(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ye.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const u of i.values||[])o?o=!1:a+=",",a+=qf(u);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const f of a)u?u=!1:o+=",",o+=`${f}:${qf(i.fields[f])}`;return o+"}"})(r.mapValue):Te(61005,{value:r})}function wu(r){switch($s(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ih(r);return e?16+wu(e):16;case 5:return 2*r.stringValue.length;case 6:return Xs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,u)=>o+wu(u)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return ll(a.fields,((u,f)=>{o+=u.length+wu(f)})),o})(r.mapValue);default:throw Te(13486,{value:r})}}function nv(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Bf(r){return!!r&&"integerValue"in r}function pm(r){return!!r&&"arrayValue"in r}function iv(r){return!!r&&"nullValue"in r}function sv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Sf(r){return!!r&&"mapValue"in r}function K2(r){return(r?.mapValue?.fields||{})[G_]?.stringValue===Q_}function Eo(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ll(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Eo(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Eo(r.arrayValue.values[i]);return e}return{...r}}function X2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Y2}class Ti{constructor(e){this.value=e}static empty(){return new Ti({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Sf(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eo(i)}setAll(e){let i=en.emptyPath(),a={},o=[];e.forEach(((f,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,a,o),a={},o=[],i=g.popLast()}f?a[g.lastSegment()]=Eo(f):o.push(g.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,a,o)}delete(e){const i=this.field(e.popLast());Sf(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ii(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Sf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){ll(i,((o,u)=>e[o]=u));for(const o of a)delete e[o]}clone(){return new Ti(Eo(this.value))}}class Wt{constructor(e,i,a,o,u,f,g){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=u,this.data=f,this.documentState=g}static newInvalidDocument(e){return new Wt(e,0,Ee.min(),Ee.min(),Ee.min(),Ti.empty(),0)}static newFoundDocument(e,i,a,o){return new Wt(e,1,i,Ee.min(),a,o,0)}static newNoDocument(e,i){return new Wt(e,2,i,Ee.min(),Ee.min(),Ti.empty(),0)}static newUnknownDocument(e,i){return new Wt(e,3,i,Ee.min(),Ee.min(),Ti.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ti.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qu{constructor(e,i){this.position=e,this.inclusive=i}}function rv(r,e,i){let a=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?a=ye.comparator(ye.fromName(f.referenceValue),i.key):a=$a(f,i.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function av(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ii(r.position[i],e.position[i]))return!1;return!0}class Do{constructor(e,i="asc"){this.field=e,this.dir=i}}function $2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Y_{}class Ct extends Y_{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new J2(e,i,a):i==="array-contains"?new tS(e,a):i==="in"?new nS(e,a):i==="not-in"?new iS(e,a):i==="array-contains-any"?new sS(e,a):new Ct(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new W2(e,a):new eS(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison($a(i,this.value)):i!==null&&$s(this.value)===$s(i)&&this.matchesComparison($a(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends Y_{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Jn(e,i)}matches(e){return K_(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function K_(r){return r.op==="and"}function X_(r){return Z2(r)&&K_(r)}function Z2(r){for(const e of r.filters)if(e instanceof Jn)return!1;return!0}function Hf(r){if(r instanceof Ct)return r.field.canonicalString()+r.op.toString()+Za(r.value);if(X_(r))return r.filters.map((e=>Hf(e))).join(",");{const e=r.filters.map((i=>Hf(i))).join(",");return`${r.op}(${e})`}}function $_(r,e){return r instanceof Ct?(function(a,o){return o instanceof Ct&&a.op===o.op&&a.field.isEqual(o.field)&&Ii(a.value,o.value)})(r,e):r instanceof Jn?(function(a,o){return o instanceof Jn&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((u,f,g)=>u&&$_(f,o.filters[g])),!0):!1})(r,e):void Te(19439)}function Z_(r){return r instanceof Ct?(function(i){return`${i.field.canonicalString()} ${i.op} ${Za(i.value)}`})(r):r instanceof Jn?(function(i){return i.op.toString()+" {"+i.getFilters().map(Z_).join(" ,")+"}"})(r):"Filter"}class J2 extends Ct{constructor(e,i,a){super(e,i,a),this.key=ye.fromName(a.referenceValue)}matches(e){const i=ye.comparator(e.key,this.key);return this.matchesComparison(i)}}class W2 extends Ct{constructor(e,i){super(e,"in",i),this.keys=J_("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class eS extends Ct{constructor(e,i){super(e,"not-in",i),this.keys=J_("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function J_(r,e){return(e.arrayValue?.values||[]).map((i=>ye.fromName(i.referenceValue)))}class tS extends Ct{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return pm(i)&&jo(i.arrayValue,this.value)}}class nS extends Ct{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&jo(this.value.arrayValue,i)}}class iS extends Ct{constructor(e,i){super(e,"not-in",i)}matches(e){if(jo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!jo(this.value.arrayValue,i)}}class sS extends Ct{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!pm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>jo(this.value.arrayValue,a)))}}class rS{constructor(e,i=null,a=[],o=[],u=null,f=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=f,this.endAt=g,this.Te=null}}function lv(r,e=null,i=[],a=[],o=null,u=null,f=null){return new rS(r,e,i,a,o,u,f)}function gm(r){const e=Le(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>Hf(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),nh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>Za(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>Za(a))).join(",")),e.Te=i}return e.Te}function ym(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!$2(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!$_(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!av(r.startAt,e.startAt)&&av(r.endAt,e.endAt)}function Ff(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class ol{constructor(e,i=null,a=[],o=[],u=null,f="F",g=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=f,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function aS(r,e,i,a,o,u,f,g){return new ol(r,e,i,a,o,u,f,g)}function W_(r){return new ol(r)}function ov(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function e1(r){return r.collectionGroup!==null}function To(r){const e=Le(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),i.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Ot(en.comparator);return f.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Do(u,a))})),i.has(en.keyField().canonicalString())||e.Ie.push(new Do(en.keyField(),a))}return e.Ie}function Si(r){const e=Le(r);return e.Ee||(e.Ee=lS(e,To(r))),e.Ee}function lS(r,e){if(r.limitType==="F")return lv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Do(o.field,u)}));const i=r.endAt?new qu(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new qu(r.startAt.position,r.startAt.inclusive):null;return lv(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function Gf(r,e){const i=r.filters.concat([e]);return new ol(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Qf(r,e,i){return new ol(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function sh(r,e){return ym(Si(r),Si(e))&&r.limitType===e.limitType}function t1(r){return`${gm(Si(r))}|lt:${r.limitType}`}function Va(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>Z_(o))).join(", ")}]`),nh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>Za(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>Za(o))).join(",")),`Target(${a})`})(Si(r))}; limitType=${r.limitType})`}function rh(r,e){return e.isFoundDocument()&&(function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):ye.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(r,e)&&(function(a,o){for(const u of To(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(f,g,v){const _=rv(f,g,v);return f.inclusive?_<=0:_<0})(a.startAt,To(a),o)||a.endAt&&!(function(f,g,v){const _=rv(f,g,v);return f.inclusive?_>=0:_>0})(a.endAt,To(a),o))})(r,e)}function oS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function n1(r){return(e,i)=>{let a=!1;for(const o of To(r)){const u=cS(o,e,i);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function cS(r,e,i){const a=r.field.isKeyField()?ye.comparator(e.key,i.key):(function(u,f,g){const v=f.data.field(u),_=g.data.field(u);return v!==null&&_!==null?$a(v,_):Te(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Te(19790,{direction:r.dir})}}class Br{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ll(this.inner,((i,a)=>{for(const[o,u]of a)e(o,u)}))}isEmpty(){return z_(this.inner)}size(){return this.innerSize}}const uS=new yt(ye.comparator);function Zs(){return uS}const i1=new yt(ye.comparator);function _o(...r){let e=i1;for(const i of r)e=e.insert(i.key,i);return e}function hS(r){let e=i1;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function Dr(){return So()}function s1(){return So()}function So(){return new Br((r=>r.toString()),((r,e)=>r.isEqual(e)))}const dS=new Ot(ye.comparator);function ze(...r){let e=dS;for(const i of r)e=e.add(i);return e}const fS=new Ot(Oe);function mS(){return fS}function vm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uu(e)?"-0":e}}function r1(r){return{integerValue:""+r}}function pS(r,e){return B2(e)?r1(e):vm(r,e)}class ah{constructor(){this._=void 0}}function gS(r,e,i){return r instanceof Yf?(function(o,u){const f={fields:{[B_]:{stringValue:q_},[F_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&mm(u)&&(u=ih(u)),u&&(f.fields[H_]=u),{mapValue:f}})(i,e):r instanceof Bu?a1(r,e):r instanceof Hu?l1(r,e):(function(o,u){const f=vS(o,u),g=cv(f)+cv(o.Ae);return Bf(f)&&Bf(o.Ae)?r1(g):vm(o.serializer,g)})(r,e)}function yS(r,e,i){return r instanceof Bu?a1(r,e):r instanceof Hu?l1(r,e):i}function vS(r,e){return r instanceof Kf?(function(a){return Bf(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(e)?e:{integerValue:0}:null}class Yf extends ah{}class Bu extends ah{constructor(e){super(),this.elements=e}}function a1(r,e){const i=o1(e);for(const a of r.elements)i.some((o=>Ii(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Hu extends ah{constructor(e){super(),this.elements=e}}function l1(r,e){let i=o1(e);for(const a of r.elements)i=i.filter((o=>!Ii(o,a)));return{arrayValue:{values:i}}}class Kf extends ah{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function cv(r){return gt(r.integerValue||r.doubleValue)}function o1(r){return pm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function _S(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof Bu&&o instanceof Bu||a instanceof Hu&&o instanceof Hu?Xa(a.elements,o.elements,Ii):a instanceof Kf&&o instanceof Kf?Ii(a.Ae,o.Ae):a instanceof Yf&&o instanceof Yf})(r.transform,e.transform)}class Vr{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Vr}static exists(e){return new Vr(void 0,e)}static updateTime(e){return new Vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class _m{}function c1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new xS(r.key,Vr.none()):new bm(r.key,r.data,Vr.none());{const i=r.data,a=Ti.empty();let o=new Ot(en.comparator);for(let u of e.fields)if(!o.has(u)){let f=i.field(u);f===null&&u.length>1&&(u=u.popLast(),f=i.field(u)),f===null?a.delete(u):a.set(u,f),o=o.add(u)}return new lh(r.key,a,new qs(o.toArray()),Vr.none())}}function bS(r,e,i){r instanceof bm?(function(o,u,f){const g=o.value.clone(),v=hv(o.fieldTransforms,u,f.transformResults);g.setAll(v),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,i):r instanceof lh?(function(o,u,f){if(!Nu(o.precondition,u))return void u.convertToUnknownDocument(f.version);const g=hv(o.fieldTransforms,u,f.transformResults),v=u.data;v.setAll(u1(o)),v.setAll(g),u.convertToFoundDocument(f.version,v).setHasCommittedMutations()})(r,e,i):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,i)}function Ao(r,e,i,a){return r instanceof bm?(function(u,f,g,v){if(!Nu(u.precondition,f))return g;const _=u.value.clone(),E=dv(u.fieldTransforms,v,f);return _.setAll(E),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null})(r,e,i,a):r instanceof lh?(function(u,f,g,v){if(!Nu(u.precondition,f))return g;const _=dv(u.fieldTransforms,v,f),E=f.data;return E.setAll(u1(u)),E.setAll(_),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,e,i,a):(function(u,f,g){return Nu(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(r,e,i)}function uv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Xa(a,o,((u,f)=>_S(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class bm extends _m{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class lh extends _m{constructor(e,i,a,o,u=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function u1(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function hv(r,e,i){const a=new Map;ot(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const u=r[o],f=u.transform,g=e.data.field(u.field);a.set(u.field,yS(f,g,i[o]))}return a}function dv(r,e,i){const a=new Map;for(const o of r){const u=o.transform,f=i.data.field(o.field);a.set(o.field,gS(u,f,e))}return a}class xS extends _m{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ES{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&bS(u,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Ao(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Ao(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=s1();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let g=this.applyToLocalView(f,u.mutatedFields);g=i.has(o.key)?null:g;const v=c1(f,g);v!==null&&a.set(o.key,v),f.isValidDocument()||f.convertToNoDocument(Ee.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),ze())}isEqual(e){return this.batchId===e.batchId&&Xa(this.mutations,e.mutations,((i,a)=>uv(i,a)))&&Xa(this.baseMutations,e.baseMutations,((i,a)=>uv(i,a)))}}class TS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class SS{constructor(e,i){this.count=e,this.unchangedNames=i}}var Nt,ke;function h1(r){if(r===void 0)return Wi("GRPC error has no .code"),ee.UNKNOWN;switch(r){case Nt.OK:return ee.OK;case Nt.CANCELLED:return ee.CANCELLED;case Nt.UNKNOWN:return ee.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return ee.INTERNAL;case Nt.UNAVAILABLE:return ee.UNAVAILABLE;case Nt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Nt.NOT_FOUND:return ee.NOT_FOUND;case Nt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Nt.ABORTED:return ee.ABORTED;case Nt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Nt.DATA_LOSS:return ee.DATA_LOSS;default:return Te(39323,{code:r})}}(ke=Nt||(Nt={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";function AS(){return new TextEncoder}const wS=new Qs([4294967295,4294967295],0);function fv(r){const e=AS().encode(r),i=new C_;return i.update(e),new Uint8Array(i.digest())}function mv(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Qs([i,a],0),new Qs([o,u],0)]}class xm{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new bo(`Invalid padding: ${i}`);if(a<0)throw new bo(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new bo(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new bo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Qs.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(Qs.fromNumber(a)));return o.compare(wS)===1&&(o=new Qs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=fv(e),[a,o]=mv(i);for(let u=0;u<this.hashCount;u++){const f=this.ye(a,o,u);if(!this.we(f))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new xm(u,o,i);return a.forEach((g=>f.insert(g))),f}insert(e){if(this.ge===0)return;const i=fv(e),[a,o]=mv(i);for(let u=0;u<this.hashCount;u++){const f=this.ye(a,o,u);this.Se(f)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class bo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class oh{constructor(e,i,a,o,u){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,Lo.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new oh(Ee.min(),o,new yt(Oe),Zs(),ze())}}class Lo{constructor(e,i,a,o,u){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Lo(a,i,ze(),ze(),ze())}}class Cu{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class d1{constructor(e,i){this.targetId=e,this.Ce=i}}class f1{constructor(e,i,a=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class pv{constructor(){this.ve=0,this.Fe=gv(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),i=ze(),a=ze();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:Te(38017,{changeType:u})}})),new Lo(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=gv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ot(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class NS{constructor(e){this.Ge=e,this.ze=new Map,this.je=Zs(),this.Je=xu(),this.He=xu(),this.Ye=new yt(Oe)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const u=o.target;if(Ff(u))if(a===0){const f=new ye(u.path);this.et(i,f,Wt.newNoDocument(f,Ee.min()))}else ot(a===1,20013,{expectedCount:a});else{const f=this._t(i);if(f!==a){const g=this.ut(e),v=g?this.ct(g,e,f):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=i;let f,g;try{f=Xs(a).toUint8Array()}catch(v){if(v instanceof P_)return Ka("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new xm(f,o,u)}catch(v){return Ka(v instanceof bo?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((u=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.et(i,u,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((u,f)=>{const g=this.ot(f);if(g){if(u.current&&Ff(g.target)){const v=new ye(g.target.path);this.It(v).has(f)||this.Et(f,v)||this.et(f,v,Wt.newNoDocument(v,e))}u.Be&&(i.set(f,u.ke()),u.qe())}}));let a=ze();this.He.forEach(((u,f)=>{let g=!0;f.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new oh(e,i,this.Ye,this.je,a);return this.je=Zs(),this.Je=xu(),this.He=xu(),this.Ye=new yt(Oe),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new pv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ot(Oe),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ot(Oe),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ce("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new pv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function xu(){return new yt(ye.comparator)}function gv(){return new yt(ye.comparator)}const CS={asc:"ASCENDING",desc:"DESCENDING"},RS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},IS={and:"AND",or:"OR"};class jS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Xf(r,e){return r.useProto3Json||nh(e)?e:{value:e}}function $f(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function m1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function za(r){return ot(!!r,49232),Ee.fromTimestamp((function(i){const a=Ks(i);return new lt(a.seconds,a.nanos)})(r))}function p1(r,e){return Zf(r,e).canonicalString()}function Zf(r,e){const i=(function(o){return new at(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function g1(r){const e=at.fromString(r);return ot(x1(e),10190,{key:e.toString()}),e}function Af(r,e){const i=g1(e);if(i.get(1)!==r.databaseId.projectId)throw new ue(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ue(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ye(v1(i))}function y1(r,e){return p1(r.databaseId,e)}function DS(r){const e=g1(r);return e.length===4?at.emptyPath():v1(e)}function yv(r){return new at(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function v1(r){return ot(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function MS(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Te(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(_,E){return _.useProto3Json?(ot(E===void 0||typeof E=="string",58123),Xt.fromBase64String(E||"")):(ot(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,g=f&&(function(_){const E=_.code===void 0?ee.UNKNOWN:h1(_.code);return new ue(E,_.message||"")})(f);i=new f1(a,o,u,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Af(r,a.document.name),u=za(a.document.updateTime),f=a.document.createTime?za(a.document.createTime):Ee.min(),g=new Ti({mapValue:{fields:a.document.fields}}),v=Wt.newFoundDocument(o,u,f,g),_=a.targetIds||[],E=a.removedTargetIds||[];i=new Cu(_,E,v.key,v)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Af(r,a.document),u=a.readTime?za(a.readTime):Ee.min(),f=Wt.newNoDocument(o,u),g=a.removedTargetIds||[];i=new Cu([],g,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Af(r,a.document),u=a.removedTargetIds||[];i=new Cu([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,f=new SS(o,u),g=a.targetId;i=new d1(g,f)}}return i}function OS(r,e){return{documents:[y1(r,e.path)]}}function VS(r,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=y1(r,o);const u=(function(_){if(_.length!==0)return b1(Jn.create(_,"and"))})(e.filters);u&&(i.structuredQuery.where=u);const f=(function(_){if(_.length!==0)return _.map((E=>(function(w){return{field:ka(w.field),direction:US(w.dir)}})(E)))})(e.orderBy);f&&(i.structuredQuery.orderBy=f);const g=Xf(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function kS(r){let e=DS(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){ot(a===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];i.where&&(u=(function(S){const w=_1(S);return w instanceof Jn&&X_(w)?w.getFilters():[w]})(i.where));let f=[];i.orderBy&&(f=(function(S){return S.map((w=>(function(Y){return new Do(La(Y.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(w)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let w;return w=typeof S=="object"?S.value:S,nh(w)?null:w})(i.limit));let v=null;i.startAt&&(v=(function(S){const w=!!S.before,H=S.values||[];return new qu(H,w)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const w=!S.before,H=S.values||[];return new qu(H,w)})(i.endAt)),aS(e,o,f,u,g,"F",v,_)}function LS(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function _1(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=La(i.unaryFilter.field);return Ct.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=La(i.unaryFilter.field);return Ct.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=La(i.unaryFilter.field);return Ct.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=La(i.unaryFilter.field);return Ct.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ct.create(La(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Jn.create(i.compositeFilter.filters.map((a=>_1(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(i.compositeFilter.op))})(r):Te(30097,{filter:r})}function US(r){return CS[r]}function zS(r){return RS[r]}function PS(r){return IS[r]}function ka(r){return{fieldPath:r.canonicalString()}}function La(r){return en.fromServerFormat(r.fieldPath)}function b1(r){return r instanceof Ct?(function(i){if(i.op==="=="){if(sv(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NAN"}};if(iv(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(sv(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NOT_NAN"}};if(iv(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ka(i.field),op:zS(i.op),value:i.value}}})(r):r instanceof Jn?(function(i){const a=i.getFilters().map((o=>b1(o)));return a.length===1?a[0]:{compositeFilter:{op:PS(i.op),filters:a}}})(r):Te(54877,{filter:r})}function x1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Bs{constructor(e,i,a,o,u=Ee.min(),f=Ee.min(),g=Xt.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new Bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class qS{constructor(e){this.yt=e}}function BS(r){const e=kS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Qf(e,e.limit,"L"):e}class HS{constructor(){this.Cn=new FS}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(Ys.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(Ys.min())}updateCollectionGroup(e,i,a){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class FS{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Ot(at.comparator),u=!o.has(a);return this.index[i]=o.add(a),u}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Ot(at.comparator)).toArray()}}const vv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},E1=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(E1,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class Ja{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ja(0)}static cr(){return new Ja(-1)}}const _v="LruGarbageCollector",GS=1048576;function bv([r,e],[i,a]){const o=Oe(r,i);return o===0?Oe(e,a):o}class QS{constructor(e){this.Ir=e,this.buffer=new Ot(bv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();bv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class YS{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(_v,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){al(i)?ce(_v,"Ignoring IndexedDB error during garbage collection: ",i):await eh(i)}await this.Vr(3e5)}))}}class KS{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(th.ce);const a=new QS(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(vv)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,u,f,g,v,_;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(a=S,g=Date.now(),this.removeTargets(e,a,i)))).next((S=>(u=S,v=Date.now(),this.removeOrphanedDocuments(e,a)))).next((S=>(_=Date.now(),Oa()<=De.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(g-f)+`ms
	Removed ${u} targets in `+(v-g)+`ms
	Removed ${S} documents in `+(_-v)+`ms
Total Duration: ${_-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function XS(r,e){return new KS(r,e)}class $S{constructor(){this.changes=new Br((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ZS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class JS{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&Ao(a.mutation,o,qs.empty(),lt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,ze()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=ze()){const o=Dr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((u=>{let f=_o();return u.forEach(((g,v)=>{f=f.insert(g,v.overlayedDocument)})),f}))))}getOverlayedDocuments(e,i){const a=Dr();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,ze())))}populateOverlays(e,i,a){const o=[];return a.forEach((u=>{i.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,g)=>{i.set(f,g)}))}))}computeViews(e,i,a,o){let u=Zs();const f=So(),g=(function(){return So()})();return i.forEach(((v,_)=>{const E=a.get(_.key);o.has(_.key)&&(E===void 0||E.mutation instanceof lh)?u=u.insert(_.key,_):E!==void 0?(f.set(_.key,E.mutation.getFieldMask()),Ao(E.mutation,_,E.mutation.getFieldMask(),lt.now())):f.set(_.key,qs.empty())})),this.recalculateAndSaveOverlays(e,u).next((v=>(v.forEach(((_,E)=>f.set(_,E))),i.forEach(((_,E)=>g.set(_,new ZS(E,f.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,i){const a=So();let o=new yt(((f,g)=>f-g)),u=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((f=>{for(const g of f)g.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let E=a.get(v)||qs.empty();E=g.applyToLocalView(_,E),a.set(v,E);const S=(o.get(g.batchId)||ze()).add(v);o=o.insert(g.batchId,S)}))})).next((()=>{const f=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),_=v.key,E=v.value,S=s1();E.forEach((w=>{if(!u.has(w)){const H=c1(i.get(w),a.get(w));H!==null&&S.set(w,H),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(e,_,S))}return Z.waitFor(f)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):e1(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-u.size):Z.resolve(Dr());let g=Co,v=u;return f.next((_=>Z.forEach(_,((E,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),u.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{v=v.insert(E,w)}))))).next((()=>this.populateOverlays(e,_,u))).next((()=>this.computeViews(e,v,_,ze()))).next((E=>({batchId:g,changes:hS(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ye(i)).next((a=>{let o=_o();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const u=i.collectionGroup;let f=_o();return this.indexManager.getCollectionParents(e,u).next((g=>Z.forEach(g,(v=>{const _=(function(S,w){return new ol(w,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,v.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((E=>{E.forEach(((S,w)=>{f=f.insert(S,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,u,o)))).next((f=>{u.forEach(((v,_)=>{const E=_.getKey();f.get(E)===null&&(f=f.insert(E,Wt.newInvalidDocument(E)))}));let g=_o();return f.forEach(((v,_)=>{const E=u.get(v);E!==void 0&&Ao(E.mutation,_,qs.empty(),lt.now()),rh(i,_)&&(g=g.insert(v,_))})),g}))}}class WS{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:za(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:BS(o.bundledQuery),readTime:za(o.readTime)}})(i)),Z.resolve()}}class eA{constructor(){this.overlays=new yt(ye.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Dr();return Z.forEach(i,(o=>this.getOverlay(e,o).next((u=>{u!==null&&a.set(o,u)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,u)=>{this.St(e,i,u)})),Z.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(a)),Z.resolve()}getOverlaysForCollection(e,i,a){const o=Dr(),u=i.length+1,f=new ye(i.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const v=g.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===u&&v.largestBatchId>a&&o.set(v.getKey(),v)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let u=new yt(((_,E)=>_-E));const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let E=u.get(_.largestBatchId);E===null&&(E=Dr(),u=u.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const g=Dr(),v=u.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,E)=>g.set(_,E))),!(g.size()>=o)););return Z.resolve(g)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new TS(i,a));let u=this.qr.get(i);u===void 0&&(u=ze(),this.qr.set(i,u)),this.qr.set(i,u.add(a.key))}}class tA{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class Em{constructor(){this.Qr=new Ot(qt.$r),this.Ur=new Ot(qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new qt(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new qt(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new ye(new at([])),a=new qt(i,e),o=new qt(i,e+1),u=[];return this.Ur.forEachInRange([a,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ye(new at([])),a=new qt(i,e),o=new qt(i,e+1);let u=ze();return this.Ur.forEachInRange([a,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const i=new qt(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class qt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ye.comparator(e.key,i.key)||Oe(e.Yr,i.Yr)}static Kr(e,i){return Oe(e.Yr,i.Yr)||ye.comparator(e.key,i.key)}}class nA{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ot(qt.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new ES(u,i,a,o);this.mutationQueue.push(f);for(const g of o)this.Zr=this.Zr.add(new qt(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?q2:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new qt(i,0),o=new qt(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([a,o],(f=>{const g=this.Xr(f.Yr);u.push(g)})),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Ot(Oe);return i.forEach((o=>{const u=new qt(o,0),f=new qt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(g=>{a=a.add(g.Yr)}))})),Z.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let u=a;ye.isDocumentKey(u)||(u=u.child(""));const f=new qt(new ye(u),0);let g=new Ot(Oe);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(g=g.add(v.Yr)),!0)}),f),Z.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){ot(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Z.forEach(i.mutations,(o=>{const u=new qt(o.key,i.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new qt(i,0),o=this.Zr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class iA{constructor(e){this.ri=e,this.docs=(function(){return new yt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),u=o?o.size:0,f=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():Wt.newInvalidDocument(i))}getEntries(e,i){let a=Zs();return i.forEach((o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))})),Z.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let u=Zs();const f=i.path,g=new ye(f.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:_,value:{document:E}}=v.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||L2(k2(E),a)<=0||(o.has(E.key)||rh(i,E))&&(u=u.insert(E.key,E.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,i,a,o){Te(9500)}ii(e,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new sA(this)}getSize(e){return Z.resolve(this.size)}}class sA extends $S{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class rA{constructor(e){this.persistence=e,this.si=new Br((i=>gm(i)),ym),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.oi=0,this._i=new Em,this.targetCount=0,this.ai=Ja.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Ja(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,a){let o=0;const u=[];return this.si.forEach(((f,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),Z.waitFor(u).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return Z.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),Z.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),Z.waitFor(u)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return Z.resolve(a)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}class T1{constructor(e,i){this.ui={},this.overlays={},this.ci=new th(0),this.li=!1,this.li=!0,this.hi=new tA,this.referenceDelegate=e(this),this.Pi=new rA(this),this.indexManager=new HS,this.remoteDocumentCache=(function(o){return new iA(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new qS(i),this.Ii=new WS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new eA,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new nA(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){ce("MemoryPersistence","Starting transaction:",e);const o=new aA(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,i){return Z.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class aA extends z2{constructor(e){super(),this.currentSequenceNumber=e}}class Tm{constructor(e){this.persistence=e,this.Ri=new Em,this.Vi=null}static mi(e){return new Tm(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Z.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(a=>{const o=ye.fromPath(a);return this.gi(e,o).next((u=>{u||i.removeEntry(o,Ee.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Fu{constructor(e,i){this.persistence=e,this.pi=new Br((a=>H2(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=XS(this,i)}static mi(e,i){return new Fu(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((a,o)=>this.br(e,a,o).next((u=>u?Z.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,i).next((g=>{g||(a++,u.removeEntry(f,Ee.min()))})))).next((()=>u.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=wu(e.data.value)),i}br(e,i,a){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return Z.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Sm{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=ze(),o=ze();for(const u of i.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Sm(e,i.fromCache,a,o)}}class lA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class oA{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return iT()?8:P2(tn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const u={result:null};return this.ys(e,i).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,i,o,a).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new lA;return this.Ss(e,i,f).next((g=>{if(u.result=g,this.Vs)return this.bs(e,i,f,g.size)}))})).next((()=>u.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(Oa()<=De.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Va(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Oa()<=De.DEBUG&&ce("QueryEngine","Query:",Va(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Oa()<=De.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Va(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Si(i))):Z.resolve())}ys(e,i){if(ov(i))return Z.resolve(null);let a=Si(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Qf(i,null,"F"),a=Si(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((u=>{const f=ze(...u);return this.ps.getDocuments(e,f).next((g=>this.indexManager.getMinOffset(e,a).next((v=>{const _=this.Ds(i,g);return this.Cs(i,_,f,v.readTime)?this.ys(e,Qf(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,a,o){return ov(i)||o.isEqual(Ee.min())?Z.resolve(null):this.ps.getDocuments(e,a).next((u=>{const f=this.Ds(i,u);return this.Cs(i,f,a,o)?Z.resolve(null):(Oa()<=De.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Va(i)),this.vs(e,f,i,V2(o,Co)).next((g=>g)))}))}Ds(e,i){let a=new Ot(n1(e));return i.forEach(((o,u)=>{rh(e,u)&&(a=a.add(u))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const u=e.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,i,a){return Oa()<=De.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Va(i)),this.ps.getDocumentsMatchingQuery(e,i,Ys.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((u=>(i.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Am="LocalStore",cA=3e8;class uA{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new yt(Oe),this.xs=new Br((u=>gm(u)),ym),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function hA(r,e,i,a){return new uA(r,e,i,a)}async function S1(r,e){const i=Le(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((u=>(o=u,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((u=>{const f=[],g=[];let v=ze();for(const _ of o){f.push(_.batchId);for(const E of _.mutations)v=v.add(E.key)}for(const _ of u){g.push(_.batchId);for(const E of _.mutations)v=v.add(E.key)}return i.localDocuments.getDocuments(a,v).next((_=>({Ls:_,removedBatchIds:f,addedBatchIds:g})))}))}))}function A1(r){const e=Le(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function dA(r,e){const i=Le(r),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach(((E,S)=>{const w=o.get(S);if(!w)return;g.push(i.Pi.removeMatchingKeys(u,E.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(u,E.addedDocuments,S))));let H=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?H=H.withResumeToken(Xt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):E.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(E.resumeToken,a)),o=o.insert(S,H),(function(W,$,ne){return W.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=cA?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(w,H,E)&&g.push(i.Pi.updateTargetData(u,H))}));let v=Zs(),_=ze();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(u,E))})),g.push(fA(u,f,e.documentUpdates).next((E=>{v=E.ks,_=E.qs}))),!a.isEqual(Ee.min())){const E=i.Pi.getLastRemoteSnapshotVersion(u).next((S=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,a)));g.push(E)}return Z.waitFor(g).next((()=>f.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,v,_))).next((()=>v))})).then((u=>(i.Ms=o,u)))}function fA(r,e,i){let a=ze(),o=ze();return i.forEach((u=>a=a.add(u))),e.getEntries(r,a).next((u=>{let f=Zs();return i.forEach(((g,v)=>{const _=u.get(g);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),v.isNoDocument()&&v.version.isEqual(Ee.min())?(e.removeEntry(g,v.readTime),f=f.insert(g,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),f=f.insert(g,v)):ce(Am,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",v.version)})),{ks:f,qs:o}}))}function mA(r,e){const i=Le(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((u=>u?(o=u,Z.resolve(o)):i.Pi.allocateTargetId(a).next((f=>(o=new Bs(e,f,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function Jf(r,e,i){const a=Le(r),o=a.Ms.get(e),u=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",u,(f=>a.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!al(f))throw f;ce(Am,`Failed to update sequence numbers for target ${e}: ${f}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function xv(r,e,i){const a=Le(r);let o=Ee.min(),u=ze();return a.persistence.runTransaction("Execute query","readwrite",(f=>(function(v,_,E){const S=Le(v),w=S.xs.get(E);return w!==void 0?Z.resolve(S.Ms.get(w)):S.Pi.getTargetData(_,E)})(a,f,Si(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(f,g.targetId).next((v=>{u=v}))})).next((()=>a.Fs.getDocumentsMatchingQuery(f,e,i?o:Ee.min(),i?u:ze()))).next((g=>(pA(a,oS(e),g),{documents:g,Qs:u})))))}function pA(r,e,i){let a=r.Os.get(e)||Ee.min();i.forEach(((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),r.Os.set(e,a)}class Ev{constructor(){this.activeTargetIds=mS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gA{constructor(){this.Mo=new Ev,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Ev,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class yA{Oo(e){}shutdown(){}}const Tv="ConnectivityMonitor";class Sv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(Tv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(Tv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Eu=null;function Wf(){return Eu===null?Eu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Eu++,"0x"+Eu.toString(16)}const wf="RestConnection",vA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _A{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===zu?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,u){const f=Wf(),g=this.zo(e,i.toUriEncodedString());ce(wf,`Sending RPC '${e}' ${f}:`,g,a);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,u);const{host:_}=new URL(g),E=il(_);return this.Jo(e,g,v,a,E).then((S=>(ce(wf,`Received RPC '${e}' ${f}: `,S),S)),(S=>{throw Ka(wf,`RPC '${e}' ${f} failed with error: `,S,"url: ",g,"request:",a),S}))}Ho(e,i,a,o,u,f){return this.Go(e,i,a,o,u)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+rl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,u)=>e[u]=o)),a&&a.headers.forEach(((o,u)=>e[u]=o))}zo(e,i){const a=vA[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class bA{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Zt="WebChannelConnection";class xA extends _A{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,u){const f=Wf();return new Promise(((g,v)=>{const _=new R_;_.setWithCredentials(!0),_.listenOnce(I_.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Au.NO_ERROR:const S=_.getResponseJson();ce(Zt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),g(S);break;case Au.TIMEOUT:ce(Zt,`RPC '${e}' ${f} timed out`),v(new ue(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Au.HTTP_ERROR:const w=_.getStatus();if(ce(Zt,`RPC '${e}' ${f} failed with status:`,w,"response text:",_.getResponseText()),w>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const Y=H?.error;if(Y&&Y.status&&Y.message){const W=(function(ne){const ae=ne.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(ae)>=0?ae:ee.UNKNOWN})(Y.status);v(new ue(W,Y.message))}else v(new ue(ee.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ue(ee.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:f,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ce(Zt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);ce(Zt,`RPC '${e}' ${f} sending request:`,o),_.send(i,"POST",E,a,15)}))}T_(e,i,a){const o=Wf(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=M_(),g=D_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const E=u.join("");ce(Zt,`Creating RPC '${e}' stream ${o}: ${E}`,v);const S=f.createWebChannel(E,v);this.I_(S);let w=!1,H=!1;const Y=new bA({Yo:$=>{H?ce(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,$):(w||(ce(Zt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),w=!0),ce(Zt,`RPC '${e}' stream ${o} sending:`,$),S.send($))},Zo:()=>S.close()}),W=($,ne,ae)=>{$.listen(ne,(ie=>{try{ae(ie)}catch(le){setTimeout((()=>{throw le}),0)}}))};return W(S,vo.EventType.OPEN,(()=>{H||(ce(Zt,`RPC '${e}' stream ${o} transport opened.`),Y.o_())})),W(S,vo.EventType.CLOSE,(()=>{H||(H=!0,ce(Zt,`RPC '${e}' stream ${o} transport closed`),Y.a_(),this.E_(S))})),W(S,vo.EventType.ERROR,($=>{H||(H=!0,Ka(Zt,`RPC '${e}' stream ${o} transport errored. Name:`,$.name,"Message:",$.message),Y.a_(new ue(ee.UNAVAILABLE,"The operation could not be completed")))})),W(S,vo.EventType.MESSAGE,($=>{if(!H){const ne=$.data[0];ot(!!ne,16349);const ae=ne,ie=ae?.error||ae[0]?.error;if(ie){ce(Zt,`RPC '${e}' stream ${o} received error:`,ie);const le=ie.status;let fe=(function(A){const N=Nt[A];if(N!==void 0)return h1(N)})(le),ve=ie.message;fe===void 0&&(fe=ee.INTERNAL,ve="Unknown error status: "+le+" with message "+ie.message),H=!0,Y.a_(new ue(fe,ve)),S.close()}else ce(Zt,`RPC '${e}' stream ${o} received:`,ne),Y.u_(ne)}})),W(g,j_.STAT_EVENT,($=>{$.stat===Uf.PROXY?ce(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):$.stat===Uf.NOPROXY&&ce(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Y.__()}),0),Y}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Nf(){return typeof document<"u"?document:null}function ch(r){return new jS(r,!0)}class w1{constructor(e,i,a=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Av="PersistentStream";class EA{constructor(e,i,a,o,u,f,g,v){this.Mi=e,this.S_=a,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new w1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===ee.RESOURCE_EXHAUSTED?(Wi(i.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new ue(ee.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(Av,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ce(Av,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class TA extends EA{constructor(e,i,a,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,f),this.serializer=u}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=MS(this.serializer,e),a=(function(u){if(!("targetChange"in u))return Ee.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ee.min():f.readTime?za(f.readTime):Ee.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=yv(this.serializer),i.addTarget=(function(u,f){let g;const v=f.target;if(g=Ff(v)?{documents:OS(u,v)}:{query:VS(u,v).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=m1(u,f.resumeToken);const _=Xf(u,f.expectedCount);_!==null&&(g.expectedCount=_)}else if(f.snapshotVersion.compareTo(Ee.min())>0){g.readTime=$f(u,f.snapshotVersion.toTimestamp());const _=Xf(u,f.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const a=LS(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=yv(this.serializer),i.removeTarget=e,this.q_(i)}}class SA{}class AA extends SA{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Zf(i,a),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(ee.UNKNOWN,u.toString())}))}Ho(e,i,a,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.Ho(e,Zf(i,a),o,f,g,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ue(ee.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class wA{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wi(i),this.aa=!1):ce("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Wa="RemoteStore";class NA{constructor(e,i,a,o,u){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{a.enqueueAndForget((async()=>{zo(this)&&(ce(Wa,"Restarting streams for network reachability change."),await(async function(v){const _=Le(v);_.Ea.add(4),await Uo(_),_.Ra.set("Unknown"),_.Ea.delete(4),await uh(_)})(this))}))})),this.Ra=new wA(a,o)}}async function uh(r){if(zo(r))for(const e of r.da)await e(!0)}async function Uo(r){for(const e of r.da)await e(!1)}function N1(r,e){const i=Le(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Rm(i)?Cm(i):cl(i).O_()&&Nm(i,e))}function wm(r,e){const i=Le(r),a=cl(i);i.Ia.delete(e),a.O_()&&C1(i,e),i.Ia.size===0&&(a.O_()?a.L_():zo(i)&&i.Ra.set("Unknown"))}function Nm(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}cl(r).Y_(e)}function C1(r,e){r.Va.Ue(e),cl(r).Z_(e)}function Cm(r){r.Va=new NS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),cl(r).start(),r.Ra.ua()}function Rm(r){return zo(r)&&!cl(r).x_()&&r.Ia.size>0}function zo(r){return Le(r).Ea.size===0}function R1(r){r.Va=void 0}async function CA(r){r.Ra.set("Online")}async function RA(r){r.Ia.forEach(((e,i)=>{Nm(r,e)}))}async function IA(r,e){R1(r),Rm(r)?(r.Ra.ha(e),Cm(r)):r.Ra.set("Unknown")}async function jA(r,e,i){if(r.Ra.set("Online"),e instanceof f1&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const g of u.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,f),o.Ia.delete(g),o.Va.removeTarget(g))})(r,e)}catch(a){ce(Wa,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await wv(r,a)}else if(e instanceof Cu?r.Va.Ze(e):e instanceof d1?r.Va.st(e):r.Va.tt(e),!i.isEqual(Ee.min()))try{const a=await A1(r.localStore);i.compareTo(a)>=0&&await(function(u,f){const g=u.Va.Tt(f);return g.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const E=u.Ia.get(_);E&&u.Ia.set(_,E.withResumeToken(v.resumeToken,f))}})),g.targetMismatches.forEach(((v,_)=>{const E=u.Ia.get(v);if(!E)return;u.Ia.set(v,E.withResumeToken(Xt.EMPTY_BYTE_STRING,E.snapshotVersion)),C1(u,v);const S=new Bs(E.target,v,_,E.sequenceNumber);Nm(u,S)})),u.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){ce(Wa,"Failed to raise snapshot:",a),await wv(r,a)}}async function wv(r,e,i){if(!al(e))throw e;r.Ea.add(1),await Uo(r),r.Ra.set("Offline"),i||(i=()=>A1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce(Wa,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await uh(r)}))}async function Nv(r,e){const i=Le(r);i.asyncQueue.verifyOperationInProgress(),ce(Wa,"RemoteStore received new credentials");const a=zo(i);i.Ea.add(3),await Uo(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await uh(i)}async function DA(r,e){const i=Le(r);e?(i.Ea.delete(2),await uh(i)):e||(i.Ea.add(2),await Uo(i),i.Ra.set("Unknown"))}function cl(r){return r.ma||(r.ma=(function(i,a,o){const u=Le(i);return u.sa(),new TA(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:CA.bind(null,r),t_:RA.bind(null,r),r_:IA.bind(null,r),H_:jA.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Rm(r)?Cm(r):r.Ra.set("Unknown")):(await r.ma.stop(),R1(r))}))),r.ma}class Im{constructor(e,i,a,o,u){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new Or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,u){const f=Date.now()+a,g=new Im(e,i,f,o,u);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function I1(r,e){if(Wi("AsyncQueue",`${e}: ${r}`),al(r))return new ue(ee.UNAVAILABLE,`${e}: ${r}`);throw r}class Pa{static emptySet(e){return new Pa(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ye.comparator(i.key,a.key):(i,a)=>ye.comparator(i.key,a.key),this.keyedMap=_o(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Pa)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new Pa;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class Cv{constructor(){this.ga=new yt(ye.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class el{constructor(e,i,a,o,u,f,g,v,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,u){const f=[];return i.forEach((g=>{f.push({type:0,doc:g})})),new el(e,i,Pa.emptySet(i),f,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class MA{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class OA{constructor(){this.queries=Rv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Le(i),u=o.queries;o.queries=Rv(),u.forEach(((f,g)=>{for(const v of g.Sa)v.onError(a)}))})(this,new ue(ee.ABORTED,"Firestore shutting down"))}}function Rv(){return new Br((r=>t1(r)),sh)}async function VA(r,e){const i=Le(r);let a=3;const o=e.query;let u=i.queries.get(o);u?!u.ba()&&e.Da()&&(a=2):(u=new MA,a=e.Da()?0:1);try{switch(a){case 0:u.wa=await i.onListen(o,!0);break;case 1:u.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(f){const g=I1(f,`Initialization of query '${Va(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,u),u.Sa.push(e),e.va(i.onlineState),u.wa&&e.Fa(u.wa)&&jm(i)}async function kA(r,e){const i=Le(r),a=e.query;let o=3;const u=i.queries.get(a);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function LA(r,e){const i=Le(r);let a=!1;for(const o of e){const u=o.query,f=i.queries.get(u);if(f){for(const g of f.Sa)g.Fa(o)&&(a=!0);f.wa=o}}a&&jm(i)}function UA(r,e,i){const a=Le(r),o=a.queries.get(e);if(o)for(const u of o.Sa)u.onError(i);a.queries.delete(e)}function jm(r){r.Ca.forEach((e=>{e.next()}))}var em,Iv;(Iv=em||(em={})).Ma="default",Iv.Cache="cache";class zA{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new el(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=el.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==em.Cache}}class j1{constructor(e){this.key=e}}class D1{constructor(e){this.key=e}}class PA{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=n1(e),this.tu=new Pa(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new Cv,o=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,f=o,g=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,S)=>{const w=o.get(E),H=rh(this.query,S)?S:null,Y=!!w&&this.mutatedKeys.has(w.key),W=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let $=!1;w&&H?w.data.isEqual(H.data)?Y!==W&&(a.track({type:3,doc:H}),$=!0):this.su(w,H)||(a.track({type:2,doc:H}),$=!0,(v&&this.eu(H,v)>0||_&&this.eu(H,_)<0)&&(g=!0)):!w&&H?(a.track({type:0,doc:H}),$=!0):w&&!H&&(a.track({type:1,doc:w}),$=!0,(v||_)&&(g=!0)),$&&(H?(f=f.add(H),u=W?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{tu:f,iu:a,Cs:g,mutatedKeys:u}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,S)=>(function(H,Y){const W=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:$})}};return W(H)-W(Y)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,f.length!==0||_?{snapshot:new el(this.query,e.tu,u,f,e.mutatedKeys,v===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Cv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new D1(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new j1(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=ze();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return el.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Dm="SyncEngine";class qA{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class BA{constructor(e){this.key=e,this.hu=!1}}class HA{constructor(e,i,a,o,u,f){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Br((g=>t1(g)),sh),this.Iu=new Map,this.Eu=new Set,this.du=new yt(ye.comparator),this.Au=new Map,this.Ru=new Em,this.Vu={},this.mu=new Map,this.fu=Ja.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function FA(r,e,i=!0){const a=L1(r);let o;const u=a.Tu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await M1(a,e,i,!0),o}async function GA(r,e){const i=L1(r);await M1(i,e,!0,!1)}async function M1(r,e,i,a){const o=await mA(r.localStore,Si(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,i);let g;return a&&(g=await QA(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&i&&N1(r.remoteStore,o),g}async function QA(r,e,i,a,o){r.pu=(S,w,H)=>(async function(W,$,ne,ae){let ie=$.view.ru(ne);ie.Cs&&(ie=await xv(W.localStore,$.query,!1).then((({documents:I})=>$.view.ru(I,ie))));const le=ae&&ae.targetChanges.get($.targetId),fe=ae&&ae.targetMismatches.get($.targetId)!=null,ve=$.view.applyChanges(ie,W.isPrimaryClient,le,fe);return Dv(W,$.targetId,ve.au),ve.snapshot})(r,S,w,H);const u=await xv(r.localStore,e,!0),f=new PA(e,u.Qs),g=f.ru(u.documents),v=Lo.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),_=f.applyChanges(g,r.isPrimaryClient,v);Dv(r,i,_.au);const E=new qA(e,i,f);return r.Tu.set(e,E),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function YA(r,e,i){const a=Le(r),o=a.Tu.get(e),u=a.Iu.get(o.targetId);if(u.length>1)return a.Iu.set(o.targetId,u.filter((f=>!sh(f,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Jf(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&wm(a.remoteStore,o.targetId),tm(a,o.targetId)})).catch(eh)):(tm(a,o.targetId),await Jf(a.localStore,o.targetId,!0))}async function KA(r,e){const i=Le(r),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),wm(i.remoteStore,a.targetId))}async function O1(r,e){const i=Le(r);try{const a=await dA(i.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=i.Au.get(u);f&&(ot(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?ot(f.hu,14607):o.removedDocuments.size>0&&(ot(f.hu,42227),f.hu=!1))})),await k1(i,a,e)}catch(a){await eh(a)}}function jv(r,e,i){const a=Le(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((u,f)=>{const g=f.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(f,g){const v=Le(f);v.onlineState=g;let _=!1;v.queries.forEach(((E,S)=>{for(const w of S.Sa)w.va(g)&&(_=!0)})),_&&jm(v)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function XA(r,e,i){const a=Le(r);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),u=o&&o.key;if(u){let f=new yt(ye.comparator);f=f.insert(u,Wt.newNoDocument(u,Ee.min()));const g=ze().add(u),v=new oh(Ee.min(),new Map,new yt(Oe),f,g);await O1(a,v),a.du=a.du.remove(u),a.Au.delete(e),Mm(a)}else await Jf(a.localStore,e,!1).then((()=>tm(a,e,i))).catch(eh)}function tm(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||V1(r,a)}))}function V1(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(wm(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Mm(r))}function Dv(r,e,i){for(const a of i)a instanceof j1?(r.Ru.addReference(a.key,e),$A(r,a)):a instanceof D1?(ce(Dm,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||V1(r,a.key)):Te(19791,{wu:a})}function $A(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(ce(Dm,"New document in limbo: "+i),r.Eu.add(a),Mm(r))}function Mm(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new ye(at.fromString(e)),a=r.fu.next();r.Au.set(a,new BA(i)),r.du=r.du.insert(i,a),N1(r.remoteStore,new Bs(Si(W_(i.path)),a,"TargetPurposeLimboResolution",th.ce))}}async function k1(r,e,i){const a=Le(r),o=[],u=[],f=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,v)=>{f.push(a.pu(v,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const E=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,E?"current":"not-current")}if(_){o.push(_);const E=Sm.As(v.targetId,_);u.push(E)}})))})),await Promise.all(f),a.Pu.H_(o),await(async function(v,_){const E=Le(v);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Z.forEach(_,(w=>Z.forEach(w.Es,(H=>E.persistence.referenceDelegate.addReference(S,w.targetId,H))).next((()=>Z.forEach(w.ds,(H=>E.persistence.referenceDelegate.removeReference(S,w.targetId,H)))))))))}catch(S){if(!al(S))throw S;ce(Am,"Failed to update sequence numbers: "+S)}for(const S of _){const w=S.targetId;if(!S.fromCache){const H=E.Ms.get(w),Y=H.snapshotVersion,W=H.withLastLimboFreeSnapshotVersion(Y);E.Ms=E.Ms.insert(w,W)}}})(a.localStore,u))}async function ZA(r,e){const i=Le(r);if(!i.currentUser.isEqual(e)){ce(Dm,"User change. New user:",e.toKey());const a=await S1(i.localStore,e);i.currentUser=e,(function(u,f){u.mu.forEach((g=>{g.forEach((v=>{v.reject(new ue(ee.CANCELLED,f))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await k1(i,a.Ls)}}function JA(r,e){const i=Le(r),a=i.Au.get(e);if(a&&a.hu)return ze().add(a.key);{let o=ze();const u=i.Iu.get(e);if(!u)return o;for(const f of u){const g=i.Tu.get(f);o=o.unionWith(g.view.nu)}return o}}function L1(r){const e=Le(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=O1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XA.bind(null,e),e.Pu.H_=LA.bind(null,e.eventManager),e.Pu.yu=UA.bind(null,e.eventManager),e}class Gu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ch(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return hA(this.persistence,new oA,e.initialUser,this.serializer)}Cu(e){return new T1(Tm.mi,this.serializer)}Du(e){return new gA}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gu.provider={build:()=>new Gu};class WA extends Gu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){ot(this.persistence.referenceDelegate instanceof Fu,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new YS(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new T1((a=>Fu.mi(a,i)),this.serializer)}}class nm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>jv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZA.bind(null,this.syncEngine),await DA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new OA})()}createDatastore(e){const i=ch(e.databaseInfo.databaseId),a=(function(u){return new xA(u)})(e.databaseInfo);return(function(u,f,g,v){return new AA(u,f,g,v)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,u,f,g){return new NA(a,o,u,f,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>jv(this.syncEngine,i,0)),(function(){return Sv.v()?new Sv:new yA})())}createSyncEngine(e,i){return(function(o,u,f,g,v,_,E){const S=new HA(o,u,f,g,v,_);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Le(i);ce(Wa,"RemoteStore shutting down."),a.Ea.add(5),await Uo(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}nm.provider={build:()=>new nm};class ew{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Wi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Js="FirestoreClient";class tw{constructor(e,i,a,o,u){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=k_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async f=>{ce(Js,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(a,(f=>(ce(Js,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=I1(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Cf(r,e){r.asyncQueue.verifyOperationInProgress(),ce(Js,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await S1(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Mv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await nw(r);ce(Js,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Nv(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>Nv(e.remoteStore,o))),r._onlineComponents=e}async function nw(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(Js,"Using user provided OfflineComponentProvider");try{await Cf(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ka("Error using user provided cache. Falling back to memory cache: "+i),await Cf(r,new Gu)}}else ce(Js,"Using default OfflineComponentProvider"),await Cf(r,new WA(void 0));return r._offlineComponents}async function iw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(Js,"Using user provided OnlineComponentProvider"),await Mv(r,r._uninitializedComponentsProvider._online)):(ce(Js,"Using default OnlineComponentProvider"),await Mv(r,new nm))),r._onlineComponents}async function sw(r){const e=await iw(r),i=e.eventManager;return i.onListen=FA.bind(null,e.syncEngine),i.onUnlisten=YA.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=GA.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=KA.bind(null,e.syncEngine),i}function rw(r,e,i={}){const a=new Or;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,g,v,_){const E=new ew({next:w=>{E.Nu(),f.enqueueAndForget((()=>kA(u,S))),w.fromCache&&v.source==="server"?_.reject(new ue(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(w)},error:w=>_.reject(w)}),S=new zA(g,E,{includeMetadataChanges:!0,qa:!0});return VA(u,S)})(await sw(r),r.asyncQueue,e,i,a))),a.promise}function U1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const Ov=new Map;const z1="firestore.googleapis.com",Vv=!0;class kv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=z1,this.ssl=Vv}else this.host=e.host,this.ssl=e.ssl??Vv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=E1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GS)throw new ue(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}O2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=U1(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Om{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new T2;switch(a.type){case"firstParty":return new N2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ue(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Ov.get(i);a&&(ce("ComponentProvider","Removing Datastore"),Ov.delete(i),a.terminate())})(this),Promise.resolve()}}function aw(r,e,i,a={}){r=Pf(r,Om);const o=il(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${i}`;o&&(b_(`https://${g}`),x_("Firestore",!0)),u.host!==z1&&u.host!==g&&Ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...u,host:g,ssl:o,emulatorOptions:a};if(!Lr(v,f)&&(r._setSettings(v),a.mockUserToken)){let _,E;if(typeof a.mockUserToken=="string")_=a.mockUserToken,E=Jt.MOCK_USER;else{_=KE(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new ue(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Jt(S)}r._authCredentials=new S2(new V_(_,E))}}class Hr{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Hr(this.firestore,e,this._query)}}class an{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new an(this.firestore,e,this._key)}toJSON(){return{type:an._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(ko(i,an._jsonSchema))return new an(e,a||null,new ye(at.fromString(i.referencePath)))}}an._jsonSchemaVersion="firestore/documentReference/1.0",an._jsonSchema={type:Rt("string",an._jsonSchemaVersion),referencePath:Rt("string")};class qa extends Hr{constructor(e,i,a){super(e,i,W_(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new an(this.firestore,null,new ye(e))}withConverter(e){return new qa(this.firestore,e,this._path)}}function Vt(r,e,...i){if(r=Ri(r),M2("collection","path",e),r instanceof Om){const a=at.fromString(e,...i);return K0(a),new qa(r,null,a)}{if(!(r instanceof an||r instanceof qa))throw new ue(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(at.fromString(e,...i));return K0(a),new qa(r.firestore,null,a)}}const Lv="AsyncQueue";class Uv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new w1(this,"async_queue_retry"),this._c=()=>{const a=Nf();a&&ce(Lv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Nf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Nf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Or;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!al(e))throw e;ce(Lv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Wi("INTERNAL UNHANDLED ERROR: ",zv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Im.createAndSchedule(this,e,i,a,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:zv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function zv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class P1 extends Om{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new Uv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Uv(e),this._firestoreClient=void 0,await e}}}function lw(r,e){const i=typeof r=="object"?r:A_(),a=typeof r=="string"?r:zu,o=dm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=QE("firestore");u&&aw(o,...u)}return o}function ow(r){if(r._terminated)throw new ue(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||cw(r),r._firestoreClient}function cw(r){const e=r._freezeSettings(),i=(function(o,u,f,g){return new Q2(o,u,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,U1(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new tw(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Un(Xt.fromBase64String(e))}catch(i){throw new ue(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Un(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ko(e,Un._jsonSchema))return Un.fromBase64String(e.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Rt("string",Un._jsonSchemaVersion),bytes:Rt("string")};class q1{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ue(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class B1{constructor(e){this._methodName=e}}class Ai{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ue(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ue(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ai._jsonSchemaVersion}}static fromJSON(e){if(ko(e,Ai._jsonSchema))return new Ai(e.latitude,e.longitude)}}Ai._jsonSchemaVersion="firestore/geoPoint/1.0",Ai._jsonSchema={type:Rt("string",Ai._jsonSchemaVersion),latitude:Rt("number"),longitude:Rt("number")};class wi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ko(e,wi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new wi(e.vectorValues);throw new ue(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wi._jsonSchemaVersion="firestore/vectorValue/1.0",wi._jsonSchema={type:Rt("string",wi._jsonSchemaVersion),vectorValues:Rt("object")};const uw=/^__.*__$/;function H1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:r})}}class Vm{constructor(e,i,a,o,u,f){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Vm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return im(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(H1(this.Ac)&&uw.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class hw{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||ch(e)}Cc(e,i,a,o=!1){return new Vm({Ac:e,methodName:i,Dc:a,path:en.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dw(r){const e=r._freezeSettings(),i=ch(r._databaseId);return new hw(r._databaseId,!!e.ignoreUndefinedProperties,i)}function fw(r,e,i,a=!1){return km(i,r.Cc(a?4:3,e))}function km(r,e){if(F1(r=Ri(r)))return pw("Unsupported field value:",e,r),mw(r,e);if(r instanceof B1)return(function(a,o){if(!H1(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const u=[];let f=0;for(const g of a){let v=km(g,o.wc(f));v==null&&(v={nullValue:"NULL_VALUE"}),u.push(v),f++}return{arrayValue:{values:u}}})(r,e)}return(function(a,o){if((a=Ri(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return pS(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=lt.fromDate(a);return{timestampValue:$f(o.serializer,u)}}if(a instanceof lt){const u=new lt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:$f(o.serializer,u)}}if(a instanceof Ai)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Un)return{bytesValue:m1(o.serializer,a._byteString)};if(a instanceof an){const u=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:p1(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof wi)return(function(f,g){return{mapValue:{fields:{[G_]:{stringValue:Q_},[Pu]:{arrayValue:{values:f.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return vm(g.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Wu(a)}`)})(r,e)}function mw(r,e){const i={};return z_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ll(r,((a,o)=>{const u=km(o,e.mc(a));u!=null&&(i[a]=u)})),{mapValue:{fields:i}}}function F1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof lt||r instanceof Ai||r instanceof Un||r instanceof an||r instanceof B1||r instanceof wi)}function pw(r,e,i){if(!F1(i)||!L_(i)){const a=Wu(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}const gw=new RegExp("[~\\*/\\[\\]]");function yw(r,e,i){if(e.search(gw)>=0)throw im(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new q1(...e.split("."))._internalPath}catch{throw im(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function im(r,e,i,a,o){const u=a&&!a.isEmpty(),f=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(u||f)&&(v+=" (found",u&&(v+=` in field ${a}`),f&&(v+=` in document ${o}`),v+=")"),new ue(ee.INVALID_ARGUMENT,g+r+v)}class G1{constructor(e,i,a,o,u){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new an(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Lm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class vw extends G1{data(){return super.data()}}function Lm(r,e){return typeof e=="string"?yw(r,e):e instanceof q1?e._internalPath:e._delegate._internalPath}function _w(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ue(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Um{}class Q1 extends Um{}function zm(r,e,...i){let a=[];e instanceof Um&&a.push(e),a=a.concat(i),(function(u){const f=u.filter((v=>v instanceof qm)).length,g=u.filter((v=>v instanceof Pm)).length;if(f>1||f>0&&g>0)throw new ue(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)r=o._apply(r);return r}class Pm extends Q1{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new Pm(e,i,a)}_apply(e){const i=this._parse(e);return K1(e._query,i),new Hr(e.firestore,e.converter,Gf(e._query,i))}_parse(e){const i=dw(e.firestore);return(function(u,f,g,v,_,E,S){let w;if(_.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ue(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){qv(S,E);const Y=[];for(const W of S)Y.push(Pv(v,u,W));w={arrayValue:{values:Y}}}else w=Pv(v,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||qv(S,E),w=fw(g,f,S,E==="in"||E==="not-in");return Ct.create(_,E,w)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class qm extends Um{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new qm(e,i)}_parse(e){const i=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:Jn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,u){let f=o;const g=u.getFlattenedFilters();for(const v of g)K1(f,v),f=Gf(f,v)})(e._query,i),new Hr(e.firestore,e.converter,Gf(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Bm extends Q1{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Bm(e,i)}_apply(e){const i=(function(o,u,f){if(o.startAt!==null)throw new ue(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Do(u,f)})(e._query,this._field,this._direction);return new Hr(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new ol(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function Y1(r,e="asc"){const i=e,a=Lm("orderBy",r);return Bm._create(a,i)}function Pv(r,e,i){if(typeof(i=Ri(i))=="string"){if(i==="")throw new ue(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!e1(e)&&i.indexOf("/")!==-1)throw new ue(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(at.fromString(i));if(!ye.isDocumentKey(a))throw new ue(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return nv(r,new ye(a))}if(i instanceof an)return nv(r,i._key);throw new ue(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wu(i)}.`)}function qv(r,e){if(!Array.isArray(r)||r.length===0)throw new ue(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function K1(r,e){const i=(function(o,u){for(const f of o)for(const g of f.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new ue(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class bw{convertValue(e,i="none"){switch($s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return ll(e,((o,u)=>{a[o]=this.convertValue(u,i)})),a}convertVectorValue(e){const i=e.fields?.[Pu].arrayValue?.values?.map((a=>gt(a.doubleValue)));return new wi(i)}convertGeoPoint(e){return new Ai(gt(e.latitude),gt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=ih(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ro(e));default:return null}}convertTimestamp(e){const i=Ks(e);return new lt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=at.fromString(e);ot(x1(a),9688,{name:e});const o=new Io(a.get(1),a.get(3)),u=new ye(a.popFirst(5));return o.isEqual(i)||Wi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}class Tu{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ba extends G1{constructor(e,i,a,o,u,f){super(e,i,a,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Ru(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Lm("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ba._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ba._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ba._jsonSchema={type:Rt("string",Ba._jsonSchemaVersion),bundleSource:Rt("string","DocumentSnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class Ru extends Ba{data(e={}){return super.data(e)}}class Ha{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Tu(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Ru(this._firestore,this._userDataWriter,a.key,a,new Tu(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ue(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((g=>{const v=new Ru(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Tu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const v=new Ru(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Tu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,E=-1;return g.type!==0&&(_=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),E=f.indexOf(g.doc.key)),{type:xw(g.type),doc:v,oldIndex:_,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ha._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=k_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function xw(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}Ha._jsonSchemaVersion="firestore/querySnapshot/1.0",Ha._jsonSchema={type:Rt("string",Ha._jsonSchemaVersion),bundleSource:Rt("string","QuerySnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class Ew extends bw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Un(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new an(this.firestore,null,i)}}function kt(r){r=Pf(r,Hr);const e=Pf(r.firestore,P1),i=ow(e),a=new Ew(e);return _w(r._query),rw(i,r._query).then((o=>new Ha(e,a,r,o)))}(function(e,i=!0){(function(o){rl=o})(sl),Ya(new Ur("firestore",((a,{instanceIdentifier:o,options:u})=>{const f=a.getProvider("app").getImmediate(),g=new P1(new A2(a.getProvider("auth-internal")),new C2(f,a.getProvider("app-check-internal")),(function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ue(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Io(_.options.projectId,E)})(f,o),f);return u={useFetchStreams:i,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),Gs(F0,G0,e),Gs(F0,G0,"esm2020")})();function X1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Tw=X1,$1=new Oo("auth","Firebase",X1());const Qu=new um("@firebase/auth");function Sw(r,...e){Qu.logLevel<=De.WARN&&Qu.warn(`Auth (${sl}): ${r}`,...e)}function Iu(r,...e){Qu.logLevel<=De.ERROR&&Qu.error(`Auth (${sl}): ${r}`,...e)}function es(r,...e){throw Hm(r,...e)}function Ni(r,...e){return Hm(r,...e)}function Z1(r,e,i){const a={...Tw(),[e]:i};return new Oo("auth","Firebase",a).create(e,{appName:r.name})}function kr(r){return Z1(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hm(r,...e){if(typeof r!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return $1.create(r,...e)}function _e(r,e,...i){if(!r)throw Hm(e,...i)}function $i(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Iu(e),new Error(e)}function ts(r,e){r||$i(e)}function sm(){return typeof self<"u"&&self.location?.href||""}function Aw(){return Bv()==="http:"||Bv()==="https:"}function Bv(){return typeof self<"u"&&self.location?.protocol||null}function ww(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Aw()||eT()||"connection"in navigator)?navigator.onLine:!0}function Nw(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Po{constructor(e,i){this.shortDelay=e,this.longDelay=i,ts(i>e,"Short delay should be less than long delay!"),this.isMobile=ZE()||tT()}get(){return ww()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Fm(r,e){ts(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class J1{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Cw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Rw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Iw=new Po(3e4,6e4);function Gm(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ul(r,e,i,a,o={}){return W1(r,o,async()=>{let u={},f={};a&&(e==="GET"?f=a:u={body:JSON.stringify(a)});const g=Vo({key:r.config.apiKey,...f}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const _={method:e,headers:v,...u};return WE()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&il(r.emulatorConfig.host)&&(_.credentials="include"),J1.fetch()(await eb(r,r.config.apiHost,i,g),_)})}async function W1(r,e,i){r._canInitEmulator=!1;const a={...Cw,...e};try{const o=new Dw(r),u=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Su(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const g=u.ok?f.errorMessage:f.error.message,[v,_]=g.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Su(r,"credential-already-in-use",f);if(v==="EMAIL_EXISTS")throw Su(r,"email-already-in-use",f);if(v==="USER_DISABLED")throw Su(r,"user-disabled",f);const E=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Z1(r,E,_);es(r,E)}}catch(o){if(o instanceof ns)throw o;es(r,"network-request-failed",{message:String(o)})}}async function jw(r,e,i,a,o={}){const u=await ul(r,e,i,a,o);return"mfaPendingCredential"in u&&es(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function eb(r,e,i,a){const o=`${e}${i}?${a}`,u=r,f=u.config.emulator?Fm(r.config,o):`${r.config.apiScheme}://${o}`;return Rw.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class Dw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ni(this.auth,"network-request-failed")),Iw.get())})}}function Su(r,e,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Ni(r,e,a);return o.customData._tokenResponse=i,o}async function Mw(r,e){return ul(r,"POST","/v1/accounts:delete",e)}async function Yu(r,e){return ul(r,"POST","/v1/accounts:lookup",e)}function wo(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ow(r,e=!1){const i=Ri(r),a=await i.getIdToken(e),o=Qm(a);_e(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:a,authTime:wo(Rf(o.auth_time)),issuedAtTime:wo(Rf(o.iat)),expirationTime:wo(Rf(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Rf(r){return Number(r)*1e3}function Qm(r){const[e,i,a]=r.split(".");if(e===void 0||i===void 0||a===void 0)return Iu("JWT malformed, contained fewer than 3 sections"),null;try{const o=g_(i);return o?JSON.parse(o):(Iu("Failed to decode base64 JWT payload"),null)}catch(o){return Iu("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Hv(r){const e=Qm(r);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Mo(r,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof ns&&Vw(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function Vw({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class kw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class rm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=wo(this.lastLoginAt),this.creationTime=wo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ku(r){const e=r.auth,i=await r.getIdToken(),a=await Mo(r,Yu(e,{idToken:i}));_e(a?.users.length,e,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?tb(o.providerUserInfo):[],f=Uw(r.providerData,u),g=r.isAnonymous,v=!(r.email&&o.passwordHash)&&!f?.length,_=g?v:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new rm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(r,E)}async function Lw(r){const e=Ri(r);await Ku(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Uw(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function tb(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function zw(r,e){const i=await W1(r,{},async()=>{const a=Vo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await eb(r,o,"/v1/token",`key=${u}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:g,body:a};return r.emulatorConfig&&il(r.emulatorConfig.host)&&(v.credentials="include"),J1.fetch()(f,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Pw(r,e){return ul(r,"POST","/v2/accounts:revokeToken",Gm(r,e))}class Fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Hv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const i=Hv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:u}=await zw(e,i);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:u}=i,f=new Fa;return a&&(_e(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),o&&(_e(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(_e(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fa,this.toJSON())}_performRefresh(){return $i("not implemented")}}function ks(r,e){_e(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Zn{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new kw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new rm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Mo(this,this.stsTokenManager.getToken(this.auth,e));return _e(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return Ow(this,e)}reload(){return Lw(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Zn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Ku(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ei(this.auth.app))return Promise.reject(kr(this.auth));const e=await this.getIdToken();return await Mo(this,Mw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,u=i.phoneNumber??void 0,f=i.photoURL??void 0,g=i.tenantId??void 0,v=i._redirectEventId??void 0,_=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:S,emailVerified:w,isAnonymous:H,providerData:Y,stsTokenManager:W}=i;_e(S&&W,e,"internal-error");const $=Fa.fromJSON(this.name,W);_e(typeof S=="string",e,"internal-error"),ks(a,e.name),ks(o,e.name),_e(typeof w=="boolean",e,"internal-error"),_e(typeof H=="boolean",e,"internal-error"),ks(u,e.name),ks(f,e.name),ks(g,e.name),ks(v,e.name),ks(_,e.name),ks(E,e.name);const ne=new Zn({uid:S,auth:e,email:o,emailVerified:w,displayName:a,isAnonymous:H,photoURL:f,phoneNumber:u,tenantId:g,stsTokenManager:$,createdAt:_,lastLoginAt:E});return Y&&Array.isArray(Y)&&(ne.providerData=Y.map(ae=>({...ae}))),v&&(ne._redirectEventId=v),ne}static async _fromIdTokenResponse(e,i,a=!1){const o=new Fa;o.updateFromServerResponse(i);const u=new Zn({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Ku(u),u}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];_e(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?tb(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,g=new Fa;g.updateFromIdToken(a);const v=new Zn({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:f}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new rm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(v,_),v}}const Fv=new Map;function Zi(r){ts(r instanceof Function,"Expected a class definition");let e=Fv.get(r);return e?(ts(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Fv.set(r,e),e)}class nb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}nb.type="NONE";const Gv=nb;function ju(r,e,i){return`firebase:${r}:${e}:${i}`}class Ga{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=ju(this.userKey,o.apiKey,u),this.fullPersistenceKey=ju("persistence",o.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Yu(this.auth,{idToken:e}).catch(()=>{});return i?Zn._fromGetAccountInfoResponse(this.auth,i,e):null}return Zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new Ga(Zi(Gv),e,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=o[0]||Zi(Gv);const f=ju(a,e.config.apiKey,e.name);let g=null;for(const _ of i)try{const E=await _._get(f);if(E){let S;if(typeof E=="string"){const w=await Yu(e,{idToken:E}).catch(()=>{});if(!w)break;S=await Zn._fromGetAccountInfoResponse(e,w,E)}else S=Zn._fromJSON(e,E);_!==u&&(g=S),u=_;break}}catch{}const v=o.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!v.length?new Ga(u,e,a):(u=v[0],g&&await u._set(f,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==u)try{await _._remove(f)}catch{}})),new Ga(u,e,a))}}function Qv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ab(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ib(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ob(e))return"Blackberry";if(cb(e))return"Webos";if(sb(e))return"Safari";if((e.includes("chrome/")||rb(e))&&!e.includes("edge/"))return"Chrome";if(lb(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function ib(r=tn()){return/firefox\//i.test(r)}function sb(r=tn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rb(r=tn()){return/crios\//i.test(r)}function ab(r=tn()){return/iemobile/i.test(r)}function lb(r=tn()){return/android/i.test(r)}function ob(r=tn()){return/blackberry/i.test(r)}function cb(r=tn()){return/webos/i.test(r)}function Ym(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function qw(r=tn()){return Ym(r)&&!!window.navigator?.standalone}function Bw(){return nT()&&document.documentMode===10}function ub(r=tn()){return Ym(r)||lb(r)||cb(r)||ob(r)||/windows phone/i.test(r)||ab(r)}function hb(r,e=[]){let i;switch(r){case"Browser":i=Qv(tn());break;case"Worker":i=`${Qv(tn())}-${r}`;break;default:i=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${sl}/${a}`}class Hw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=u=>new Promise((f,g)=>{try{const v=e(u);f(v)}catch(v){g(v)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function Fw(r,e={}){return ul(r,"GET","/v2/passwordPolicy",Gm(r,e))}const Gw=6;class Qw{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Gw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class Yw{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yv(this),this.idTokenSubscription=new Yv(this),this.beforeStateQueue=new Hw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Zi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ga.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Yu(this,{idToken:e}),a=await Zn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ei(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=a?._redirectEventId,g=await this.tryRedirectSignIn(e);(!u||u===f)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Ku(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Nw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ei(this.app))return Promise.reject(kr(this));const i=e?Ri(e):null;return i&&_e(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ei(this.app)?Promise.reject(kr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ei(this.app)?Promise.reject(kr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Fw(this),i=new Qw(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Oo("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Pw(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Zi(e)||this._popupRedirectResolver;_e(i,this,"argument-error"),this.redirectPersistenceManager=await Ga.create(this,[Zi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(g,this,"internal-error"),g.then(()=>{f||u(this.currentUser)}),typeof i=="function"){const v=e.addObserver(i,a,o);return()=>{f=!0,v()}}else{const v=e.addObserver(i);return()=>{f=!0,v()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Sw(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Km(r){return Ri(r)}class Yv{constructor(e){this.auth=e,this.observer=null,this.addObserver=uT(i=>this.observer=i)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Xm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Kw(r){Xm=r}function Xw(r){return Xm.loadJS(r)}function $w(){return Xm.gapiScript}function Zw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function Jw(r,e){const i=dm(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),u=i.getOptions();if(Lr(u,e??{}))return o;es(o,"already-initialized")}return i.initialize({options:e})}function Ww(r,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Zi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function eN(r,e,i){const a=Km(r);_e(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=db(e),{host:f,port:g}=tN(e),v=g===null?"":`:${g}`,_={url:`${u}//${f}${v}/`},E=Object.freeze({host:f,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){_e(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),_e(Lr(_,a.config.emulator)&&Lr(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,il(f)?(b_(`${u}//${f}${v}`),x_("Auth",!0)):nN()}function db(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function tN(r){const e=db(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:Kv(a.substr(u.length+1))}}else{const[u,f]=a.split(":");return{host:u,port:Kv(f)}}}function Kv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function nN(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class fb{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return $i("not implemented")}_getIdTokenResponse(e){return $i("not implemented")}_linkToIdToken(e,i){return $i("not implemented")}_getReauthenticationResolver(e){return $i("not implemented")}}async function Qa(r,e){return jw(r,"POST","/v1/accounts:signInWithIdp",Gm(r,e))}const iN="http://localhost";class Pr extends fb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Pr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):es("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...u}=i;if(!a||!o)return null;const f=new Pr(a,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const i=this.buildRequest();return Qa(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,Qa(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Qa(e,i)}buildRequest(){const e={requestUri:iN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Vo(i)}return e}}class mb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class qo extends mb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ls extends qo{constructor(){super("facebook.com")}static credential(e){return Pr._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ls.credential(e.oauthAccessToken)}catch{return null}}}Ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ls.PROVIDER_ID="facebook.com";class Us extends qo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Pr._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return Us.credential(i,a)}catch{return null}}}Us.GOOGLE_SIGN_IN_METHOD="google.com";Us.PROVIDER_ID="google.com";class zs extends qo{constructor(){super("github.com")}static credential(e){return Pr._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zs.credential(e.oauthAccessToken)}catch{return null}}}zs.GITHUB_SIGN_IN_METHOD="github.com";zs.PROVIDER_ID="github.com";class Ps extends qo{constructor(){super("twitter.com")}static credential(e,i){return Pr._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return Ps.credential(i,a)}catch{return null}}}Ps.TWITTER_SIGN_IN_METHOD="twitter.com";Ps.PROVIDER_ID="twitter.com";class tl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const u=await Zn._fromIdTokenResponse(e,a,o),f=Xv(a);return new tl({user:u,providerId:f,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=Xv(a);return new tl({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function Xv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Xu extends ns{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Xu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new Xu(e,i,a,o)}}function pb(r,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Xu._fromErrorAndOperation(r,u,e,a):u})}async function sN(r,e,i=!1){const a=await Mo(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return tl._forOperation(r,"link",a)}async function rN(r,e,i=!1){const{auth:a}=r;if(Ei(a.app))return Promise.reject(kr(a));const o="reauthenticate";try{const u=await Mo(r,pb(a,o,e,r),i);_e(u.idToken,a,"internal-error");const f=Qm(u.idToken);_e(f,a,"internal-error");const{sub:g}=f;return _e(r.uid===g,a,"user-mismatch"),tl._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&es(a,"user-mismatch"),u}}async function aN(r,e,i=!1){if(Ei(r.app))return Promise.reject(kr(r));const a="signIn",o=await pb(r,a,e),u=await tl._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(u.user),u}function lN(r,e,i,a){return Ri(r).onIdTokenChanged(e,i,a)}function oN(r,e,i){return Ri(r).beforeAuthStateChanged(e,i)}const $u="__sak";class gb{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem($u,"1"),this.storage.removeItem($u),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const cN=1e3,uN=10;class yb extends gb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ub(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((f,g,v)=>{this.notifyListeners(f,v)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!i&&this.localCache[a]===f||this.notifyListeners(a,f)},u=this.storage.getItem(a);Bw()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,uN):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},cN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}yb.type="LOCAL";const hN=yb;class vb extends gb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}vb.type="SESSION";const _b=vb;function dN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class hh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new hh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:u}=i.data,f=this.handlersMap[o];if(!f?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(f).map(async _=>_(i.origin,u)),v=await dN(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:v})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hh.receivers=[];function $m(r="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return r+i}class fN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((g,v)=>{const _=$m("",20);o.port1.start();const E=setTimeout(()=>{v(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(S){const w=S;if(w.data.eventId===_)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(w.data.response);break;default:clearTimeout(E),clearTimeout(u),v(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ci(){return window}function mN(r){Ci().location.href=r}function bb(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function pN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gN(){return navigator?.serviceWorker?.controller||null}function yN(){return bb()?self:null}const xb="firebaseLocalStorageDb",vN=1,Zu="firebaseLocalStorage",Eb="fbase_key";class Bo{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function dh(r,e){return r.transaction([Zu],e?"readwrite":"readonly").objectStore(Zu)}function _N(){const r=indexedDB.deleteDatabase(xb);return new Bo(r).toPromise()}function am(){const r=indexedDB.open(xb,vN);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Zu,{keyPath:Eb})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Zu)?e(a):(a.close(),await _N(),e(await am()))})})}async function $v(r,e,i){const a=dh(r,!0).put({[Eb]:e,value:i});return new Bo(a).toPromise()}async function bN(r,e){const i=dh(r,!1).get(e),a=await new Bo(i).toPromise();return a===void 0?null:a.value}function Zv(r,e){const i=dh(r,!0).delete(e);return new Bo(i).toPromise()}const xN=800,EN=3;class Tb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await am(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>EN)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hh._getInstance(yN()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await pN(),!this.activeServiceWorker)return;this.sender=new fN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await am();return await $v(e,$u,"1"),await Zv(e,$u),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>$v(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>bN(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Zv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=dh(o,!1).getAll();return new Bo(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Tb.type="LOCAL";const TN=Tb;new Po(3e4,6e4);function SN(r,e){return e?Zi(e):(_e(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Zm extends fb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qa(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Qa(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Qa(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function AN(r){return aN(r.auth,new Zm(r),r.bypassAuthState)}function wN(r){const{auth:e,user:i}=r;return _e(i,e,"internal-error"),rN(i,new Zm(r),r.bypassAuthState)}async function NN(r){const{auth:e,user:i}=r;return _e(i,e,"internal-error"),sN(i,new Zm(r),r.bypassAuthState)}class Sb{constructor(e,i,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:u,error:f,type:g}=e;if(f){this.reject(f);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(v))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AN;case"linkViaPopup":case"linkViaRedirect":return NN;case"reauthViaPopup":case"reauthViaRedirect":return wN;default:es(this.auth,"internal-error")}}resolve(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const CN=new Po(2e3,1e4);class Ua extends Sb{constructor(e,i,a,o,u){super(e,i,o,u),this.provider=a,this.authWindow=null,this.pollId=null,Ua.currentPopupAction&&Ua.currentPopupAction.cancel(),Ua.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){ts(this.filter.length===1,"Popup operations only handle one event");const e=$m();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ua.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,CN.get())};e()}}Ua.currentPopupAction=null;const RN="pendingRedirect",Du=new Map;class IN extends Sb{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Du.get(this.auth._key());if(!e){try{const a=await jN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Du.set(this.auth._key(),e)}return this.bypassAuthState||Du.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jN(r,e){const i=ON(e),a=MN(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function DN(r,e){Du.set(r._key(),e)}function MN(r){return Zi(r._redirectPersistence)}function ON(r){return ju(RN,r.config.apiKey,r.name)}async function VN(r,e,i=!1){if(Ei(r.app))return Promise.reject(kr(r));const a=Km(r),o=SN(a,e),f=await new IN(a,o,i).execute();return f&&!i&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}const kN=600*1e3;class LN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UN(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!Ab(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Ni(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jv(e))}saveEventToCache(e){this.cachedEventUids.add(Jv(e)),this.lastProcessedEventTime=Date.now()}}function Jv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Ab({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function UN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ab(r);default:return!1}}async function zN(r,e={}){return ul(r,"GET","/v1/projects",e)}const PN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qN=/^https?/;async function BN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await zN(r);for(const i of e)try{if(HN(i))return}catch{}es(r,"unauthorized-domain")}function HN(r){const e=sm(),{protocol:i,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&f.hostname===a}if(!qN.test(i))return!1;if(PN.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const FN=new Po(3e4,6e4);function Wv(){const r=Ci().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function GN(r){return new Promise((e,i)=>{function a(){Wv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Wv(),i(Ni(r,"network-request-failed"))},timeout:FN.get()})}if(Ci().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ci().gapi?.load)a();else{const o=Zw("iframefcb");return Ci()[o]=()=>{gapi.load?a():i(Ni(r,"network-request-failed"))},Xw(`${$w()}?onload=${o}`).catch(u=>i(u))}}).catch(e=>{throw Mu=null,e})}let Mu=null;function QN(r){return Mu=Mu||GN(r),Mu}const YN=new Po(5e3,15e3),KN="__/auth/iframe",XN="emulator/auth/iframe",$N={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JN(r){const e=r.config;_e(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?Fm(e,XN):`https://${r.config.authDomain}/${KN}`,a={apiKey:e.apiKey,appName:r.name,v:sl},o=ZN.get(r.config.apiHost);o&&(a.eid=o);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${i}?${Vo(a).slice(1)}`}async function WN(r){const e=await QN(r),i=Ci().gapi;return _e(i,r,"internal-error"),e.open({where:document.body,url:JN(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$N,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const f=Ni(r,"network-request-failed"),g=Ci().setTimeout(()=>{u(f)},YN.get());function v(){Ci().clearTimeout(g),o(a)}a.ping(v).then(v,()=>{u(f)})}))}const e4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},t4=500,n4=600,i4="_blank",s4="http://localhost";class e_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function r4(r,e,i,a=t4,o=n4){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const v={...e4,width:a.toString(),height:o.toString(),top:u,left:f},_=tn().toLowerCase();i&&(g=rb(_)?i4:i),ib(_)&&(e=e||s4,v.scrollbars="yes");const E=Object.entries(v).reduce((w,[H,Y])=>`${w}${H}=${Y},`,"");if(qw(_)&&g!=="_self")return a4(e||"",g),new e_(null);const S=window.open(e||"",g,E);_e(S,r,"popup-blocked");try{S.focus()}catch{}return new e_(S)}function a4(r,e){const i=document.createElement("a");i.href=r,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const l4="__/auth/handler",o4="emulator/auth/handler",c4=encodeURIComponent("fac");async function t_(r,e,i,a,o,u){_e(r.config.authDomain,r,"auth-domain-config-required"),_e(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:sl,eventId:o};if(e instanceof mb){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",cT(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(e instanceof qo){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const g=f;for(const E of Object.keys(g))g[E]===void 0&&delete g[E];const v=await r._getAppCheckToken(),_=v?`#${c4}=${encodeURIComponent(v)}`:"";return`${u4(r)}?${Vo(g).slice(1)}${_}`}function u4({config:r}){return r.emulator?Fm(r,o4):`https://${r.authDomain}/${l4}`}const If="webStorageSupport";class h4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_b,this._completeRedirectFn=VN,this._overrideRedirectResult=DN}async _openPopup(e,i,a,o){ts(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await t_(e,i,a,sm(),o);return r4(e,u,$m())}async _openRedirect(e,i,a,o){await this._originValidation(e);const u=await t_(e,i,a,sm(),o);return mN(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:u}=this.eventManagers[i];return o?Promise.resolve(o):(ts(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await WN(e),a=new LN(e);return i.register("authEvent",o=>(_e(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(If,{type:If},o=>{const u=o?.[0]?.[If];u!==void 0&&i(!!u),es(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=BN(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return ub()||sb()||Ym()}}const d4=h4;var n_="@firebase/auth",i_="1.11.1";class f4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function m4(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function p4(r){Ya(new Ur("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=a.options;_e(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:f,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hb(r)},_=new Yw(a,o,u,v);return Ww(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),Ya(new Ur("auth-internal",e=>{const i=Km(e.getProvider("auth").getImmediate());return(a=>new f4(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gs(n_,i_,m4(r)),Gs(n_,i_,"esm2020")}const g4=300,y4=__("authIdTokenMaxAge")||g4;let s_=null;const v4=r=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>y4)return;const o=i?.token;s_!==o&&(s_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function _4(r=A_()){const e=dm(r,"auth");if(e.isInitialized())return e.getImmediate();const i=Jw(r,{popupRedirectResolver:d4,persistence:[TN,hN,_b]}),a=__("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const f=v4(u.toString());oN(i,f,()=>f(i.currentUser)),lN(i,g=>f(g))}}const o=y_("auth");return o&&eN(i,`http://${o}`),i}function b4(){return document.getElementsByTagName("head")?.[0]??document}Kw({loadJS(r){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const u=Ni("internal-error");u.customData=o,i(u)},a.type="text/javascript",a.charset="UTF-8",b4().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});p4("Browser");const x4={apiKey:"AIzaSyBddMMc3WoA9UoAwCoZcP_QS4GTrUIJ7R8",authDomain:"notas-1f37f.firebaseapp.com",projectId:"notas-1f37f",storageBucket:"notas-1f37f.firebasestorage.app",messagingSenderId:"216586156036",appId:"1:216586156036:web:2a070111c818d407789d51"},wb=S_(x4),Lt=lw(wb);_4(wb);const E4=({onSelectLesson:r})=>{const[e,i]=J.useState("Hola! Cmo ests?");J.useEffect(()=>{(async()=>{try{const u=await kt(Vt(Lt,"phrases"));if(!u.empty){const f=u.docs.map(g=>g.data().text);i(f[Math.floor(Math.random()*f.length)])}}catch(u){console.error("Error fetching greeting:",u)}})()},[]);const a=[{title:"Vocabulario Bsico",color:"text-purple-400",lessons:[{id:"alphabet",title:"Alfabeto",icon:m.jsx(j0,{}),color:"bg-purple-600"},{id:"vocales",title:"Vocales",icon:m.jsx(j0,{}),color:"bg-pink-500"},{id:"numbers",title:"Nmeros",icon:m.jsx(DE,{}),color:"bg-blue-500"},{id:"colors",title:"Colores",icon:m.jsx(jE,{}),color:"bg-red-500"},{id:"calendar",title:"Calendario",icon:m.jsx(RE,{}),color:"bg-green-600"},{id:"weather",title:"El Clima",icon:m.jsx(LE,{}),color:"bg-orange-500"}]},{title:"Gramtica",color:"text-indigo-400",lessons:[{id:"pronouns",title:"Pronombres",icon:m.jsx(f_,{}),color:"bg-indigo-500"},{id:"verbs",title:"Ser/Estar",icon:m.jsx(d_,{}),color:"bg-emerald-600"},{id:"conjugations",title:"Conjugacin",icon:m.jsx(OE,{}),color:"bg-cyan-600"}]},{title:"Situacional",color:"text-pink-400",lessons:[{id:"intro",title:"Presentarse",icon:m.jsx(ME,{}),color:"bg-pink-500"},{id:"interview",title:"Entrevista",icon:m.jsx(VE,{}),color:"bg-cyan-600"},{id:"feelings",title:"Saludos",icon:m.jsx(kE,{}),color:"bg-yellow-500"},{id:"jobs",title:"Profesiones",icon:m.jsx(jf,{}),color:"bg-teal-600"},{id:"nationalities",title:"Pases",icon:m.jsx(u_,{}),color:"bg-rose-600"},{id:"characters",title:"Famosos",icon:m.jsx(Df,{}),color:"bg-indigo-600"}]},{title:"Pruebas",color:"text-yellow-400",lessons:[{id:"vocabmix",title:"Vocab Mix",icon:m.jsx(wE,{}),color:"bg-pink-600"},{id:"finalquiz",title:"Examen Final",icon:m.jsx(c_,{}),color:"bg-yellow-600"}]}];return m.jsxs("div",{className:"px-2 sm:p-6 max-w-7xl mx-auto space-y-8 pb-32 relative",children:[m.jsxs("div",{className:"space-y-1 relative z-20",children:[m.jsx("div",{className:"flex justify-between items-end",children:m.jsx("h1",{className:"text-3xl font-black bg-gradient-to-r from-pink-400 to-indigo-400 bg-clip-text text-transparent tracking-tight",children:"Hola, estudiante"})}),m.jsx("p",{className:"text-gray-400 text-sm font-medium",children:e})]}),m.jsx("div",{className:"space-y-8 relative z-10",children:a.map((o,u)=>m.jsxs("div",{className:"space-y-3",children:[m.jsx("h3",{className:`text-xs font-bold uppercase tracking-widest ${o.color} ml-1`,children:o.title}),m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:o.lessons.map(f=>m.jsxs("button",{onClick:()=>r(f.id),className:"bg-gray-800 p-3 rounded-2xl border border-gray-700/50 hover:border-gray-500 hover:bg-gray-750 transition-all text-left group relative overflow-hidden flex flex-col justify-between min-h-[100px]",children:[m.jsx("div",{className:`absolute top-0 right-0 p-2 opacity-10 ${f.color} blur-xl w-16 h-16 rounded-full -mr-4 -mt-4 group-hover:opacity-20 transition-opacity pointer-events-none`}),m.jsx("div",{className:"relative z-10",children:m.jsx("div",{className:`w-8 h-8 rounded-lg ${f.color} flex items-center justify-center text-white shadow-md mb-2 shrink-0`,children:f.icon})}),m.jsx("span",{className:"font-bold text-gray-200 text-sm relative z-10",children:f.title})]},f.id))})]},u))}),m.jsx("div",{className:"flex justify-center mt-8 opacity-20 hover:opacity-100 transition-opacity",children:m.jsxs("button",{onClick:()=>r("admin"),className:"flex items-center gap-2 px-4 py-2 rounded-full border border-gray-700 hover:bg-gray-800 text-xs text-gray-500 transition-colors",children:[m.jsx(jf,{size:14}),m.jsx("span",{children:"Panel de Control"})]})})]})},T4=({onBack:r})=>m.jsxs("div",{className:"min-h-screen bg-gray-900 text-white p-6 max-w-2xl mx-auto pb-24",children:[m.jsxs("div",{className:"flex items-center gap-4 mb-8 border-b border-gray-700 pb-4",children:[m.jsx("button",{onClick:r,className:"bg-gray-800 p-2 rounded-lg hover:bg-gray-700 transition-colors",children:m.jsx(om,{size:20,className:"text-gray-400"})}),m.jsxs("div",{children:[m.jsxs("h1",{className:"text-2xl font-bold text-red-500 flex items-center gap-2",children:[m.jsx(jf,{size:24}),"Panel de Control"]}),m.jsx("p",{className:"text-gray-400 text-sm",children:"Gestin de bases de datos"})]})]}),m.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 mb-6 border border-indigo-500/30",children:[m.jsxs("h2",{className:"text-xl font-bold text-indigo-400 mb-4 flex items-center gap-2",children:[m.jsx(IE,{size:20}),"Generador de contenido con IA"]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-xl p-8 text-center bg-gray-900/50 hover:border-indigo-500 transition-colors cursor-pointer group",children:[m.jsx("div",{className:"mb-2 group-hover:scale-110 transition-transform duration-300",children:""}),m.jsx("p",{className:"text-gray-400 text-sm group-hover:text-white",children:"Subir notas del tutor (Imagen)"})]}),m.jsx("textarea",{className:"w-full bg-gray-900 border border-gray-700 rounded-lg p-3 text-white focus:ring-2 focus:ring-indigo-500 outline-none",rows:"3",placeholder:"O pega el texto de las notas aqu..."}),m.jsx("button",{className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-3 rounded-lg shadow-lg opacity-50 cursor-not-allowed",children:"Generar y guardar (Prximamente)"})]})]})]}),S4=({onComplete:r})=>{const[e,i]=J.useState([]),[a,o]=J.useState(!0);J.useEffect(()=>{(async()=>{try{const g=["colors","places","greetings","feelings","days","months"];let v=[];for(const S of g){const H=(await kt(Vt(Lt,S))).docs.map(Y=>({...Y.data(),category:S}));v=[...v,...H]}const E=(await kt(Vt(Lt,"jobs"))).docs.map(S=>{const w=S.data();return{es:w.masc,en:w.eng,category:"jobs"}});v=[...v,...E],i(v.sort(()=>.5-Math.random()))}catch(g){console.error("Error fetching vocab mix:",g)}finally{o(!1)}})()},[]);const u=({v:f})=>{const[g,v]=J.useState(!1);return m.jsx("div",{onClick:()=>v(!g),className:"relative h-24 cursor-pointer perspective-1000 group",children:m.jsxs("div",{className:`w-full h-full relative preserve-3d flip-card-inner ${g?"rotate-y-180":""} transition-transform duration-500`,children:[m.jsx("div",{className:"absolute inset-0 bg-gray-800 p-2 rounded-xl border border-gray-700 flex flex-col items-center justify-center backface-hidden shadow-lg",children:m.jsx("span",{className:"text-white font-bold text-center text-lg",children:f.es})}),m.jsxs("div",{className:"absolute inset-0 bg-pink-900/90 p-2 rounded-xl border border-pink-500 flex flex-col items-center justify-center backface-hidden rotate-y-180 shadow-lg",children:[m.jsx("span",{className:"text-pink-100 font-bold text-center text-lg",children:f.en}),m.jsx("span",{className:"text-[10px] text-pink-300 uppercase tracking-widest mt-1 opacity-75",children:f.category})]})]})})};return a?m.jsx("div",{className:"p-10 text-center text-gray-400",children:"Generando mix de vocabulario..."}):m.jsxs("div",{className:"p-4 max-w-md mx-auto h-[calc(100vh-80px)] flex flex-col",children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("h2",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-pink-400 to-purple-400",children:"Vocabulario Mix"}),m.jsxs("p",{className:"text-gray-400 text-xs",children:["Se encontraron ",e.length," tarjetas."]})]}),m.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-hide pb-20",children:m.jsx("div",{className:"grid grid-cols-2 gap-3",children:e.map((f,g)=>m.jsx(u,{v:f},g))})}),m.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-6 bg-gray-900/95 backdrop-blur border-t border-gray-800 max-w-md mx-auto",children:m.jsx("button",{onClick:r,className:"w-full border border-gray-600 text-gray-400 font-bold py-3 rounded-2xl",children:"Volver al Men"})})]})},Sn=({onComplete:r,questionCount:e,pool:i,enableSpeech:a})=>{const[o,u]=J.useState([]),[f,g]=J.useState(0),[v,_]=J.useState(0),[E,S]=J.useState(!1),[w,H]=J.useState(null),[Y,W]=J.useState(null);J.useEffect(()=>{let le=[...i].sort(()=>.5-Math.random());le.length>e&&(le=le.slice(0,e)),u(le)},[i,e]);const $=le=>{window.speechSynthesis.cancel();const fe=new SpeechSynthesisUtterance(le);fe.lang="es-MX",fe.rate=.8,window.speechSynthesis.speak(fe)},ne=le=>{if(w)return;H(le);const fe=o[f],ve=le===fe.a;ve&&(_(A=>A+1),a&&$(fe.a));const I=ve?"Correcto! "+(fe.exp||""):"Incorrecto. "+(fe.exp||`La respuesta correcta es: ${fe.a}`);W({correct:ve,text:I}),setTimeout(()=>ae(),3500)},ae=()=>{H(null),W(null),f<o.length-1?g(le=>le+1):S(!0)};if(o.length===0)return m.jsx("div",{children:"Cargando..."});if(E)return m.jsxs("div",{className:"p-6 text-center space-y-4",children:[m.jsx("div",{className:"text-6xl animate-bounce",children:""}),m.jsx("h3",{className:"text-xl font-bold",children:"Prueba Terminada!"}),m.jsxs("p",{className:"text-gray-300",children:["Puntaje: ",v," / ",o.length]}),m.jsx("button",{onClick:r,className:"w-full bg-indigo-600 text-white font-bold py-3 rounded-xl",children:"Volver a Leccin"})]});const ie=o[f];return m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between text-xs text-gray-400 font-mono",children:[m.jsxs("span",{children:["P: ",f+1,"/",o.length]}),m.jsxs("span",{children:["Pts: ",v]})]}),m.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl border border-gray-700 min-h-[100px] flex items-center justify-center text-center",children:[ie.color&&m.jsx("div",{className:`w-12 h-12 rounded-lg mr-4 ${ie.color}`}),m.jsx("p",{className:"text-lg font-medium",children:ie.q})]}),ie.type==="mc"&&m.jsx("div",{className:"grid gap-2",children:ie.opts.map(le=>{let fe="bg-gray-800 hover:bg-gray-700";return w&&(le===ie.a?fe="bg-green-600 border-green-400":le===w?fe="bg-red-600 border-red-400":fe="opacity-40"),m.jsx("button",{onClick:()=>ne(le),className:`${fe} p-3 rounded-lg font-bold transition-all border border-gray-700 text-sm capitalize`,children:le},le)})}),Y&&m.jsx("div",{className:`p-4 rounded-xl text-center text-sm font-bold animate-fade-in border ${Y.correct?"text-green-200 bg-green-900/40 border-green-500":"text-red-200 bg-red-900/40 border-red-500"}`,children:Y.text})]})},r_=r=>r?r.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim():"",Ws=(r,e,i=2,a="en")=>{if(!e||e.length===0)return["Option A","Option B"];let o=[];r.category?o=e.filter(g=>g.category===r.category):o=e,o.length<=1&&(o=e);const u=r_(r[a]);return o.filter(g=>r_(g[a])!==u).sort(()=>.5-Math.random()).slice(0,i).map(g=>g[a])},A4=({onComplete:r})=>{const[e,i]=J.useState([]),[a,o]=J.useState(!0);return J.useEffect(()=>{(async()=>{try{const f=["colors","places","greetings","feelings","days","months"];let g=[];for(const S of f){const w=await kt(Vt(Lt,S));g.push(...w.docs.map(H=>({...H.data(),category:S})))}const v=await kt(Vt(Lt,"jobs"));g.push(...v.docs.map(S=>({es:S.data().masc,en:S.data().eng,category:"jobs"})));let _=[];g.sort(()=>.5-Math.random()),_=g.slice(0,25).map(S=>{const w=Ws(S,g);return{type:"mc",q:`Qu significa "${S.es}"?`,a:S.en,opts:[S.en,...w].sort(()=>.5-Math.random()),exp:`${S.es} = ${S.en}`}}),i(_)}catch(f){console.error("Error generating quiz:",f)}finally{o(!1)}})()},[]),a?m.jsx("div",{className:"p-10 text-center text-gray-400",children:"Generando examen final..."}):e.length===0?m.jsx("div",{className:"p-10 text-center text-red-400",children:"No hay suficientes datos para el examen."}):m.jsxs("div",{className:"p-6 max-w-md mx-auto pb-24",children:[m.jsx("h2",{className:"text-xl font-bold mb-4 text-yellow-500",children:"Examen Final (25 Preguntas)"}),m.jsx(Sn,{pool:e,questionCount:25,onComplete:r})]})};const w4=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),N4=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),a_=r=>{const e=N4(r);return e.charAt(0).toUpperCase()+e.slice(1)},Nb=(...r)=>r.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),C4=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var R4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const I4=J.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:u,iconNode:f,...g},v)=>J.createElement("svg",{ref:v,...R4,width:e,height:e,stroke:r,strokeWidth:a?Number(i)*24/Number(e):i,className:Nb("lucide",o),...!u&&!C4(g)&&{"aria-hidden":"true"},...g},[...f.map(([_,E])=>J.createElement(_,E)),...Array.isArray(u)?u:[u]]));const We=(r,e)=>{const i=J.forwardRef(({className:a,...o},u)=>J.createElement(I4,{ref:u,iconNode:e,className:Nb(`lucide-${w4(a_(r))}`,`lucide-${r}`,a),...o}));return i.displayName=a_(r),i};const j4=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],D4=We("book-open",j4);const M4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Cb=We("circle-alert",M4);const O4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],qr=We("circle-question-mark",O4);const V4=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M8 19v1",key:"1dk2by"}],["path",{d:"M8 14v1",key:"84yxot"}],["path",{d:"M16 19v1",key:"v220m7"}],["path",{d:"M16 14v1",key:"g12gj6"}],["path",{d:"M12 21v1",key:"q8vafk"}],["path",{d:"M12 16v1",key:"1mx6rx"}]],k4=We("cloud-drizzle",V4);const L4=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 17H7",key:"pygtm1"}],["path",{d:"M17 21H9",key:"1u2q02"}]],U4=We("cloud-fog",L4);const z4=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v2",key:"a1is7l"}],["path",{d:"M8 14v2",key:"1e9m6t"}],["path",{d:"M16 20h.01",key:"xwek51"}],["path",{d:"M8 20h.01",key:"1vjney"}],["path",{d:"M12 16v2",key:"z66u1j"}],["path",{d:"M12 22h.01",key:"1urd7a"}]],P4=We("cloud-hail",z4);const q4=[["path",{d:"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973",key:"1cez44"}],["path",{d:"m13 12-3 5h4l-3 5",key:"1t22er"}]],B4=We("cloud-lightning",q4);const H4=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m9.2 22 3-7",key:"sb5f6j"}],["path",{d:"m9 13-3 7",key:"500co5"}],["path",{d:"m17 13-3 7",key:"8t2fiy"}]],F4=We("cloud-rain-wind",H4);const G4=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],Q4=We("cloud-rain",G4);const Y4=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],K4=We("cloud",Y4);const X4=[["path",{d:"M17.5 21H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"gqqjvc"}],["path",{d:"M22 10a3 3 0 0 0-3-3h-2.207a5.502 5.502 0 0 0-10.702.5",key:"1p2s76"}]],$4=We("cloudy",X4);const Z4=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Rb=We("external-link",Z4);const J4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],W4=We("info",J4);const eC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Jm=We("loader-circle",eC);const tC=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],nC=We("newspaper",tC);const iC=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Ib=We("play",iC);const sC=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],rC=We("shuffle",sC);const aC=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],lC=We("snowflake",aC);const oC=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],cC=We("sun",oC);const uC=[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]],hC=We("sunrise",uC);const dC=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],fC=We("thermometer",dC);const mC=[["path",{d:"M21 4H3",key:"1hwok0"}],["path",{d:"M18 8H6",key:"41n648"}],["path",{d:"M19 12H9",key:"1g4lpz"}],["path",{d:"M16 16h-6",key:"1j5d54"}],["path",{d:"M11 20H9",key:"39obr8"}]],pC=We("tornado",mC);const gC=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],nl=We("volume-2",gC);const yC=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],vC=We("wind",yC);const _C=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],bC=We("youtube",_C);const xC=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],jb=We("zap",xC),EC=()=>{const[r,e]=J.useState([]),[i,a]=J.useState([]),[o,u]=J.useState(!0),[f,g]=J.useState(!1),v=J.useRef(null),[_,E]=J.useState(!1),[S,w]=J.useState([]);J.useEffect(()=>{(async()=>{try{const le=zm(Vt(Lt,"alphabet")),ve=(await kt(le)).docs.map(N=>N.data());ve.sort((N,O)=>N.letter.localeCompare(O.letter,"es",{sensitivity:"base"}));const I=ve.filter(N=>N.category==="letter"),A=ve.filter(N=>N.category==="sound");e(I),a(A)}catch(le){console.error("Error fetching alphabet:",le)}finally{u(!1)}})()},[]);const H=ie=>{window.speechSynthesis.cancel();let le;ie==="B"?le=new SpeechSynthesisUtterance("be"):ie==="V"?le=new SpeechSynthesisUtterance("uve"):ie==="LL"?le=new SpeechSynthesisUtterance("ye"):ie==="RR"?le=new SpeechSynthesisUtterance("erre"):ie==="Y"?le=new SpeechSynthesisUtterance("i griega"):ie==="W"?le=new SpeechSynthesisUtterance("doble u"):le=new SpeechSynthesisUtterance(ie.toLowerCase()),le.lang="es-MX",le.rate=.8,window.speechSynthesis.speak(le)},Y=()=>{const ie={B:["V"],V:["B"],C:["S","Z","K","Q"],S:["Z","C","X"],Z:["S","C"],G:["J"],J:["G","X"],LL:["Y"],Y:["LL","I"],I:["Y"],M:["N",""],N:["M",""],:["M","N"],K:["Q","C"],Q:["K","C"],X:["J","S"]},fe=[...r].sort(()=>.5-Math.random()).slice(0,15).map(ve=>{const I=ve.letter,A=[I];if(ie[I]){const N=ie[I].filter(O=>!A.includes(O));N.length>0&&A.push(N[Math.floor(Math.random()*N.length)])}for(;A.length<4;){const N=r[Math.floor(Math.random()*r.length)].letter;A.includes(N)||A.push(N)}return{q:m.jsxs("button",{onClick:()=>H(I),className:"w-full h-full flex items-center justify-center gap-2 text-indigo-400 text-lg font-bold",children:[m.jsx(nl,{size:24})," Escuchar Sonido"]}),a:I,opts:A.sort(()=>.5-Math.random()),type:"mc"}});w(fe),E(!0)},W="1wJIkTuckEI",$=`https://www.youtube.com/watch?v=${W}`;if(o)return m.jsx("div",{className:"w-full flex items-center justify-center p-8",children:m.jsx(Jm,{className:"animate-spin text-indigo-400 w-8 h-8"})});if(_)return m.jsxs("div",{className:"w-full bg-[#111827] text-gray-100 space-y-8 animate-fade-in p-4",children:[m.jsx("h2",{className:"text-xl font-black text-white tracking-tight",children:"Prueba de Alfabeto"}),m.jsx(Sn,{onComplete:()=>E(!1),questionCount:15,pool:S})]});const ne=()=>{v.current?.scrollIntoView({behavior:"smooth",block:"center"})},ae=(ie,le=!1)=>{const fe=le?"teal":"purple";return m.jsxs("button",{onClick:()=>H(ie.letter),className:`group flex justify-between items-center p-4 rounded-xl border border-gray-700/50 hover:bg-white/5 hover:border-${fe}-500/50 transition-all active:scale-95 text-left`,children:[m.jsx("div",{className:"flex items-center gap-4",children:m.jsx("span",{className:`text-2xl font-black text-${fe}-400 group-hover:text-${fe}-300 w-16 text-center`,children:ie.display})}),m.jsxs("div",{className:"flex items-center gap-3 text-right flex-1 justify-end",children:[m.jsxs("div",{className:"flex-grow text-right",children:[m.jsx("span",{className:"block text-white font-bold text-lg",children:ie.sound}),m.jsx("span",{className:"text-xs text-gray-500 italic group-hover:text-gray-400",children:ie.notes})]}),m.jsx(nl,{className:`w-5 h-5 text-gray-600 group-hover:text-${fe}-400 opacity-0 group-hover:opacity-100 transition-opacity`})]})]},ie.letter)};return m.jsxs("div",{className:"w-full bg-[#111827] text-gray-100 space-y-8 animate-fade-in",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("h2",{className:"text-2xl font-black text-white tracking-tight",children:"Alfabeto Espaol"}),m.jsx("p",{className:"text-gray-400 text-xs font-medium",children:"Letras, sonidos y pronunciacin"})]}),m.jsxs("div",{className:"p-4 rounded-xl border border-indigo-500/30 bg-indigo-500/10",children:[m.jsx("h3",{className:"font-bold text-sm text-indigo-300 mb-2 flex items-center gap-2",children:"Claves de Pronunciacin"}),m.jsxs("ul",{className:"text-xs text-gray-300 space-y-2 list-disc list-inside opacity-90",children:[m.jsxs("li",{children:[m.jsx("b",{className:"text-white",children:"H"})," es siempre silenciosa."]}),m.jsxs("li",{children:[m.jsx("b",{className:"text-white",children:"LL"})," y ",m.jsx("b",{className:"text-white",children:"Y"})," suenan como 'Y' en 'yes'."]}),m.jsxs("li",{children:[m.jsx("b",{className:"text-white",children:"RR"})," es una vibracin fuerte (trilled R)."]}),m.jsxs("li",{children:[m.jsx("b",{className:"text-white",children:"C"})," y ",m.jsx("b",{className:"text-white",children:"G"})," cambian su sonido dependiendo de la vocal que sigue."]})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[m.jsxs("button",{onClick:ne,className:"w-full flex items-center justify-center gap-3 py-3 rounded-xl border border-indigo-500/30 bg-indigo-500/10 text-indigo-300 hover:bg-indigo-500/20 transition-all font-medium text-sm",children:[m.jsx(bC,{size:16}),"Ver video"]}),m.jsxs("button",{onClick:Y,className:"w-full flex items-center justify-center gap-3 py-3 rounded-xl border border-purple-500/30 bg-purple-500/10 text-purple-300 hover:bg-purple-500/20 transition-all font-medium text-sm",children:[m.jsx(qr,{size:16}),"Empezar Prueba"]})]}),m.jsx("div",{className:"grid grid-cols-1 gap-2",children:r.map(ie=>ae(ie,!1))}),i.length>0&&m.jsxs("div",{className:"pt-4",children:[m.jsx("h3",{className:"text-base font-bold text-gray-400 tracking-wide uppercase pb-3",children:"Sonidos nicos"}),m.jsx("div",{className:"grid grid-cols-1 gap-2",children:i.map(ie=>ae(ie,!0))})]}),m.jsxs("div",{ref:v,className:"space-y-3 pt-8",children:[m.jsx("h3",{className:"text-base font-bold text-gray-400 tracking-wide uppercase pb-3",children:"Video de Prctica"}),!f&&m.jsx("div",{className:"relative w-full aspect-video rounded-xl overflow-hidden border border-gray-800 bg-black shadow-lg",children:m.jsx("iframe",{width:"100%",height:"100%",src:`https://www.youtube.com/embed/${W}`,title:"Cancin del Alfabeto",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"absolute inset-0",onError:()=>g(!0)})}),m.jsxs("a",{href:$,target:"_blank",rel:"noopener noreferrer",className:`flex items-center justify-center gap-3 w-full py-4 rounded-xl border ${f?"border-pink-500/30 bg-pink-500/10":"border-gray-700/50 hover:bg-white/5"} transition-all group`,children:[f?m.jsx(Cb,{size:18,className:"text-pink-500"}):m.jsx(Ib,{size:18,className:"text-gray-400 group-hover:text-white"}),m.jsx("span",{className:`text-sm font-medium ${f?"text-pink-200":"text-gray-400 group-hover:text-white"}`,children:f?"Video no disponible - Ver en YouTube":"Abrir en YouTube App"}),m.jsx(Rb,{size:14,className:`${f?"text-pink-500":"text-gray-600 group-hover:text-white"}`})]})]})]})},TC=()=>{const[r,e]=J.useState([]),[i,a]=J.useState(!0),[o,u]=J.useState(!1),[f,g]=J.useState(!1),[v,_]=J.useState([]);J.useEffect(()=>{(async()=>{try{const W=zm(Vt(Lt,"lesson_vocales"),Y1("order")),ne=(await kt(W)).docs.map(ae=>ae.data());ne.length>0?e(ne):console.log("No vowels found in Firestore. Please seed data via Admin.")}catch(W){console.error("Error fetching vowels:",W)}finally{a(!1)}})()},[]);const E=Y=>{window.speechSynthesis.cancel();const W=new SpeechSynthesisUtterance(Y);W.lang="es-MX",W.rate=.8,window.speechSynthesis.speak(W)},S=()=>{const Y=["A","E","I","O","U"];let W=[];for(let ne=0;ne<3;ne++)W.push(...Y);const $=W.map(ne=>({q:m.jsxs("button",{onClick:()=>E(ne),className:"w-full h-full flex items-center justify-center gap-2 text-pink-400 text-lg font-bold",children:[m.jsx(nl,{size:24})," Escuchar Sonido"]}),a:ne,opts:[...Y].sort(()=>.5-Math.random()),type:"mc"}));_($.sort(()=>.5-Math.random())),g(!0)},w="PXFMC-g0Jt8",H=`https://www.youtube.com/watch?v=${w}`;return i?m.jsx("div",{className:"min-h-screen w-full bg-[#111827] flex items-center justify-center",children:m.jsx(Jm,{className:"animate-spin text-pink-500 w-8 h-8"})}):f?m.jsxs("div",{className:"w-full bg-[#111827] text-gray-100 space-y-8 animate-fade-in p-4",children:[m.jsx("h2",{className:"text-xl font-black text-white tracking-tight",children:"Prueba de Vocales"}),m.jsx(Sn,{onComplete:()=>g(!1),questionCount:15,pool:v})]}):m.jsxs("div",{className:"w-full bg-[#111827] text-gray-100 space-y-8 animate-fade-in",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("h2",{className:"text-2xl font-black text-white tracking-tight",children:"Las vocales"}),m.jsx("p",{className:"text-gray-400 text-xs font-medium",children:"Escucha y repite los sonidos"})]}),r.length===0?m.jsx("div",{className:"p-4 border border-yellow-500/30 bg-yellow-500/10 rounded-xl text-yellow-200 text-sm text-center",children:' No hay datos. Ve al Panel de Control y pulsa "Subir Vocales".'}):m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"grid grid-cols-5 gap-3",children:r.map(Y=>m.jsxs("button",{onClick:()=>E(Y.letter.toLowerCase()),className:"group flex flex-col items-center justify-center py-4 rounded-xl border border-gray-700/50 hover:border-pink-500/50 hover:bg-white/5 transition-all active:scale-95",children:[m.jsx("span",{className:"text-xl font-black text-white mb-1 group-hover:text-pink-400 transition-colors",children:Y.letter}),m.jsx(nl,{className:"w-3 h-3 text-gray-600 group-hover:text-pink-400"})]},Y.letter))}),m.jsxs("button",{onClick:S,className:"w-full flex items-center justify-center gap-3 py-3 rounded-xl border border-purple-500/30 bg-purple-500/10 text-purple-300 hover:bg-purple-500/20 transition-all font-medium text-sm",children:[m.jsx(qr,{size:16}),"Empezar Prueba"]}),m.jsxs("div",{className:"space-y-3",children:[!o&&m.jsx("div",{className:"relative w-full aspect-video rounded-xl overflow-hidden border border-gray-800 bg-black shadow-lg",children:m.jsx("iframe",{width:"100%",height:"100%",src:`https://www.youtube.com/embed/${w}`,title:"Cancin de las Vocales",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"absolute inset-0",onError:()=>u(!0)})}),m.jsxs("a",{href:H,target:"_blank",rel:"noopener noreferrer",className:`flex items-center justify-center gap-3 w-full py-4 rounded-xl border ${o?"border-pink-500/30 bg-pink-500/10":"border-gray-700/50 hover:bg-white/5"} transition-all group`,children:[o?m.jsx(Cb,{size:18,className:"text-pink-500"}):m.jsx(Ib,{size:18,className:"text-gray-400 group-hover:text-white"}),m.jsx("span",{className:`text-sm font-medium ${o?"text-pink-200":"text-gray-400 group-hover:text-white"}`,children:o?"Video no disponible - Ver en YouTube":"Abrir en YouTube App"}),m.jsx(Rb,{size:14,className:`${o?"text-pink-500":"text-gray-600 group-hover:text-white"} mr-2`})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-500 ml-1",children:"Rimas de Prctica"}),m.jsx("div",{className:"space-y-3",children:r.map((Y,W)=>m.jsxs("div",{onClick:()=>E(Y.rhyme),className:"flex items-center justify-between p-4 rounded-xl border border-gray-700/50 hover:bg-white/5 transition-colors cursor-pointer group",children:[m.jsx("div",{className:"w-10 shrink-0 flex items-center",children:m.jsx("span",{className:"text-xl font-black text-purple-400 group-hover:text-pink-400 transition-colors",children:Y.letter})}),m.jsx("div",{className:"flex-1 text-right",children:m.jsx("p",{className:"text-sm font-medium text-gray-300 leading-relaxed group-hover:text-white transition-colors",children:Y.rhyme})})]},W))})]})]})]})},SC=()=>{const[r,e]=J.useState([]),[i,a]=J.useState(!0);J.useEffect(()=>{(async()=>{try{const f=Vt(Lt,"numbers"),g=zm(f,Y1("order")),_=(await kt(g)).docs.map(E=>E.data());e(_)}catch(f){console.error("Error fetching numbers:",f)}finally{a(!1)}})()},[]);const o=u=>{window.speechSynthesis.cancel();const f=new SpeechSynthesisUtterance(u);f.lang="es-MX",f.rate=.9,window.speechSynthesis.speak(f)};return i?m.jsx("div",{className:"flex h-screen items-center justify-center",children:m.jsx(Jm,{className:"h-8 w-8 animate-spin text-pink-500"})}):m.jsxs("div",{className:"w-full text-gray-100 space-y-8 animate-fade-in",children:[m.jsx("div",{className:"space-y-1",children:m.jsx("h2",{className:"text-2xl font-black text-white tracking-tight",children:"Los nmeros"})}),m.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-5 md:grid-cols-6 gap-1",children:r.map(u=>m.jsxs("button",{onClick:()=>o(u.span),className:"group flex flex-col items-center justify-center text-center p-1 rounded-lg bg-gray-800 border border-gray-700 shadow-md hover:bg-gray-700 hover:border-indigo-500 transition-all active:scale-95 aspect-square transform hover:-translate-y-1",children:[m.jsx("span",{className:"text-2xl font-extrabold text-indigo-400 group-hover:text-indigo-300",children:u.label}),m.jsx("span",{className:"mt-1 text-xs font-semibold text-white",children:u.span}),m.jsx(nl,{className:"w-3 h-3 text-gray-600 group-hover:text-indigo-400 opacity-0 group-hover:opacity-100 transition-opacity mt-1"})]},u.order))}),m.jsx("div",{className:"py-4"}),m.jsxs("div",{className:"p-4 rounded-xl border border-indigo-500/30 bg-indigo-500/10 space-y-6",children:[m.jsx("h3",{className:"font-bold text-lg text-indigo-300 mb-2 flex items-center gap-2",children:" Spanish Numbers Cheat Sheet"}),m.jsxs("div",{className:"space-y-4 text-sm",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-white",children:'1. The "Memorize" Zone (015)'}),m.jsxs("ul",{className:"text-sm text-gray-300 space-y-1 list-disc list-inside opacity-80 mt-1",children:[m.jsxs("li",{children:[m.jsx("b",{className:"text-white",children:"010:"})," Rote memorization (Uno, dos, tres...)."]}),m.jsxs("li",{children:[m.jsx("b",{className:"text-white",children:"1115:"})," All end in ",m.jsx("code",{className:"text-pink-300 bg-black/30 px-1 rounded",children:"-ce"})," (Once, doce, trece, catorce, quince)."]})]})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-white",children:"2. The One-Word Rule (1629)"}),m.jsxs("ul",{className:"text-sm text-gray-300 space-y-1 list-disc list-inside opacity-80 mt-1",children:[m.jsxs("li",{children:[m.jsx("b",{className:"text-white",children:"1619:"})," Starts with ",m.jsx("code",{className:"text-pink-300 bg-black/30 px-1 rounded",children:"Dieci..."})," (Diecisis)."]}),m.jsxs("li",{children:[m.jsx("b",{className:"text-white",children:"2029:"})," Starts with ",m.jsx("code",{className:"text-pink-300 bg-black/30 px-1 rounded",children:"Veinti..."})," (Veintiuno)."]}),m.jsx("li",{children:"Note: Watch for accents on 16, 22, 23, 26."})]})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-white",children:"3. The Three-Word Rule (3099)"}),m.jsxs("ul",{className:"text-sm text-gray-300 space-y-1 list-disc list-inside opacity-80 mt-1",children:[m.jsxs("li",{children:["From 30 on, separate the words with ",m.jsx("code",{className:"text-pink-300 bg-black/30 px-1 rounded",children:"y"})," (and)."]}),m.jsxs("li",{children:["Pattern: [Ten] ",m.jsx("b",{className:"text-white",children:"y"})," [One] (Example: 34 = ",m.jsx("i",{className:"text-gray-300",children:"Treinta y cuatro"}),")."]}),m.jsxs("li",{children:["The Tens: End in ",m.jsx("code",{className:"text-pink-300 bg-black/30 px-1 rounded",children:"-enta"})," (Cuarenta, Cincuenta)."]})]})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-white",children:"4. The Hundreds (Gender & Irregulars)"}),m.jsxs("ul",{className:"text-sm text-gray-300 space-y-1 list-disc list-inside opacity-80 mt-1",children:[m.jsxs("li",{children:["Hundreds change gender based on the noun (",m.jsx("b",{className:"text-white",children:"-os"})," for masc, ",m.jsx("b",{className:"text-white",children:"-as"})," for fem)."]}),m.jsxs("li",{children:["Example: ",m.jsxs("i",{className:"text-gray-300",children:["Doscient",m.jsx("b",{className:"text-white",children:"as"})," casas"]}),"."]}),m.jsx("li",{className:"pt-2 font-bold text-white",children:"The 3 Irregulars (Memorize these!):"})]}),m.jsx("div",{className:"mt-2 overflow-x-auto",children:m.jsxs("table",{className:"min-w-full text-sm text-left",children:[m.jsx("thead",{className:"border-b border-gray-700",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-2",children:"Number"}),m.jsx("th",{className:"p-2",children:"Spanish"}),m.jsx("th",{className:"p-2",children:"The Trick"})]})}),m.jsxs("tbody",{className:"divide-y divide-gray-800",children:[m.jsxs("tr",{children:[m.jsx("td",{className:"p-2",children:"500"}),m.jsx("td",{className:"p-2 text-fuchsia-300",children:"Quinientos"}),m.jsx("td",{className:"p-2",children:"Starts with Q"})]}),m.jsxs("tr",{children:[m.jsx("td",{className:"p-2",children:"700"}),m.jsx("td",{className:"p-2 text-fuchsia-300",children:"Setecientos"}),m.jsx("td",{className:"p-2",children:"No 'i' (Not siete)"})]}),m.jsxs("tr",{children:[m.jsx("td",{className:"p-2",children:"900"}),m.jsx("td",{className:"p-2 text-fuchsia-300",children:"Novecientos"}),m.jsx("td",{className:"p-2",children:"No 'ue' (Not nueve)"})]})]})]})})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-white",children:'5. Three "Gotcha" Rules'}),m.jsxs("ul",{className:"text-sm text-gray-300 space-y-1 list-disc list-inside opacity-80 mt-1",children:[m.jsxs("li",{children:[m.jsx("b",{className:"text-white",children:"Uno becomes Un:"})," Before a masculine noun. (Tengo ",m.jsx("i",{className:"text-gray-300",children:"un"})," gato)."]}),m.jsxs("li",{children:[m.jsx("b",{className:"text-white",children:"100 vs 100+:"})," Exactly 100 is ",m.jsx("b",{className:"text-white",children:"Cien"}),". 101+ becomes ",m.jsx("b",{className:"text-white",children:"Ciento..."})," (Ciento dos)."]}),m.jsxs("li",{children:[m.jsx("b",{className:"text-white",children:"The Billion Trap:"})," 1,000,000,000 is ",m.jsx("b",{className:"text-white",children:"Mil millones"}),". (In Spanish, ",m.jsx("i",{className:"text-gray-300",children:"Un Billn"})," is a Trillion)."]})]})]})]})]})]})},AC=()=>{const[r,e]=J.useState("learn"),[i,a]=J.useState([]),[o,u]=J.useState(!0);J.useEffect(()=>{(async()=>{try{const S=(await kt(Vt(Lt,"colors"))).docs.map(w=>w.data()).sort(()=>.5-Math.random());a(S)}catch(_){console.error("Error fetching colors:",_)}finally{u(!1)}})()},[]);const f=J.useMemo(()=>i.length===0?[]:i.map(v=>({type:"mc",q:"Qu color es este?",color:v.hex,a:v.es,opts:[v.es,...Ws(v,i,2,"es")].sort(()=>.5-Math.random()),exp:`El color es ${v.es} (${v.en})`})),[i]),g=({c:v})=>{const[_,E]=J.useState(!1);return m.jsx("div",{className:"relative h-24 cursor-pointer perspective-1000 group",onClick:()=>E(!_),children:m.jsxs("div",{className:`w-full h-full relative preserve-3d flip-card-inner ${_?"rotate-y-180":""}`,children:[m.jsxs("div",{style:{backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden"},className:`absolute inset-0 ${v.hex} rounded-2xl flex flex-col items-center justify-center shadow-lg ${_?"z-0":"z-10"}`,children:[m.jsx("div",{className:"absolute inset-0 bg-black/10 group-hover:bg-transparent transition-all rounded-2xl"}),m.jsx("span",{className:"relative font-black text-xl text-white drop-shadow-md z-10",children:v.es})]}),m.jsx("div",{style:{backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden"},className:`absolute inset-0 bg-gray-800 rounded-2xl border border-gray-600 flex flex-col items-center justify-center rotate-y-180 ${_?"z-10":"z-0"}`,children:m.jsx("span",{className:"font-bold text-lg text-white",children:v.en})})]})})};return o?m.jsx("div",{className:"p-10 text-center text-gray-400",children:"Cargando colores..."}):r==="quiz"?m.jsx("div",{className:"p-6 max-w-md mx-auto pb-24",children:m.jsx(Sn,{pool:f,questionCount:10,onComplete:()=>e("learn"),enableSpeech:!0})}):m.jsxs("div",{className:"p-6 max-w-4xl mx-auto pb-24",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4 text-white",children:"Colores"}),m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 mb-6",children:i.map((v,_)=>m.jsx(g,{c:v},_))}),m.jsxs("button",{onClick:()=>e("quiz"),className:"w-full flex items-center justify-center gap-3 py-3 rounded-xl border border-purple-500/30 bg-purple-500/10 text-purple-300 hover:bg-purple-500/20 transition-all font-medium text-sm",children:[m.jsx(qr,{size:16}),"Empezar Prueba"]})]})},wC={Sun:cC,Cloud:K4,CloudRain:Q4,Wind:vC,Thermometer:fC,Zap:jb,Snowflake:lC,Cloudy:$4,CloudFog:U4,CloudLightning:B4,CloudHail:P4,Tornado:pC,Newspaper:nC,CloudRainWind:F4,Sunrise:hC,CloudDrizzle:k4,HelpCircle:qr},NC=()=>{const[r,e]=J.useState("learn"),[i,a]=J.useState([]),[o,u]=J.useState([]),[f,g]=J.useState(!0);J.useEffect(()=>{(async()=>{try{const Y=(await kt(Vt(Lt,"weather"))).docs.map(ae=>ae.data()),W=["Qu tiempo hace?","Est lloviendo a cntaros"],$=Y.filter(ae=>!W.includes(ae.name)),ne=Y.filter(ae=>W.includes(ae.name));a($.sort(()=>.5-Math.random())),u(ne)}catch(H){console.error("Error fetching weather:",H)}finally{g(!1)}})()},[]);const v=w=>{const H=wC[w]||qr;return m.jsx(H,{size:32})},_=J.useMemo(()=>i.length===0?[]:i.map(w=>({type:"mc",q:`En ingls, "${w.name}" significa...`,a:w.desc,opts:[w.desc,...Ws(w,i,2,"desc")].sort(()=>.5-Math.random()),exp:`${w.name} = ${w.desc}`})),[i]),E=({item:w})=>{const[H,Y]=J.useState(!1);return m.jsx("div",{className:"relative h-28 cursor-pointer perspective-1000 group",onClick:()=>Y(!H),children:m.jsxs("div",{className:`w-full h-full relative preserve-3d flip-card-inner ${H?"rotate-y-180":""}`,children:[m.jsxs("div",{className:"absolute inset-0 bg-gray-800 rounded-2xl border border-gray-700 flex flex-col items-center justify-center backface-hidden",children:[m.jsx("div",{className:"text-yellow-400 mb-2",children:v(w.icon)}),m.jsx("span",{className:"font-bold text-sm mt-2 text-center px-1",children:w.name})]}),m.jsx("div",{className:"absolute inset-0 bg-orange-900/40 rounded-2xl border border-orange-500 flex flex-col items-center justify-center backface-hidden rotate-y-180",children:m.jsx("span",{className:"font-bold text-sm text-orange-200 text-center px-1",children:w.desc})})]})})},S=({item:w})=>{const H={"Qu tiempo hace?":"Esta es la forma ms comn de preguntar sobre el tiempo.","Est lloviendo a cntaros":"Una expresin idiomtica que significa que est lloviendo muy fuerte."},Y={"Key Question":"Pregunta Clave",Idiom:"Modismo"},W=H[w.name]||w.desc,$=Y[w.category]||w.category;return m.jsxs("div",{className:"bg-gray-800 border border-cyan-500/30 p-4 rounded-xl h-full flex flex-col",children:[m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"text-cyan-400 mt-1",children:v(w.icon)}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-white",children:w.name}),m.jsx("p",{className:"text-gray-300 text-sm mb-2",children:W})]})]}),m.jsx("div",{className:"mt-auto text-right",children:m.jsx("span",{className:"text-xs text-cyan-300 bg-cyan-900/50 px-2 py-0.5 rounded border border-cyan-800",children:$})})]})};return f?m.jsx("div",{className:"p-10 text-center text-gray-400",children:"Cargando clima..."}):r==="quiz"?m.jsx("div",{className:"p-6 max-w-md mx-auto pb-24",children:m.jsx(Sn,{pool:_,questionCount:10,onComplete:()=>e("learn")})}):m.jsxs("div",{className:"p-6 max-w-4xl mx-auto pb-24",children:[m.jsxs("button",{onClick:()=>e("quiz"),className:"w-full flex items-center justify-center gap-3 py-3 rounded-xl border border-green-500/30 bg-green-500/10 text-green-300 hover:bg-green-500/20 transition-all font-medium text-sm mb-6",children:[m.jsx(qr,{size:16}),"Tomar Prueba"]}),m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 mb-8",children:i.map((w,H)=>m.jsx(E,{item:w},H))}),m.jsxs("div",{className:"mt-8",children:[m.jsx("h3",{className:"font-bold text-lg text-cyan-400 mb-4 border-b border-gray-700 pb-2",children:"Vocabulario Adicional"}),m.jsx("div",{className:"grid sm:grid-cols-2 gap-4",children:o.map((w,H)=>m.jsx(S,{item:w},H))})]}),m.jsxs("div",{className:"mt-8 pt-4 space-y-6",children:[m.jsxs("div",{className:"bg-gray-800 border border-indigo-500/30 p-4 rounded-xl",children:[m.jsxs("h3",{className:"font-bold text-indigo-400 mb-3 text-lg flex items-center gap-2",children:[m.jsx(W4,{size:18})," El Clima vs. El Tiempo"]}),m.jsxs("div",{className:"space-y-3 text-sm",children:[m.jsxs("div",{className:"bg-gray-900/50 p-3 rounded-lg border-l-4 border-indigo-400",children:[m.jsx("h4",{className:"font-bold text-indigo-300 mb-1",children:"El Tiempo"}),m.jsxs("p",{className:"text-gray-300",children:["Se refiere a las condiciones atmosfricas actuales o de corto plazo. ",m.jsx("br",{}),"Ej: ",m.jsx("span",{className:"italic text-white",children:'\\"El tiempo hoy est soleado.\\"'})]})]}),m.jsxs("div",{className:"bg-gray-900/50 p-3 rounded-lg border-l-4 border-cyan-500",children:[m.jsx("h4",{className:"font-bold text-cyan-400 mb-1",children:"El Clima"}),m.jsxs("p",{className:"text-gray-300",children:["Describe los patrones meteorolgicos promedio de una regin a lo largo del tiempo. ",m.jsx("br",{}),"Ej: ",m.jsx("span",{className:"italic text-white",children:'\\"El clima en el caribe es tropical.\\"'})]})]}),m.jsxs("p",{className:"text-xs text-gray-500 mt-4 italic text-center",children:["Recuerda: ",m.jsx("span",{className:"font-bold text-white",children:"El Clima"})," es masculino."]})]})]}),m.jsxs("div",{className:"bg-gray-800 border border-green-500/30 p-4 rounded-xl",children:[m.jsxs("h3",{className:"font-bold text-green-400 mb-3 text-lg flex items-center gap-2",children:[m.jsx(D4,{size:18})," Reglas Gramaticales"]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-sm",children:[m.jsxs("div",{className:"bg-gray-900/50 p-3 rounded-lg",children:[m.jsx("h4",{className:"font-bold text-green-400 mb-1",children:"Hace..."}),m.jsxs("p",{className:"text-gray-300",children:["Para sensaciones y temperatura. ",m.jsx("br",{}),m.jsx("span",{className:"italic text-white",children:"Hace fro, Hace viento."})]})]}),m.jsxs("div",{className:"bg-gray-900/50 p-3 rounded-lg",children:[m.jsx("h4",{className:"font-bold text-green-400 mb-1",children:"Est..."}),m.jsxs("p",{className:"text-gray-300",children:["Para condiciones visuales y estados. ",m.jsx("br",{}),m.jsx("span",{className:"italic text-white",children:"Est nublado, Est lloviendo."})]})]}),m.jsxs("div",{className:"bg-gray-900/50 p-3 rounded-lg",children:[m.jsx("h4",{className:"font-bold text-green-400 mb-1",children:"Hay..."}),m.jsxs("p",{className:"text-gray-300",children:["Para la existencia de fenmenos. ",m.jsx("br",{}),m.jsx("span",{className:"italic text-white",children:"Hay niebla, Hay tormenta."})]})]})]})]})]})]})},CC=()=>{const[r,e]=J.useState("learn"),[i,a]=J.useState([]),[o,u]=J.useState([]),[f,g]=J.useState(!0);J.useEffect(()=>{(async()=>{try{const ae=(await kt(Vt(Lt,"days"))).docs.map(fe=>fe.data());ae.sort((fe,ve)=>fe.order-ve.order),a(ae);const le=(await kt(Vt(Lt,"months"))).docs.map(fe=>fe.data());le.sort((fe,ve)=>fe.order-ve.order),u(le)}catch(ne){console.error("Error fetching calendar:",ne)}finally{g(!1)}})()},[]);const v=$=>{window.speechSynthesis.cancel();const ne=new SpeechSynthesisUtterance($);ne.lang="es-MX",ne.rate=.9,window.speechSynthesis.speak(ne)},_=$=>{const ne=$.toLocaleDateString("es-ES",{weekday:"long"}),ae=$.toLocaleDateString("es-ES",{month:"long"}),ie=$.getDate(),le=`${ne}, ${ie} de ${ae}`;v(le)},E=()=>{const $=new Date().getFullYear(),ne=Math.floor(Math.random()*12),ae=new Date($,ne+1,0).getDate(),ie=Math.floor(Math.random()*ae)+1,le=new Date($,ne,ie);_(le)},S=()=>{const $=[...i].sort(()=>.5-Math.random()),ne=[...o].sort(()=>.5-Math.random());a($),u(ne)},w=J.useMemo(()=>{if(i.length===0||o.length===0)return[];const $=i.map(ae=>({type:"mc",q:`Qu da es "${ae.es}"?`,a:ae.en,opts:[ae.en,...Ws(ae,i)].sort(()=>.5-Math.random()),exp:`${ae.es} is ${ae.en}`})),ne=o.map(ae=>({type:"mc",q:`Qu mes es "${ae.es}"?`,a:ae.en,opts:[ae.en,...Ws(ae,o)].sort(()=>.5-Math.random()),exp:`${ae.es} is ${ae.en}`}));return[...$,...ne].sort(()=>.5-Math.random())},[i,o]),H=({front:$,back:ne,colorBorder:ae})=>{const[ie,le]=J.useState(!1);return m.jsx("div",{className:"relative h-14 cursor-pointer perspective-1000 group",onClick:()=>le(!ie),children:m.jsxs("div",{className:`w-full h-full relative preserve-3d flip-card-inner ${ie?"rotate-y-180":""}`,children:[m.jsx("div",{style:{backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden"},className:`absolute inset-0 bg-gray-800 p-3 rounded-lg border-l-4 ${ae} flex items-center justify-center backface-hidden shadow-lg`,children:m.jsx("span",{className:"text-white font-bold",children:$})}),m.jsx("div",{style:{backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden"},className:`absolute inset-0 bg-gray-700 p-3 rounded-lg border-l-4 ${ae} flex items-center justify-center backface-hidden rotate-y-180 shadow-lg`,children:m.jsx("span",{className:"text-gray-200",children:ne})})]})})},Y=J.useMemo(()=>new Date,[]),W=J.useMemo(()=>{const $={weekday:"long",year:"numeric",month:"long",day:"numeric"};return Y.toLocaleDateString("es-ES",$)},[Y]);return f?m.jsx("div",{className:"p-10 text-center text-gray-400",children:"Cargando calendario..."}):r==="quiz"?m.jsx("div",{className:"px-2 py-6 sm:px-6 max-w-4xl mx-auto pb-24",children:m.jsx(Sn,{pool:w,questionCount:10,onComplete:()=>e("learn")})}):m.jsxs("div",{className:"px-2 py-6 sm:px-6 max-w-4xl mx-auto pb-24 space-y-6",children:[m.jsxs("div",{className:"bg-gray-800 border border-green-500/30 p-3 rounded-xl text-center shadow-lg",children:[m.jsx("div",{className:"text-xs text-green-400 font-bold uppercase tracking-wider mb-1",children:"Fecha de hoy"}),m.jsxs("div",{className:"flex items-center justify-center gap-3",children:[m.jsx("div",{className:"text-xl font-bold text-white capitalize",children:W}),m.jsx("button",{onClick:()=>_(Y),className:"text-gray-400 hover:text-white transition-colors",children:m.jsx(nl,{size:20})})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("button",{onClick:E,className:"w-full flex items-center justify-center gap-3 py-3 rounded-xl border border-purple-500/30 bg-purple-500/10 text-purple-300 hover:bg-purple-500/20 transition-all font-medium text-sm",children:[m.jsx(jb,{size:16}),"Fecha al Azar"]}),m.jsxs("button",{onClick:()=>e("quiz"),className:"w-full flex items-center justify-center gap-3 py-3 rounded-xl border border-green-500/30 bg-green-500/10 text-green-300 hover:bg-green-500/20 transition-all font-medium text-sm",children:[m.jsx(qr,{size:16}),"Empezar Prueba"]}),m.jsxs("button",{onClick:S,className:"w-full flex items-center justify-center gap-3 py-3 rounded-xl border border-gray-500/30 bg-gray-500/10 text-gray-300 hover:bg-gray-500/20 transition-all font-medium text-sm",children:[m.jsx(rC,{size:16}),"Mezclar Tarjetas"]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-green-400 mb-3 uppercase tracking-wider",children:"Das de la Semana"}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:i.map(($,ne)=>m.jsx(H,{front:$.es,back:$.en,colorBorder:"border-green-500"},ne))})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-blue-400 mb-3 uppercase tracking-wider",children:"Meses del Ao"}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",children:o.map(($,ne)=>m.jsx(H,{front:$.es,back:$.en,colorBorder:"border-blue-500"},ne))})]})]})},RC=({lessonId:r})=>{switch(r){case"alphabet":return m.jsx(EC,{});case"vocales":return m.jsx(TC,{});case"numbers":return m.jsx(SC,{});case"colors":return m.jsx(AC,{});case"weather":return m.jsx(NC,{});case"calendar":return m.jsx(CC,{});default:return m.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center p-6 border border-gray-800 rounded-xl bg-gray-900/50",children:[m.jsx("p",{className:"text-gray-400 mb-2",children:"Leccin no encontrada"}),m.jsxs("code",{className:"bg-black px-2 py-1 rounded text-pink-400 text-xs font-mono",children:["ID: ",r]})]})}},IC=()=>{const[r,e]=J.useState("learn"),[i,a]=J.useState([]),[o,u]=J.useState([]),[f,g]=J.useState(!0);J.useEffect(()=>{(async()=>{try{const w=(await kt(Vt(Lt,"greetings"))).docs.map(W=>W.data());a(w.sort(()=>.5-Math.random()));const Y=(await kt(Vt(Lt,"feelings"))).docs.map(W=>W.data());u(Y.sort(()=>.5-Math.random()))}catch(S){console.error("Error fetching data:",S)}finally{g(!1)}})()},[]);const v=({item:E})=>{const[S,w]=J.useState(!1);return m.jsx("div",{className:"relative h-24 cursor-pointer perspective-1000 group",onClick:()=>w(!S),children:m.jsxs("div",{className:`w-full h-full relative preserve-3d flip-card-inner ${S?"rotate-y-180":""}`,children:[m.jsxs("div",{className:"absolute inset-0 bg-gray-800 rounded-xl border border-gray-700 flex flex-col items-center justify-center backface-hidden",children:[m.jsx("div",{className:"text-3xl mb-1",children:E.emoji}),m.jsx("span",{className:"font-bold text-sm text-center px-1",children:E.es})]}),m.jsx("div",{className:"absolute inset-0 bg-yellow-900/40 rounded-xl border border-yellow-500 flex flex-col items-center justify-center backface-hidden rotate-y-180",children:m.jsx("span",{className:"font-bold text-sm text-yellow-200 text-center px-1",children:E.en})})]})})},_=J.useMemo(()=>{if(o.length===0||i.length===0)return[];const E=[{type:"mc",q:"Por la maana decimos...",a:"Buenos das",opts:["Buenas noches","Hola","Buenos das"].sort(()=>.5-Math.random()),exp:"'Buenos das' se usa en la maana."}];return o.slice(0,6).forEach(S=>{const w=S.en.startsWith("I am")?`En espaol: "${S.en}" se dice...`:`Qu significa "${S.es}"?`;E.push({type:"mc",q:w,a:S.es,opts:[S.es,...Ws(S.es,o)].sort(()=>.5-Math.random()),exp:`${S.es} significa ${S.en}`})}),E.sort(()=>.5-Math.random())},[o,i]);return f?m.jsx("div",{className:"p-10 text-center text-gray-400",children:"Cargando emociones..."}):r==="quiz"?m.jsx("div",{className:"p-6 max-w-md mx-auto pb-24",children:m.jsx(Sn,{pool:_,questionCount:10,onComplete:()=>e("learn")})}):m.jsxs("div",{className:"p-6 max-w-md mx-auto pb-24 space-y-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-yellow-400 mb-3 uppercase tracking-wider",children:"Saludos"}),m.jsx("div",{className:"grid grid-cols-2 gap-3",children:i.map((E,S)=>m.jsx(v,{item:E},S))})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-yellow-400 mb-3 uppercase tracking-wider",children:"Sentimientos"}),m.jsx("div",{className:"grid grid-cols-2 gap-3",children:o.map((E,S)=>m.jsx(v,{item:E},S))})]}),m.jsx("button",{onClick:()=>e("quiz"),className:"w-full bg-yellow-600 hover:bg-yellow-500 text-white font-bold py-4 rounded-2xl shadow-lg mt-4",children:"Prueba"})]})},jC=()=>{const[r,e]=J.useState("learn"),[i,a]=J.useState("first"),o=[{q:"Cmo te llamas?",a:"Me llamo...",l:"Name"},{q:"Cmo te apellidas?",a:"Me apellido...",l:"Last Name"},{q:"De dnde eres?",a:"Soy de...",l:"Origin"},{q:"Cuntos aos tienes?",a:"Tengo ... aos.",l:"Age"},{q:"A qu te dedicas?",a:"Soy... / Trabajo...",l:"Job"},{q:"Qu idiomas hablas?",a:"Hablo...",l:"Language"},{q:"Dnde vives?",a:"Vivo en...",l:"Home"}],u=[{q:"Cmo se llama?",a:"Se llama...",l:"Name"},{q:"Cmo se apellida?",a:"Se apellida...",l:"Last Name"},{q:"De dnde es?",a:"Es de...",l:"Origin"},{q:"Cuntos aos tiene?",a:"Tiene ... aos.",l:"Age"},{q:"A qu se dedica?",a:"Es... / Trabaja...",l:"Job"},{q:"Qu idiomas habla?",a:"Habla...",l:"Language"},{q:"Dnde vive?",a:"Vive en...",l:"Home"}],f=J.useMemo(()=>[{type:"mc",q:"Pregunta: Cmo te llamas? Respuesta: ___",a:"Me llamo...",opts:["Me llamo...","Tengo...","Soy de..."].sort(()=>.5-Math.random()),exp:"Para responder al nombre usamos 'Me llamo'."},{type:"mc",q:"Pregunta: De dnde eres? Respuesta: ___",a:"Soy de...",opts:["Soy...","Me llamo...","Soy de..."].sort(()=>.5-Math.random()),exp:"Origen requiere 'Soy de'."},{type:"mc",q:"En tercera persona: l ___ alto.",a:"Es",opts:["Soy","Eres","Es"].sort(()=>.5-Math.random()),exp:"'Es' es la conjugacin para l/Ella."},{type:"mc",q:"Pregunta: Cuntos aos tienes? Respuesta: ___",a:"Tengo...",opts:["Soy...","Tengo...","Estoy..."].sort(()=>.5-Math.random()),exp:"En espaol, la edad se 'tiene' (Tener), no se 'es'."}],[]);return r==="quiz"?m.jsx("div",{className:"p-6 max-w-md mx-auto pb-24",children:m.jsx(Sn,{pool:f,questionCount:10,onComplete:()=>e("learn")})}):m.jsxs("div",{className:"p-6 max-w-4xl mx-auto pb-24 space-y-6",children:[m.jsxs("div",{className:"flex gap-2 p-1 bg-gray-800 rounded-xl max-w-sm mx-auto",children:[m.jsx("button",{onClick:()=>a("first"),className:`flex-1 py-2 rounded-lg font-bold text-sm transition-all ${i==="first"?"bg-pink-600 text-white":"text-gray-400 hover:text-white"}`,children:"T (Informal)"}),m.jsx("button",{onClick:()=>a("third"),className:`flex-1 py-2 rounded-lg font-bold text-sm transition-all ${i==="third"?"bg-pink-600 text-white":"text-gray-400 hover:text-white"}`,children:"l/Ella/Usted"})]}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:(i==="first"?o:u).map((g,v)=>m.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl border border-gray-700",children:[m.jsx("div",{className:"flex justify-between items-center mb-2",children:m.jsx("span",{className:"text-xs font-bold bg-gray-700 text-gray-300 px-2 py-1 rounded uppercase tracking-wide",children:g.l})}),m.jsx("p",{className:"text-pink-400 font-bold mb-1 text-lg",children:g.q}),m.jsx("div",{className:"bg-ray-900/50 p-2 rounded text-white border-l-2 border-pink-600",children:g.a})]},v))}),m.jsx("div",{className:"max-w-md mx-auto",children:m.jsx("button",{onClick:()=>e("quiz"),className:"w-full bg-pink-600 hover:bg-pink-500 text-white font-bold py-4 rounded-2xl shadow-lg mt-4",children:"Tomar Prueba"})})]})},DC=()=>{const r=[{topic:"Nombre",tu:"Cmo te llamas?",ud:"Cmo se llama?",ans:"Me llamo... / Soy..."},{topic:"Apellido",tu:"Cmo te apellidas?",ud:"Cmo se apellida?",ans:"Me apellido..."},{topic:"Profesin",tu:"A qu te dedicas?",ud:"A qu se dedica?",ans:"Soy..."},{topic:"Lugar de Trabajo",tu:"Dnde trabajas?",ud:"Dnde trabaja?",ans:"Trabajo en..."},{topic:"Domicilio",tu:"Dnde vives?",ud:"Dnde vive?",ans:"Vivo en..."},{topic:"Lenguas",tu:"Qu idioma hablas?",ud:"Qu idioma habla?",ans:"Hablo..."},{topic:"Nacionalidad",tu:"De dnde eres?",ud:"De dnde es?",ans:"Soy de... / Soy..."},{topic:"Edad",tu:"Cuntos aos tienes?",ud:"Cuntos aos tiene?",ans:"Tengo ___ aos"},{topic:"Correo",tu:"Tienes correo electrnico?",ud:"Tiene correo electrnico?",ans:"S, es el... / No"},{topic:"Telfono",tu:"Tienes nmero de telfono?",ud:"Tiene nmero de telfono?",ans:"S, es el... / No"}],[e,i]=J.useState({}),a=f=>{i(g=>({...g,[f]:!g[f]}))},o=()=>{const f=r.every((v,_)=>e[_]),g={};r.forEach((v,_)=>{g[_]=!f}),i(g)},u=({item:f,flipped:g,onClick:v})=>m.jsx("div",{className:"relative h-32 cursor-pointer perspective-1000 group",onClick:v,children:m.jsxs("div",{className:`w-full h-full relative preserve-3d flip-card-inner ${g?"rotate-y-180":""}`,children:[m.jsx("div",{style:{backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden"},className:"absolute inset-0 bg-gray-800 rounded-2xl flex items-center justify-center shadow-lg border border-gray-700",children:m.jsx("span",{className:"font-bold text-lg text-cyan-400",children:f.topic})}),m.jsxs("div",{style:{backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden"},className:"absolute inset-0 bg-gray-800 rounded-2xl rotate-y-180 shadow-lg border border-cyan-500 p-2 flex flex-col justify-between",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsxs("div",{className:"flex gap-2 text-sm",children:[m.jsx("span",{className:"text-gray-500 w-5 font-bold text-right shrink-0",children:"T:"}),m.jsx("span",{className:"text-white font-medium",children:f.tu})]}),m.jsxs("div",{className:"flex gap-2 text-sm",children:[m.jsx("span",{className:"text-indigo-400 w-5 font-bold text-right shrink-0",children:"Ud:"}),m.jsx("span",{className:"text-indigo-200 font-medium",children:f.ud})]})]}),m.jsxs("div",{className:"flex justify-between items-end pt-1",children:[m.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:f.topic}),m.jsx("span",{className:"text-xs text-cyan-300 bg-cyan-900/50 px-2 py-0.5 rounded border border-cyan-800 text-right",children:f.ans})]})]})]})});return m.jsx("div",{className:"px-1 py-6 sm:px-6 max-w-5xl mx-auto pb-24 space-y-6",children:m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"lg:col-span-2",children:[m.jsxs("div",{className:"flex justify-between items-center border-b border-gray-700 pb-2 mb-4",children:[m.jsx("h3",{className:"font-bold text-cyan-400 text-lg",children:"Entrevista"}),m.jsx("button",{onClick:o,className:"text-sm bg-gray-700 hover:bg-gray-600 px-3 py-1 rounded-md text-gray-300 font-bold transition-colors",children:"Girar todas"})]}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:r.map((f,g)=>m.jsx(u,{item:f,flipped:!!e[g],onClick:()=>a(g)},g))})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-gray-800 border border-indigo-500/30 p-2 rounded-xl",children:[m.jsxs("h3",{className:"font-bold text-indigo-400 mb-3 text-lg flex items-center gap-2",children:[m.jsx(f_,{size:18})," T o Usted?"]}),m.jsxs("div",{className:"space-y-3 text-sm",children:[m.jsxs("div",{className:"bg-gray-900/50 p-3 rounded-lg border-l-4 border-cyan-500",children:[m.jsx("h4",{className:"font-bold text-cyan-400 mb-1",children:"T (Informal)"}),m.jsx("p",{className:"text-gray-300",children:"salo con amigos, familia, gente de tu edad y nios."})]}),m.jsxs("div",{className:"bg-gray-900/50 p-3 rounded-lg border-l-4 border-indigo-400",children:[m.jsx("h4",{className:"font-bold text-indigo-300 mb-1",children:"Usted (Formal)"}),m.jsx("p",{className:"text-gray-300",children:"salo con extraos, personas mayores y figuras de autoridad para mostrar respeto."})]}),m.jsxs("div",{className:"bg-gray-900/50 p-3 rounded-lg border-l-4 border-green-500",children:[m.jsx("h4",{className:"font-bold text-green-400 mb-1",children:"Cambiando a T"}),m.jsxs("p",{className:"text-gray-300",children:["Si alguien dice ",m.jsx("span",{className:"font-mono text-white bg-gray-700 px-1.5 py-0.5 rounded",children:'"puedes tutearme"'}),", puedes cambiar de 'Usted' a 'T'."]})]})]}),m.jsxs("p",{className:"text-xs text-gray-500 mt-4 italic text-center",children:["En caso de duda, usa ",m.jsx("span",{className:"font-bold text-white",children:"Usted"}),"!"]})]}),m.jsxs("div",{className:"bg-gray-800 border border-orange-500/30 p-2 rounded-xl",children:[m.jsxs("h3",{className:"font-bold text-orange-400 mb-3 text-lg flex items-center gap-2",children:[m.jsx(c_,{size:18})," Expresando Pasin"]}),m.jsxs("div",{className:"p-3 bg-gray-900 rounded-lg text-sm text-gray-300",children:[m.jsxs("p",{className:"mb-2",children:["En Mxico, al responder a ",m.jsx("span",{className:"font-bold text-white",children:'"A qu te dedicas?"'}),", es comn usar ",m.jsx("span",{className:"font-bold text-white",children:'"Me dedico a..."'})," para hablar de tu pasin o campo, no solo tu trabajo."]}),m.jsx("p",{children:"Por ejemplo:"}),m.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1 text-orange-300",children:[m.jsx("li",{children:"Me dedico a la educacin."}),m.jsx("li",{children:"Me dedico a la tecnologa."}),m.jsx("li",{children:"Me dedico al campo."})]})]})]}),m.jsxs("div",{className:"bg-gray-800 border border-green-500/30 p-2 rounded-xl",children:[m.jsxs("h3",{className:"font-bold text-green-400 mb-3 text-lg flex items-center gap-2",children:[m.jsx(h_,{size:18})," Detalles de Vivir"]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"p-3 bg-gray-900 rounded-lg",children:[m.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Cerca / Lejos"}),m.jsxs("p",{className:"text-white",children:["Vivo ",m.jsx("span",{className:"text-green-400 font-bold",children:"cerca del"})," parque."]}),m.jsxs("p",{className:"text-white",children:["Vivo ",m.jsx("span",{className:"text-red-400 font-bold",children:"lejos de"})," la oficina."]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[m.jsxs("div",{className:"bg-gray-900 p-2 rounded",children:[m.jsx("span",{className:"block text-gray-500 text-xs",children:"Calle"}),m.jsx("span",{className:"text-white",children:"La calle..."})]}),m.jsxs("div",{className:"bg-gray-900 p-2 rounded",children:[m.jsx("span",{className:"block text-gray-500 text-xs",children:"Barrio"}),m.jsx("span",{className:"text-white",children:"El barrio..."})]})]})]})]}),m.jsxs("div",{className:"bg-gray-800 border border-purple-500/30 p-2 rounded-xl",children:[m.jsx("h3",{className:"font-bold text-purple-400 mb-3 text-lg",children:"Correo Electrnico"}),m.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center mb-3",children:[m.jsxs("div",{className:"bg-gray-900 rounded p-2",children:[m.jsx("div",{className:"text-xl font-mono text-purple-400 mb-1",children:"@"}),m.jsx("span",{className:"text-[10px] text-gray-400 block leading-tight",children:"arroba"})]}),m.jsxs("div",{className:"bg-gray-900 rounded p-2",children:[m.jsx("div",{className:"text-xl font-mono text-purple-400 mb-1",children:"."}),m.jsx("span",{className:"text-[10px] text-gray-400 block leading-tight",children:"punto"})]}),m.jsxs("div",{className:"bg-gray-900 rounded p-2",children:[m.jsx("div",{className:"text-xl font-mono text-purple-400 mb-1",children:"_"}),m.jsx("span",{className:"text-[10px] text-gray-400 block leading-tight",children:"guion bajo"})]}),m.jsxs("div",{className:"bg-gray-900 rounded p-2",children:[m.jsx("div",{className:"text-xl font-mono text-purple-400 mb-1",children:"-"}),m.jsx("span",{className:"text-[10px] text-gray-400 block leading-tight",children:"guion"})]})]}),m.jsxs("div",{className:"bg-gray-900 p-3 rounded text-center font-mono text-sm text-gray-300 break-all",children:["nombre",m.jsx("span",{className:"text-purple-400",children:"-"}),"apellido",m.jsx("span",{className:"text-purple-400",children:"@"}),"gmail",m.jsx("span",{className:"text-purple-400",children:"."}),"com"]})]})]})]})})},MC=()=>{const[r,e]=J.useState([]),[i,a]=J.useState(!0),[o,u]=J.useState(0),[f,g]=J.useState({}),[v,_]=J.useState(!1);if(J.useEffect(()=>{(async()=>{try{const $=(await kt(Vt(Lt,"characters"))).docs.map(ne=>ne.data());e($.sort(()=>.5-Math.random()))}catch(W){console.error("Error fetching characters:",W)}finally{a(!1)}})()},[]),i||r.length===0)return m.jsx("div",{className:"p-10 text-center text-gray-400",children:"Cargando personajes..."});const E=()=>{g({}),o<r.length-1?u(o+1):_(!0)};if(v)return m.jsxs("div",{className:"text-center p-8 bg-gray-800 rounded-xl animate-fade-in",children:[m.jsx("h2",{className:"text-2xl font-bold text-green-400 mb-4",children:"Leccin Completada!"}),m.jsx("p",{className:"text-gray-300",children:"Has repasado todos los personajes."})]});const S=r[o],w=Y=>g(W=>({...W,[Y]:!W[Y]})),H=[{id:"name",q:"Cmo se llama?",a:`Se llama ${S.firstName}.`,icon:m.jsx(Df,{size:18})},{id:"lastname",q:"Cmo se apellida?",a:`Se apellida ${S.lastName}.`,icon:m.jsx(Df,{size:18})},{id:"age",q:"Cuntos aos tiene?",a:`Tiene ${S.age} aos.`,icon:m.jsx(NE,{size:18})},{id:"origin",q:"De dnde es?",a:`Es de ${S.origin}.`,icon:m.jsx(h_,{size:18})},{id:"nat",q:"Cul es su nacionalidad?",a:`Es ${S.nationality}.`,icon:m.jsx(u_,{size:18})},{id:"lang",q:"Qu idioma habla?",a:`Habla ${S.language}.`,icon:m.jsx(d_,{size:18})}];return m.jsxs("div",{className:"flex flex-col h-full max-w-md mx-auto p-4 pt-0",children:[m.jsx("div",{className:"relative w-full aspect-video bg-gradient-to-br from-indigo-900 to-gray-900 rounded-2xl shadow-2xl border border-gray-700 mb-6 flex-shrink-0 flex items-center justify-center overflow-hidden",children:m.jsxs("div",{className:"text-center animate-fade-in",children:[m.jsx("div",{className:"text-6xl mb-2",children:S.flag}),m.jsxs("h2",{className:"text-3xl font-black text-white tracking-tight",children:[S.firstName," ",S.lastName]}),m.jsx("p",{className:"text-indigo-300 font-medium mt-1 uppercase tracking-widest text-sm",children:S.job})]},S.id||o)}),m.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 pb-24 scrollbar-hide",children:H.map(Y=>m.jsxs("div",{className:"bg-gray-800 rounded-xl overflow-hidden border border-gray-700",children:[m.jsxs("button",{onClick:()=>w(Y.id),className:"w-full flex items-center justify-between p-4 text-left active:bg-gray-700 transition-colors",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"text-pink-400",children:Y.icon}),m.jsx("span",{className:"font-medium text-gray-200",children:Y.q})]}),m.jsx(CE,{size:16,className:`text-gray-500 transition-transform ${f[Y.id]?"rotate-180":""}`})]}),f[Y.id]&&m.jsx("div",{className:"bg-gray-900/50 p-4 pt-0 border-t border-gray-700/50 text-indigo-300 font-semibold animate-in slide-in-from-top-2 duration-200",children:m.jsx("div",{className:"pt-3",children:Y.a})})]},Y.id))}),m.jsx("div",{className:"fixed bottom-6 left-0 right-0 px-6 max-w-md mx-auto",children:m.jsxs("button",{onClick:E,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-4 rounded-2xl shadow-lg shadow-indigo-900/50 flex items-center justify-center gap-2 active:scale-95 transition-all",children:[o===r.length-1?"Terminar Leccin":"Siguiente Personaje"," ",m.jsx(cm,{size:20})]})})]})},OC=()=>{const[r,e]=J.useState("learn"),[i,a]=J.useState([]),[o,u]=J.useState([]),[f,g]=J.useState(!0);J.useEffect(()=>{(async()=>{try{const H=(await kt(Vt(Lt,"jobs"))).docs.map($=>$.data());a(H);const W=(await kt(Vt(Lt,"places"))).docs.map($=>$.data());u(W)}catch(w){console.error("Error fetching data:",w)}finally{g(!1)}})()},[]);const v=({job:S})=>{const[w,H]=J.useState(!1);return m.jsx("div",{className:"relative h-20 cursor-pointer perspective-1000 group",onClick:()=>H(!w),children:m.jsxs("div",{className:`w-full h-full relative preserve-3d flip-card-inner ${w?"rotate-y-180":""}`,children:[m.jsxs("div",{className:"absolute inset-0 bg-gray-800 p-4 rounded-xl border border-gray-700 flex items-center justify-between backface-hidden",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"text-3xl",children:S.emoji}),m.jsxs("div",{className:"font-bold text-white text-base capitalize",children:[S.masc," ",m.jsxs("span",{className:"text-gray-500 text-sm font-normal",children:["/ ",S.fem]})]})]}),m.jsx(cm,{size:16,className:"text-gray-600"})]}),m.jsx("div",{className:"absolute inset-0 bg-teal-900/40 p-4 rounded-xl border border-teal-500 flex items-center justify-center backface-hidden rotate-y-180",children:m.jsx("span",{className:"font-bold text-teal-200 text-lg",children:S.eng})})]})})},_=({place:S})=>{const[w,H]=J.useState(!1);return m.jsx("div",{className:"relative h-16 cursor-pointer perspective-1000 group",onClick:()=>H(!w),children:m.jsxs("div",{className:`w-full h-full relative preserve-3d flip-card-inner ${w?"rotate-y-180":""}`,children:[m.jsx("div",{className:"absolute inset-0 bg-gray-800 p-3 rounded-lg border border-gray-700 text-sm font-medium text-center flex items-center justify-center backface-hidden",children:S.es}),m.jsx("div",{className:"absolute inset-0 bg-teal-900/40 p-3 rounded-lg border border-teal-500 text-sm font-medium text-center flex items-center justify-center backface-hidden rotate-y-180 text-teal-200",children:S.en})]})})},E=J.useMemo(()=>{if(i.length===0)return[];const S=[{type:"mc",q:"Alguien que apaga fuegos es un...",a:"Bombero",opts:["Bombero","Dentista","Doctor"].sort(()=>.5-Math.random()),exp:"Apagar fuegos = Bombero."}];return i.slice(0,5).forEach(w=>{S.push({type:"mc",q:`Trabaja como ${w.eng}. Es...`,a:w.masc,opts:[w.masc,...Ws(w,i,2,"masc")].sort(()=>.5-Math.random()),exp:`${w.masc} es la palabra para ${w.eng}`})}),S},[i]);return f?m.jsx("div",{className:"p-10 text-center text-gray-400",children:"Cargando datos..."}):r==="quiz"?m.jsx("div",{className:"p-6 max-w-md mx-auto pb-24",children:m.jsx(Sn,{pool:E,questionCount:10,onComplete:()=>e("learn")})}):m.jsx("div",{className:"flex flex-col h-full max-w-md mx-auto p-4 pt-0 pb-20 overflow-y-auto scrollbar-hide",children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-teal-900/20 border border-teal-500/30 p-4 rounded-2xl",children:[m.jsx("h3",{className:"font-bold text-teal-400 text-lg mb-2",children:"Estructura"}),m.jsxs("p",{className:"text-sm text-gray-300",children:["Yo soy ",m.jsx("b",{children:"un/una"})," [Profesin]."]}),m.jsxs("p",{className:"text-sm text-gray-300",children:["Yo trabajo en ",m.jsx("b",{children:"[Lugar]"}),"."]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("h3",{className:"font-bold text-white ml-1",children:"Profesiones"}),i.map((S,w)=>m.jsx(v,{job:S},w))]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("h3",{className:"font-bold text-white ml-1",children:"Lugares de Trabajo"}),m.jsx("div",{className:"grid grid-cols-2 gap-3",children:o.map((S,w)=>m.jsx(_,{place:S},w))})]}),m.jsx("button",{onClick:()=>e("quiz"),className:"w-full bg-teal-600 hover:bg-teal-500 text-white font-bold py-4 rounded-2xl shadow-lg",children:"Prueba"})]})})},VC=()=>{const[r,e]=J.useState("list"),[i,a]=J.useState([]),[o,u]=J.useState(!0);J.useEffect(()=>{(async()=>{try{const _=(await kt(Vt(Lt,"countries"))).docs.map(E=>E.data());_.sort((E,S)=>E.country.localeCompare(S.country)),a(_)}catch(v){console.error("Error fetching countries:",v)}finally{u(!1)}})()},[]);const f=J.useMemo(()=>i.length===0?[]:i.map(g=>({type:"mc",q:`Si alguien es de ${g.country}, es...`,a:g.natM,opts:[g.natM,...Ws(g,i,2,"natM")].sort(()=>.5-Math.random()),exp:`${g.natM} es la nacionalidad de ${g.country}`})).sort(()=>.5-Math.random()),[i]);return o?m.jsx("div",{className:"p-10 text-center text-gray-400",children:"Cargando pases..."}):r==="quiz"?m.jsx("div",{className:"p-6 max-w-md mx-auto pb-24",children:m.jsx(Sn,{pool:f,questionCount:10,onComplete:()=>e("list")})}):m.jsxs("div",{className:"flex flex-col h-full max-w-md mx-auto p-4 pt-8 pb-20 overflow-y-auto scrollbar-hide",children:[m.jsxs("div",{className:"flex gap-2 mb-6 p-1 bg-gray-800 rounded-xl",children:[m.jsx("button",{onClick:()=>e("list"),className:`flex-1 py-2 rounded-lg font-bold text-sm ${r==="list"?"bg-rose-600":""}`,children:"Lista"}),m.jsx("button",{onClick:()=>e("plural"),className:`flex-1 py-2 rounded-lg font-bold text-sm ${r==="plural"?"bg-rose-600":""}`,children:"Plural"}),m.jsx("button",{onClick:()=>e("quiz"),className:`flex-1 py-2 rounded-lg font-bold text-sm ${r==="quiz"?"bg-rose-600":""}`,children:"Prueba"})]}),r==="list"?m.jsx("div",{className:"space-y-3",children:i.map((g,v)=>m.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl border border-gray-700",children:[m.jsx("div",{className:"font-black text-lg text-white mb-2",children:g.country}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[m.jsxs("div",{children:[m.jsx("span",{className:"block text-gray-500 text-xs",children:"Masculino"}),m.jsx("span",{className:"text-rose-300",children:g.natM})]}),m.jsxs("div",{children:[m.jsx("span",{className:"block text-gray-500 text-xs",children:"Femenino"}),m.jsx("span",{className:"text-rose-300",children:g.natF})]})]})]},v))}):m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"bg-rose-900/20 border border-rose-500/30 p-4 rounded-2xl mb-4",children:[m.jsx("h3",{className:"font-bold text-rose-400 mb-2",children:"Reglas de Plural"}),m.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300",children:[m.jsxs("li",{children:["Vocal: +",m.jsx("b",{children:"s"})]}),m.jsxs("li",{children:["Consonante: +",m.jsx("b",{children:"es"})]})]})]}),i.map((g,v)=>m.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl border border-gray-700 space-y-2",children:[m.jsx("div",{className:"font-bold text-white border-b border-gray-700 pb-2 mb-2",children:g.country}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-gray-400",children:"Ellos son..."}),m.jsxs("span",{className:"text-rose-400 font-bold",children:[g.natM,"s"]})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-gray-400",children:"Ellas son..."}),m.jsxs("span",{className:"text-rose-400 font-bold",children:[g.natF,"s"]})]})]},v))]})]})},kC=({lessonId:r})=>{switch(r){case"feelings":return m.jsx(IC,{});case"intro":return m.jsx(jC,{});case"interview":return m.jsx(DC,{});case"characters":return m.jsx(MC,{});case"jobs":return m.jsx(OC,{});case"nationalities":return m.jsx(VC,{});default:return m.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center p-6 border border-gray-800 rounded-xl bg-gray-900/50",children:[m.jsx("p",{className:"text-gray-400 mb-2",children:"Leccin situacional no encontrada"}),m.jsxs("code",{className:"bg-black px-2 py-1 rounded text-pink-400 text-xs font-mono",children:["ID: ",r]})]})}},LC=()=>{const[r,e]=J.useState("learn"),i=J.useMemo(()=>[{type:"mc",q:"Este es TU libro. (Informal)",a:"Tu libro",opts:["Tu libro","T libro","Te libro"].sort(()=>.5-Math.random()),exp:"'Tu' sin tilde es posesivo (Your)."},{type:"mc",q:"Cmo TE llamas? (Reflexivo)",a:"Te llamas",opts:["Te llamas","Tu llamas","Se llama"].sort(()=>.5-Math.random()),exp:"'Te' es el pronombre reflexivo para T."},{type:"mc",q:"l SE llama Juan.",a:"Se llama Juan",opts:["Su llama Juan","Se llama Juan","l llama Juan"].sort(()=>.5-Math.random()),exp:"'Se' es reflexivo para l/Ella."},{type:"mc",q:"Esta es SU casa. (De l)",a:"Su casa",opts:["Su casa","Se casa","l casa"].sort(()=>.5-Math.random()),exp:"'Su' es el posesivo para l/Ella."},{type:"mc",q:"NUESTRA casa.",a:"Nuestra casa",opts:["Nuestra casa","Nos casa","Nosotros casa"].sort(()=>.5-Math.random()),exp:"'Nuestra' es el posesivo femenino."}],[]);return r==="quiz"?m.jsx("div",{className:"p-6 max-w-md mx-auto pb-24",children:m.jsx(Sn,{pool:i,questionCount:10,onComplete:()=>e("learn")})}):m.jsxs("div",{className:"p-6 max-w-md mx-auto pb-24 space-y-6",children:[m.jsxs("div",{className:"bg-indigo-900/30 border border-indigo-500/30 p-4 rounded-2xl",children:[m.jsx("h3",{className:"font-bold text-indigo-300 mb-2 text-lg",children:"Gua Rpida"}),m.jsx("p",{className:"mb-4 text-sm text-gray-300",children:"Diferencias clave entre pronombres similares."}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"bg-gray-800 p-3 rounded-xl border border-gray-700",children:[m.jsx("h4",{className:"font-bold text-white border-b border-gray-600 pb-1 mb-2",children:"1. Personas (Sujeto)"}),m.jsxs("div",{className:"flex flex-col gap-1 text-xs text-center",children:[m.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[m.jsx("div",{className:"bg-gray-700 p-1 rounded",children:"Yo"}),m.jsx("div",{className:"bg-gray-700 p-1 rounded",children:"T"}),m.jsx("div",{className:"bg-gray-700 p-1 rounded",children:"l/Ella"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[m.jsx("div",{className:"bg-gray-700 p-1 rounded text-green-300 font-bold",children:"Nosotros"}),m.jsx("div",{className:"bg-gray-700 p-1 rounded",children:"Ellos"})]})]})]}),m.jsxs("div",{className:"bg-gray-800 p-3 rounded-xl border border-gray-700",children:[m.jsx("h4",{className:"font-bold text-pink-400 border-b border-gray-600 pb-1 mb-2",children:"2. Reflexivos (Accin a uno mismo)"}),m.jsxs("div",{className:"flex flex-col gap-1 text-xs text-center",children:[m.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[m.jsxs("div",{className:"bg-gray-900 p-1 rounded border border-pink-900",children:["Me",m.jsx("br",{}),m.jsx("span",{className:"text-[10px] text-gray-500",children:"Myself"})]}),m.jsxs("div",{className:"bg-gray-900 p-1 rounded border border-pink-900",children:["Te",m.jsx("br",{}),m.jsx("span",{className:"text-[10px] text-gray-500",children:"Yourself"})]}),m.jsxs("div",{className:"bg-gray-900 p-1 rounded border border-pink-900",children:["Se",m.jsx("br",{}),m.jsx("span",{className:"text-[10px] text-gray-500",children:"Himself"})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[m.jsxs("div",{className:"bg-gray-900 p-1 rounded border border-green-500/50 text-green-300 font-bold",children:["Nos",m.jsx("br",{}),m.jsx("span",{className:"text-[10px] text-gray-500",children:"Ourselves"})]}),m.jsxs("div",{className:"bg-gray-900 p-1 rounded border border-pink-900",children:["Se",m.jsx("br",{}),m.jsx("span",{className:"text-[10px] text-gray-500",children:"Themselves"})]})]})]}),m.jsx("div",{className:"mt-2 text-xs italic text-center text-gray-400",children:'Ej: "Nos llamamos" (We call ourselves)'})]}),m.jsxs("div",{className:"bg-gray-800 p-3 rounded-xl border border-gray-700",children:[m.jsx("h4",{className:"font-bold text-yellow-400 border-b border-gray-600 pb-1 mb-2",children:"3. Posesivos (Propiedad)"}),m.jsxs("div",{className:"flex flex-col gap-1 text-xs text-center",children:[m.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[m.jsxs("div",{className:"bg-gray-900 p-1 rounded border border-yellow-900",children:["Mi",m.jsx("br",{}),m.jsx("span",{className:"text-[10px] text-gray-500",children:"My"})]}),m.jsxs("div",{className:"bg-gray-900 p-1 rounded border border-yellow-900",children:["Tu",m.jsx("br",{}),m.jsx("span",{className:"text-[10px] text-gray-500",children:"Your"})]}),m.jsxs("div",{className:"bg-gray-900 p-1 rounded border border-yellow-900",children:["Su",m.jsx("br",{}),m.jsx("span",{className:"text-[10px] text-gray-500",children:"His/Her"})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[m.jsxs("div",{className:"bg-gray-900 p-1 rounded border border-green-500/50 text-green-300 font-bold",children:["Nuestro",m.jsx("br",{}),m.jsx("span",{className:"text-[10px] text-gray-500",children:"Our"})]}),m.jsxs("div",{className:"bg-gray-900 p-1 rounded border border-yellow-900",children:["Su",m.jsx("br",{}),m.jsx("span",{className:"text-[10px] text-gray-500",children:"Their"})]})]})]}),m.jsx("div",{className:"mt-2 text-xs italic text-center text-gray-400",children:'Ej: "Nuestro gato" (Our cat)'})]})]})]}),m.jsx("button",{onClick:()=>e("quiz"),className:"w-full bg-indigo-600 text-white font-bold py-4 rounded-2xl shadow-lg",children:"Prueba"})]})},UC=()=>{const[r,e]=J.useState("list"),[i,a]=J.useState(null),[o,u]=J.useState([]),[f,g]=J.useState(!0);J.useEffect(()=>{(async()=>{try{const S=(await kt(Vt(Lt,"conjugations"))).docs.map(w=>w.data());S.sort((w,H)=>w.v.localeCompare(H.v)),u(S)}catch(E){console.error("Error fetching conjugations:",E)}finally{g(!1)}})()},[]);const v=J.useMemo(()=>{if(o.length===0)return[];const _=[{type:"mc",q:"Yo ___ (Ser)",a:"Soy",opts:["Soy","Eres","Es"].sort(()=>.5-Math.random()),exp:"Yo soy."},{type:"mc",q:"T ___ (Tener)",a:"Tienes",opts:["Tengo","Tienes","Tiene"].sort(()=>.5-Math.random()),exp:"T tienes."}];return o.slice(0,5).forEach(E=>{E.c&&E.c.length>=3&&_.push({type:"mc",q:`Ella ___ (${E.v})`,a:E.c[2],opts:[E.c[0],E.c[1],E.c[2]].sort(()=>.5-Math.random()),exp:`Ella ${E.c[2]}.`})}),_.sort(()=>.5-Math.random())},[o]);return f?m.jsx("div",{className:"p-10 text-center text-gray-400",children:"Cargando verbos..."}):r==="quiz"?m.jsx("div",{className:"p-6 max-w-md mx-auto pb-24",children:m.jsx(Sn,{pool:v,questionCount:10,onComplete:()=>e("list")})}):i?m.jsxs("div",{className:"p-6 max-w-md mx-auto pb-24 space-y-4",children:[m.jsxs("button",{onClick:()=>a(null),className:"flex items-center gap-2 text-cyan-400 mb-2",children:[m.jsx(om,{size:20})," Volver"]}),m.jsxs("h2",{className:"text-2xl font-bold text-white",children:[i.v," ",m.jsxs("span",{className:"text-gray-500 text-lg",children:["(",i.t,")"]})]}),m.jsx("div",{className:"bg-gray-800 rounded-xl overflow-hidden border border-gray-700",children:m.jsx("div",{className:"divide-y divide-gray-700",children:["Yo","T","l/Ella","Nosotros","Ellos"].map((_,E)=>m.jsxs("div",{className:"grid grid-cols-2 p-3 text-sm",children:[m.jsx("span",{className:"text-cyan-200",children:_}),m.jsx("span",{className:"font-bold",children:i.c&&i.c[E]})]},E))})})]}):m.jsxs("div",{className:"p-6 max-w-md mx-auto pb-24 space-y-4",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Verbos"}),m.jsx("div",{className:"grid grid-cols-1 gap-3",children:o.map((_,E)=>m.jsxs("button",{onClick:()=>a(_),className:"bg-gray-800 p-4 rounded-xl border border-gray-700 flex justify-between items-center text-left hover:bg-gray-700",children:[m.jsxs("div",{children:[m.jsx("span",{className:"block font-bold text-lg text-white",children:_.v}),m.jsx("span",{className:"text-xs text-gray-400",children:_.t})]}),m.jsx(cm,{size:20,className:"text-gray-600"})]},E))}),m.jsx("button",{onClick:()=>e("quiz"),className:"w-full bg-cyan-600 text-white font-bold py-4 rounded-2xl shadow-lg mt-4",children:"Prueba"})]})},zC=()=>{const[r,e]=J.useState("learn"),i=J.useMemo(()=>[{type:"mc",q:"Para hablar de la hora, usamos...",a:"Ser",opts:["Ser","Estar","Tener"].sort(()=>.5-Math.random()),exp:"La hora es permanente/esencia (Son las 2)."},{type:"mc",q:"Para hablar de ubicacin, usamos...",a:"Estar",opts:["Ser","Estar","Tener"].sort(()=>.5-Math.random()),exp:"Ubicacin = Estar (No matter how permanent)."},{type:"mc",q:"Para decir la edad, usamos...",a:"Tener",opts:["Ser","Estar","Tener"].sort(()=>.5-Math.random()),exp:"En espaol, 'tienes' aos."},{type:"mc",q:"Yo ___ feliz hoy (emocin).",a:"Estoy",opts:["Soy","Estoy","Tengo"].sort(()=>.5-Math.random()),exp:"Emocin temporal = Estar."},{type:"mc",q:"Nosotros ___ altos (descripcin).",a:"Somos",opts:["Somos","Estamos","Tenemos"].sort(()=>.5-Math.random()),exp:"Descripcin fsica = Ser."}],[]);return r==="quiz"?m.jsx("div",{className:"p-6 max-w-md mx-auto pb-24",children:m.jsx(Sn,{pool:i,questionCount:5,onComplete:()=>e("learn")})}):m.jsxs("div",{className:"p-6 max-w-md mx-auto pb-24 space-y-6",children:[m.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl border-l-4 border-blue-500",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsx("h3",{className:"font-bold text-blue-400 text-xl",children:"SER"}),m.jsx("span",{className:"text-xs bg-blue-900 text-blue-200 px-2 py-1 rounded",children:"Permanente"})]}),m.jsx("p",{className:"text-sm text-gray-300 mb-2 italic",children:'"To be" (Esencia)'}),m.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[m.jsxs("div",{className:"bg-gray-900 p-2 rounded border border-gray-700",children:[m.jsx("span",{className:"text-blue-300 font-bold",children:"D"}),"escription"]}),m.jsxs("div",{className:"bg-gray-900 p-2 rounded border border-gray-700",children:[m.jsx("span",{className:"text-blue-300 font-bold",children:"O"}),"ccupation"]}),m.jsxs("div",{className:"bg-gray-900 p-2 rounded border border-gray-700",children:[m.jsx("span",{className:"text-blue-300 font-bold",children:"C"}),"haracteristic"]}),m.jsxs("div",{className:"bg-gray-900 p-2 rounded border border-gray-700",children:[m.jsx("span",{className:"text-blue-300 font-bold",children:"T"}),"ime/Date"]}),m.jsxs("div",{className:"bg-gray-900 p-2 rounded border border-gray-700",children:[m.jsx("span",{className:"text-blue-300 font-bold",children:"O"}),"rigin"]}),m.jsxs("div",{className:"bg-gray-900 p-2 rounded border border-gray-700",children:[m.jsx("span",{className:"text-blue-300 font-bold",children:"R"}),"elationship"]})]}),m.jsx("p",{className:"mt-3 text-xs text-center text-gray-400",children:'Ej: "Soy alto", "Son las dos".'})]}),m.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl border-l-4 border-orange-500",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsx("h3",{className:"font-bold text-orange-400 text-xl",children:"ESTAR"}),m.jsx("span",{className:"text-xs bg-orange-900 text-orange-200 px-2 py-1 rounded",children:"Temporal"})]}),m.jsx("p",{className:"text-sm text-gray-300 mb-2 italic",children:'"To be" (Estado)'}),m.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[m.jsxs("div",{className:"bg-gray-900 p-2 rounded border border-gray-700",children:[m.jsx("span",{className:"text-orange-300 font-bold",children:"P"}),"osition"]}),m.jsxs("div",{className:"bg-gray-900 p-2 rounded border border-gray-700",children:[m.jsx("span",{className:"text-orange-300 font-bold",children:"L"}),"ocation"]}),m.jsxs("div",{className:"bg-gray-900 p-2 rounded border border-gray-700",children:[m.jsx("span",{className:"text-orange-300 font-bold",children:"A"}),"ction (-ing)"]}),m.jsxs("div",{className:"bg-gray-900 p-2 rounded border border-gray-700",children:[m.jsx("span",{className:"text-orange-300 font-bold",children:"C"}),"ondition"]}),m.jsxs("div",{className:"bg-gray-900 p-2 rounded border border-gray-700",children:[m.jsx("span",{className:"text-orange-300 font-bold",children:"E"}),"motion"]})]}),m.jsx("p",{className:"mt-3 text-xs text-center text-gray-400",children:'Ej: "Estoy triste", "Est en Madrid".'})]}),m.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl border-l-4 border-green-500",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsx("h3",{className:"font-bold text-green-400 text-xl",children:"TENER"}),m.jsx("span",{className:"text-xs bg-green-900 text-green-200 px-2 py-1 rounded",children:"Posesin"})]}),m.jsx("p",{className:"text-sm text-gray-300 mb-2 italic",children:'"To have" (Usado en modismos)'}),m.jsxs("ul",{className:"text-sm space-y-1 list-disc list-inside text-gray-300",children:[m.jsx("li",{children:'Edad ("Tengo 20 aos")'}),m.jsx("li",{children:'Hambre / Sed ("Tengo hambre")'}),m.jsx("li",{children:'Calor / Fro ("Tengo calor")'}),m.jsx("li",{children:"Miedo / Sueo"})]})]}),m.jsx("button",{onClick:()=>e("quiz"),className:"w-full bg-emerald-600 text-white font-bold py-4 rounded-2xl shadow-lg mt-4",children:"Prueba de Verbos"})]})},PC=({lessonId:r})=>{switch(r){case"pronouns":return m.jsx(LC,{});case"conjugations":return m.jsx(UC,{});case"verbs":return m.jsx(zC,{});default:return m.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center p-6 border border-gray-800 rounded-xl bg-gray-900/50",children:[m.jsx("p",{className:"text-gray-400 mb-2",children:"Leccin de gramtica no encontrada"}),m.jsxs("code",{className:"bg-black px-2 py-1 rounded text-pink-400 text-xs font-mono",children:["ID: ",r]})]})}};function qC(){const[r,e]=J.useState("dashboard"),[i,a]=J.useState(null);J.useEffect(()=>{},[]),J.useEffect(()=>{window.scrollTo(0,0)},[r]);const o=({children:f})=>m.jsx("div",{className:"min-h-screen bg-[#111827] p-6",children:f}),u=()=>{switch(r){case"admin":return m.jsx(T4,{onBack:()=>e("dashboard")});case"vocales":case"alphabet":case"numbers":case"colors":case"weather":case"calendar":return m.jsx(o,{children:m.jsx(RC,{lessonId:r})});case"feelings":case"intro":case"interview":case"characters":case"jobs":case"nationalities":return m.jsx(o,{children:m.jsx(kC,{lessonId:r})});case"pronouns":case"conjugations":case"verbs":return m.jsx(o,{children:m.jsx(PC,{lessonId:r})});case"vocabmix":return m.jsx(S4,{onComplete:()=>e("dashboard")});case"finalquiz":return m.jsx(A4,{onComplete:()=>e("dashboard")});default:return m.jsx(E4,{onSelectLesson:e})}};return m.jsxs("div",{className:"min-h-screen bg-gray-900 text-white font-sans antialiased",children:[r!=="admin"&&m.jsx("div",{className:"sticky top-0 z-50 bg-gray-900/90 backdrop-blur-md border-b border-gray-800 p-4 flex items-center justify-between",children:r!=="dashboard"?m.jsxs("button",{onClick:()=>e("dashboard"),className:"flex items-center gap-2 text-indigo-400 font-bold",children:[m.jsx(om,{size:20})," Men"]}):m.jsxs("div",{className:"text-xl font-black text-indigo-500 tracking-tighter",children:["NOTAS",m.jsx("span",{className:"text-pink-500",children:".APP"})]})}),m.jsx("div",{className:"p-6",children:u()})]})}vE.createRoot(document.getElementById("root")).render(m.jsx(J.StrictMode,{children:m.jsx(qC,{})}));
