(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();function Dx(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Tf={exports:{}},_l={};var D0;function jx(){if(D0)return _l;D0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:f,ref:l!==void 0?l:null,props:u}}return _l.Fragment=e,_l.jsx=i,_l.jsxs=i,_l}var j0;function Mx(){return j0||(j0=1,Tf.exports=jx()),Tf.exports}var m=Mx(),Sf={exports:{}},be={};var M0;function Ox(){if(M0)return be;M0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),A=Symbol.iterator;function q(M){return M===null||typeof M!="object"?null:(M=A&&M[A]||M["@@iterator"],typeof M=="function"?M:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,W={};function re(M,X,ie){this.props=M,this.context=X,this.refs=W,this.updater=ie||F}re.prototype.isReactComponent={},re.prototype.setState=function(M,X){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,X,"setState")},re.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ce(){}ce.prototype=re.prototype;function he(M,X,ie){this.props=M,this.context=X,this.refs=W,this.updater=ie||F}var we=he.prototype=new ce;we.constructor=he,Z(we,re.prototype),we.isPureReactComponent=!0;var Fe=Array.isArray;function Oe(){}var I={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(M,X,ie){var oe=ie.ref;return{$$typeof:s,type:M,key:X,ref:oe!==void 0?oe:null,props:ie}}function O(M,X){return R(M.type,X,M.props)}function j(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function k(M){var X={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ie){return X[ie]})}var N=/\/+/g;function rt(M,X){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):X.toString(36)}function Dt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Oe,Oe):(M.status="pending",M.then(function(X){M.status==="pending"&&(M.status="fulfilled",M.value=X)},function(X){M.status==="pending"&&(M.status="rejected",M.reason=X)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Q(M,X,ie,oe,_e){var Se=typeof M;(Se==="undefined"||Se==="boolean")&&(M=null);var ke=!1;if(M===null)ke=!0;else switch(Se){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(M.$$typeof){case s:case e:ke=!0;break;case E:return ke=M._init,Q(ke(M._payload),X,ie,oe,_e)}}if(ke)return _e=_e(M),ke=oe===""?"."+rt(M,0):oe,Fe(_e)?(ie="",ke!=null&&(ie=ke.replace(N,"$&/")+"/"),Q(_e,X,ie,"",function(sr){return sr})):_e!=null&&(j(_e)&&(_e=O(_e,ie+(_e.key==null||M&&M.key===_e.key?"":(""+_e.key).replace(N,"$&/")+"/")+ke)),X.push(_e)),1;ke=0;var jt=oe===""?".":oe+":";if(Fe(M))for(var at=0;at<M.length;at++)oe=M[at],Se=jt+rt(oe,at),ke+=Q(oe,X,ie,Se,_e);else if(at=q(M),typeof at=="function")for(M=at.call(M),at=0;!(oe=M.next()).done;)oe=oe.value,Se=jt+rt(oe,at++),ke+=Q(oe,X,ie,Se,_e);else if(Se==="object"){if(typeof M.then=="function")return Q(Dt(M),X,ie,oe,_e);throw X=String(M),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return ke}function ne(M,X,ie){if(M==null)return M;var oe=[],_e=0;return Q(M,oe,"","",function(Se){return X.call(ie,Se,_e++)}),oe}function me(M){if(M._status===-1){var X=M._result;X=X(),X.then(function(ie){(M._status===0||M._status===-1)&&(M._status=1,M._result=ie)},function(ie){(M._status===0||M._status===-1)&&(M._status=2,M._result=ie)}),M._status===-1&&(M._status=0,M._result=X)}if(M._status===1)return M._result.default;throw M._result}var Ue=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ge={map:ne,forEach:function(M,X,ie){ne(M,function(){X.apply(this,arguments)},ie)},count:function(M){var X=0;return ne(M,function(){X++}),X},toArray:function(M){return ne(M,function(X){return X})||[]},only:function(M){if(!j(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return be.Activity=T,be.Children=Ge,be.Component=re,be.Fragment=i,be.Profiler=l,be.PureComponent=he,be.StrictMode=r,be.Suspense=_,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,be.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},be.cache=function(M){return function(){return M.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(M,X,ie){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var oe=Z({},M.props),_e=M.key;if(X!=null)for(Se in X.key!==void 0&&(_e=""+X.key),X)!w.call(X,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&X.ref===void 0||(oe[Se]=X[Se]);var Se=arguments.length-2;if(Se===1)oe.children=ie;else if(1<Se){for(var ke=Array(Se),jt=0;jt<Se;jt++)ke[jt]=arguments[jt+2];oe.children=ke}return R(M.type,_e,oe)},be.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},be.createElement=function(M,X,ie){var oe,_e={},Se=null;if(X!=null)for(oe in X.key!==void 0&&(Se=""+X.key),X)w.call(X,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(_e[oe]=X[oe]);var ke=arguments.length-2;if(ke===1)_e.children=ie;else if(1<ke){for(var jt=Array(ke),at=0;at<ke;at++)jt[at]=arguments[at+2];_e.children=jt}if(M&&M.defaultProps)for(oe in ke=M.defaultProps,ke)_e[oe]===void 0&&(_e[oe]=ke[oe]);return R(M,Se,_e)},be.createRef=function(){return{current:null}},be.forwardRef=function(M){return{$$typeof:p,render:M}},be.isValidElement=j,be.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:me}},be.memo=function(M,X){return{$$typeof:y,type:M,compare:X===void 0?null:X}},be.startTransition=function(M){var X=I.T,ie={};I.T=ie;try{var oe=M(),_e=I.S;_e!==null&&_e(ie,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Oe,Ue)}catch(Se){Ue(Se)}finally{X!==null&&ie.types!==null&&(X.types=ie.types),I.T=X}},be.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},be.use=function(M){return I.H.use(M)},be.useActionState=function(M,X,ie){return I.H.useActionState(M,X,ie)},be.useCallback=function(M,X){return I.H.useCallback(M,X)},be.useContext=function(M){return I.H.useContext(M)},be.useDebugValue=function(){},be.useDeferredValue=function(M,X){return I.H.useDeferredValue(M,X)},be.useEffect=function(M,X){return I.H.useEffect(M,X)},be.useEffectEvent=function(M){return I.H.useEffectEvent(M)},be.useId=function(){return I.H.useId()},be.useImperativeHandle=function(M,X,ie){return I.H.useImperativeHandle(M,X,ie)},be.useInsertionEffect=function(M,X){return I.H.useInsertionEffect(M,X)},be.useLayoutEffect=function(M,X){return I.H.useLayoutEffect(M,X)},be.useMemo=function(M,X){return I.H.useMemo(M,X)},be.useOptimistic=function(M,X){return I.H.useOptimistic(M,X)},be.useReducer=function(M,X,ie){return I.H.useReducer(M,X,ie)},be.useRef=function(M){return I.H.useRef(M)},be.useState=function(M){return I.H.useState(M)},be.useSyncExternalStore=function(M,X,ie){return I.H.useSyncExternalStore(M,X,ie)},be.useTransition=function(){return I.H.useTransition()},be.version="19.2.0",be}var O0;function mm(){return O0||(O0=1,Sf.exports=Ox()),Sf.exports}var ee=mm();const Lr=Dx(ee);var Af={exports:{}},vl={},wf={exports:{}},Nf={};var V0;function Vx(){return V0||(V0=1,(function(s){function e(Q,ne){var me=Q.length;Q.push(ne);e:for(;0<me;){var Ue=me-1>>>1,Ge=Q[Ue];if(0<l(Ge,ne))Q[Ue]=ne,Q[me]=Ge,me=Ue;else break e}}function i(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var ne=Q[0],me=Q.pop();if(me!==ne){Q[0]=me;e:for(var Ue=0,Ge=Q.length,M=Ge>>>1;Ue<M;){var X=2*(Ue+1)-1,ie=Q[X],oe=X+1,_e=Q[oe];if(0>l(ie,me))oe<Ge&&0>l(_e,ie)?(Q[Ue]=_e,Q[oe]=me,Ue=oe):(Q[Ue]=ie,Q[X]=me,Ue=X);else if(oe<Ge&&0>l(_e,me))Q[Ue]=_e,Q[oe]=me,Ue=oe;else break e}}return ne}function l(Q,ne){var me=Q.sortIndex-ne.sortIndex;return me!==0?me:Q.id-ne.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();s.unstable_now=function(){return f.now()-p}}var _=[],y=[],E=1,T=null,A=3,q=!1,F=!1,Z=!1,W=!1,re=typeof setTimeout=="function"?setTimeout:null,ce=typeof clearTimeout=="function"?clearTimeout:null,he=typeof setImmediate<"u"?setImmediate:null;function we(Q){for(var ne=i(y);ne!==null;){if(ne.callback===null)r(y);else if(ne.startTime<=Q)r(y),ne.sortIndex=ne.expirationTime,e(_,ne);else break;ne=i(y)}}function Fe(Q){if(Z=!1,we(Q),!F)if(i(_)!==null)F=!0,Oe||(Oe=!0,k());else{var ne=i(y);ne!==null&&Dt(Fe,ne.startTime-Q)}}var Oe=!1,I=-1,w=5,R=-1;function O(){return W?!0:!(s.unstable_now()-R<w)}function j(){if(W=!1,Oe){var Q=s.unstable_now();R=Q;var ne=!0;try{e:{F=!1,Z&&(Z=!1,ce(I),I=-1),q=!0;var me=A;try{t:{for(we(Q),T=i(_);T!==null&&!(T.expirationTime>Q&&O());){var Ue=T.callback;if(typeof Ue=="function"){T.callback=null,A=T.priorityLevel;var Ge=Ue(T.expirationTime<=Q);if(Q=s.unstable_now(),typeof Ge=="function"){T.callback=Ge,we(Q),ne=!0;break t}T===i(_)&&r(_),we(Q)}else r(_);T=i(_)}if(T!==null)ne=!0;else{var M=i(y);M!==null&&Dt(Fe,M.startTime-Q),ne=!1}}break e}finally{T=null,A=me,q=!1}ne=void 0}}finally{ne?k():Oe=!1}}}var k;if(typeof he=="function")k=function(){he(j)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,rt=N.port2;N.port1.onmessage=j,k=function(){rt.postMessage(null)}}else k=function(){re(j,0)};function Dt(Q,ne){I=re(function(){Q(s.unstable_now())},ne)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Q){Q.callback=null},s.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Q?Math.floor(1e3/Q):5},s.unstable_getCurrentPriorityLevel=function(){return A},s.unstable_next=function(Q){switch(A){case 1:case 2:case 3:var ne=3;break;default:ne=A}var me=A;A=ne;try{return Q()}finally{A=me}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(Q,ne){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var me=A;A=Q;try{return ne()}finally{A=me}},s.unstable_scheduleCallback=function(Q,ne,me){var Ue=s.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ue+me:Ue):me=Ue,Q){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=me+Ge,Q={id:E++,callback:ne,priorityLevel:Q,startTime:me,expirationTime:Ge,sortIndex:-1},me>Ue?(Q.sortIndex=me,e(y,Q),i(_)===null&&Q===i(y)&&(Z?(ce(I),I=-1):Z=!0,Dt(Fe,me-Ue))):(Q.sortIndex=Ge,e(_,Q),F||q||(F=!0,Oe||(Oe=!0,k()))),Q},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(Q){var ne=A;return function(){var me=A;A=ne;try{return Q.apply(this,arguments)}finally{A=me}}}})(Nf)),Nf}var k0;function kx(){return k0||(k0=1,wf.exports=Vx()),wf.exports}var Cf={exports:{}},Jt={};var L0;function Lx(){if(L0)return Jt;L0=1;var s=mm();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(_,y,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:T==null?null:""+T,children:_,containerInfo:y,implementation:E}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Jt.createPortal=function(_,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(_,y,null,E)},Jt.flushSync=function(_){var y=f.T,E=r.p;try{if(f.T=null,r.p=2,_)return _()}finally{f.T=y,r.p=E,r.d.f()}},Jt.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(_,y))},Jt.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},Jt.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var E=y.as,T=p(E,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?r.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:q}):E==="script"&&r.d.X(_,{crossOrigin:T,integrity:A,fetchPriority:q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Jt.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=p(y.as,y.crossOrigin);r.d.M(_,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(_)},Jt.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,T=p(E,y.crossOrigin);r.d.L(_,E,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Jt.preloadModule=function(_,y){if(typeof _=="string")if(y){var E=p(y.as,y.crossOrigin);r.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(_)},Jt.requestFormReset=function(_){r.d.r(_)},Jt.unstable_batchedUpdates=function(_,y){return _(y)},Jt.useFormState=function(_,y,E){return f.H.useFormState(_,y,E)},Jt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Jt.version="19.2.0",Jt}var U0;function Ux(){if(U0)return Cf.exports;U0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Cf.exports=Lx(),Cf.exports}var P0;function Px(){if(P0)return vl;P0=1;var s=kx(),e=mm(),i=Ux();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(u(t)!==t)throw Error(r(188))}function y(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return _(h),t;if(d===o)return _(h),n;d=d.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=d;else{for(var v=!1,x=h.child;x;){if(x===a){v=!0,a=h,o=d;break}if(x===o){v=!0,o=h,a=d;break}x=x.sibling}if(!v){for(x=d.child;x;){if(x===a){v=!0,a=d,o=h;break}if(x===o){v=!0,o=d,a=h;break}x=x.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),ce=Symbol.for("react.consumer"),he=Symbol.for("react.context"),we=Symbol.for("react.forward_ref"),Fe=Symbol.for("react.suspense"),Oe=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=j&&t[j]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case re:return"Profiler";case W:return"StrictMode";case Fe:return"Suspense";case Oe:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case he:return t.displayName||"Context";case ce:return(t._context.displayName||"Context")+".Consumer";case we:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:rt(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return rt(t(n))}catch{}}return null}var Dt=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Ue=[],Ge=-1;function M(t){return{current:t}}function X(t){0>Ge||(t.current=Ue[Ge],Ue[Ge]=null,Ge--)}function ie(t,n){Ge++,Ue[Ge]=t.current,t.current=n}var oe=M(null),_e=M(null),Se=M(null),ke=M(null);function jt(t,n){switch(ie(Se,n),ie(_e,t),ie(oe,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?e0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=e0(n),t=t0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(oe),ie(oe,t)}function at(){X(oe),X(_e),X(Se)}function sr(t){t.memoizedState!==null&&ie(ke,t);var n=oe.current,a=t0(n,t.type);n!==a&&(ie(_e,t),ie(oe,a))}function Xr(t){_e.current===t&&(X(oe),X(_e)),ke.current===t&&(X(ke),ml._currentValue=me)}var $r,Jr;function ti(t){if($r===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);$r=n&&n[1]||"",Jr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$r+t+Jr}var mo=!1;function rr(t,n){if(!t||mo)return"";mo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(H){var z=H}Reflect.construct(t,[],K)}else{try{K.call()}catch(H){z=H}t.call(K.prototype)}}else{try{throw Error()}catch(H){z=H}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),v=d[0],x=d[1];if(v&&x){var C=v.split(`
`),P=x.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===P.length)for(o=C.length-1,h=P.length-1;1<=o&&0<=h&&C[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==P[h]){var G=`
`+C[o].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=o&&0<=h);break}}}finally{mo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ti(a):""}function go(t,n){switch(t.tag){case 26:case 27:case 5:return ti(t.type);case 16:return ti("Lazy");case 13:return t.child!==n&&n!==null?ti("Suspense Fallback"):ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return rr(t.type,!1);case 11:return rr(t.type.render,!1);case 1:return rr(t.type,!0);case 31:return ti("Activity");default:return""}}function po(t){try{var n="",a=null;do n+=go(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var yt=Object.prototype.hasOwnProperty,Mt=s.unstable_scheduleCallback,as=s.unstable_cancelCallback,Sh=s.unstable_shouldYield,Kl=s.unstable_requestPaint,nn=s.unstable_now,ar=s.unstable_getCurrentPriorityLevel,yo=s.unstable_ImmediatePriority,_o=s.unstable_UserBlockingPriority,os=s.unstable_NormalPriority,Ah=s.unstable_LowPriority,Xl=s.unstable_IdlePriority,$l=s.log,Jl=s.unstable_setDisableYieldValue,Pn=null,Bt=null;function Tn(t){if(typeof $l=="function"&&Jl(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(Pn,t)}catch{}}var dt=Math.clz32?Math.clz32:Wl,Zl=Math.log,Zr=Math.LN2;function Wl(t){return t>>>=0,t===0?32:31-(Zl(t)/Zr|0)|0}var ni=256,or=262144,_t=4194304;function ii(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function si(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var x=o&134217727;return x!==0?(o=x&~d,o!==0?h=ii(o):(v&=x,v!==0?h=ii(v):a||(a=x&~t,a!==0&&(h=ii(a))))):(x=o&~d,x!==0?h=ii(x):v!==0?h=ii(v):a||(a=o&~t,a!==0&&(h=ii(a)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,a=n&-n,d>=a||d===32&&(a&4194048)!==0)?n:h}function zn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function wh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ec(){var t=_t;return _t<<=1,(_t&62914560)===0&&(_t=4194304),t}function ri(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function lr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Nh(t,n,a,o,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var x=t.entanglements,C=t.expirationTimes,P=t.hiddenUpdates;for(a=v&~a;0<a;){var G=31-dt(a),K=1<<G;x[G]=0,C[G]=-1;var z=P[G];if(z!==null)for(P[G]=null,G=0;G<z.length;G++){var H=z[G];H!==null&&(H.lane&=-536870913)}a&=~K}o!==0&&cr(t,o,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~n))}function cr(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-dt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function vo(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-dt(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function bo(t,n){var a=n&-n;return a=(a&42)!==0?1:ur(a),(a&(t.suspendedLanes|n))!==0?0:a}function ur(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ji(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function tc(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:S0(t.type))}function qn(t,n){var a=ne.p;try{return ne.p=t,n()}finally{ne.p=a}}var Bn=Math.random().toString(36).slice(2),vt="__reactFiber$"+Bn,Lt="__reactProps$"+Bn,ai="__reactContainer$"+Bn,Wr="__reactEvents$"+Bn,Ch="__reactListeners$"+Bn,nc="__reactHandles$"+Bn,ic="__reactResources$"+Bn,oi="__reactMarker$"+Bn;function ea(t){delete t[vt],delete t[Lt],delete t[Wr],delete t[Ch],delete t[nc]}function li(t){var n=t[vt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[ai]||a[vt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=l0(t);t!==null;){if(a=t[vt])return a;t=l0(t)}return n}t=a,a=t.parentNode}return null}function Sn(t){if(t=t[vt]||t[ai]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function mn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function ci(t){var n=t[ic];return n||(n=t[ic]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function bt(t){t[oi]=!0}var Eo=new Set,xo={};function ui(t,n){hi(t,n),hi(t+"Capture",n)}function hi(t,n){for(xo[t]=n,t=0;t<n.length;t++)Eo.add(n[t])}var To=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),So={},Ao={};function sc(t){return yt.call(Ao,t)?!0:yt.call(So,t)?!1:To.test(t)?Ao[t]=!0:(So[t]=!0,!1)}function ta(t,n,a){if(sc(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function gn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Et(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function Ut(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ls(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function wo(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,d=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Qe(t){if(!t._valueTracker){var n=ls(t)?"checked":"value";t._valueTracker=wo(t,n,""+t[n])}}function hr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=ls(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function di(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var dr=/[\n"\\]/g;function an(t){return t.replace(dr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function na(t,n,a,o,h,d,v,x){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ut(n)):t.value!==""+Ut(n)&&(t.value=""+Ut(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?No(t,v,Ut(n)):a!=null?No(t,v,Ut(a)):o!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+Ut(x):t.removeAttribute("name")}function rc(t,n,a,o,h,d,v,x){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){Qe(t);return}a=a!=null?""+Ut(a):"",n=n!=null?""+Ut(n):a,x||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=x?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Qe(t)}function No(t,n,a){n==="number"&&di(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function cs(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Ut(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function ac(t,n,a){if(n!=null&&(n=""+Ut(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ut(a):""}function us(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(Dt(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Ut(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Qe(t)}function on(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var oc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Co(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||oc.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Ro(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Co(t,h,o)}else for(var d in n)n.hasOwnProperty(d)&&Co(t,d,n[d])}function ia(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(t){return hs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Hn(){}var Io=null;function An(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ds=null,fi=null;function fr(t){var n=Sn(t);if(n&&(t=n.stateNode)){var a=t[Lt]||null;e:switch(t=n.stateNode,n.type){case"input":if(na(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[Lt]||null;if(!h)throw Error(r(90));na(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&hr(o)}break e;case"textarea":ac(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&cs(t,!!a.multiple,n,!1)}}}var ra=!1;function fs(t,n,a){if(ra)return t(n,a);ra=!0;try{var o=t(n);return o}finally{if(ra=!1,(ds!==null||fi!==null)&&(tu(),ds&&(n=ds,t=fi,fi=ds=null,fr(n),t)))for(n=0;n<t.length;n++)fr(t[n])}}function Fn(t,n){var a=t.stateNode;if(a===null)return null;var o=a[Lt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mr=!1;if(wn)try{var $e={};Object.defineProperty($e,"passive",{get:function(){mr=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{mr=!1}var mi=null,Do=null,gr=null;function jo(){if(gr)return gr;var t,n=Do,a=n.length,o,h="value"in mi?mi.value:mi.textContent,d=h.length;for(t=0;t<a&&n[t]===h[t];t++);var v=a-t;for(o=1;o<=v&&n[a-o]===h[d-o];o++);return gr=h.slice(t,1<o?1-o:void 0)}function pr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Mi(){return!0}function Gn(){return!1}function Ht(t){function n(a,o,h,d,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(a=t[x],this[x]=a?a(d):d[x]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Mi:Gn,this.isPropagationStopped=Gn,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),n}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gi=Ht(Oi),ms=T({},Oi,{view:0,detail:0}),Mo=Ht(ms),gs,aa,pi,oa=T({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ps,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pi&&(pi&&t.type==="mousemove"?(gs=t.screenX-pi.screenX,aa=t.screenY-pi.screenY):aa=gs=0,pi=t),gs)},movementY:function(t){return"movementY"in t?t.movementY:aa}}),Oo=Ht(oa),yr=T({},oa,{dataTransfer:0}),cc=Ht(yr),uc=T({},ms,{relatedTarget:0}),_r=Ht(uc),Vo=T({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),hc=Ht(Vo),la=T({},Oi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dc=Ht(la),fc=T({},Oi,{data:0}),yi=Ht(fc),mc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yc(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=pc[t])?!!n[t]:!1}function ps(){return yc}var sn=T({},ms,{key:function(t){if(t.key){var n=mc[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=pr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ps,charCode:function(t){return t.type==="keypress"?pr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_c=Ht(sn),vc=T({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vi=Ht(vc),c=T({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ps}),g=Ht(c),b=T({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Ht(b),L=T({},oa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Ht(L),te=T({},Oi,{newState:0,oldState:0}),xe=Ht(te),ft=[9,13,27,32],qe=wn&&"CompositionEvent"in window,ot=null;wn&&"documentMode"in document&&(ot=document.documentMode);var Nn=wn&&"TextEvent"in window&&!ot,_i=wn&&(!qe||ot&&8<ot&&11>=ot),Qn=" ",Yn=!1;function vr(t,n){switch(t){case"keyup":return ft.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ca(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ua=!1;function tE(t,n){switch(t){case"compositionend":return ca(n);case"keypress":return n.which!==32?null:(Yn=!0,Qn);case"textInput":return t=n.data,t===Qn&&Yn?null:t;default:return null}}function nE(t,n){if(ua)return t==="compositionend"||!qe&&vr(t,n)?(t=jo(),gr=Do=mi=null,ua=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _i&&n.locale!=="ko"?null:n.data;default:return null}}var iE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!iE[t.type]:n==="textarea"}function dg(t,n,a,o){ds?fi?fi.push(o):fi=[o]:ds=o,n=lu(n,"onChange"),0<n.length&&(a=new gi("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var ko=null,Lo=null;function sE(t){Ky(t,0)}function bc(t){var n=mn(t);if(hr(n))return t}function fg(t,n){if(t==="change")return n}var mg=!1;if(wn){var Rh;if(wn){var Ih="oninput"in document;if(!Ih){var gg=document.createElement("div");gg.setAttribute("oninput","return;"),Ih=typeof gg.oninput=="function"}Rh=Ih}else Rh=!1;mg=Rh&&(!document.documentMode||9<document.documentMode)}function pg(){ko&&(ko.detachEvent("onpropertychange",yg),Lo=ko=null)}function yg(t){if(t.propertyName==="value"&&bc(Lo)){var n=[];dg(n,Lo,t,An(t)),fs(sE,n)}}function rE(t,n,a){t==="focusin"?(pg(),ko=n,Lo=a,ko.attachEvent("onpropertychange",yg)):t==="focusout"&&pg()}function aE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bc(Lo)}function oE(t,n){if(t==="click")return bc(n)}function lE(t,n){if(t==="input"||t==="change")return bc(n)}function cE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var pn=typeof Object.is=="function"?Object.is:cE;function Uo(t,n){if(pn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!yt.call(n,h)||!pn(t[h],n[h]))return!1}return!0}function _g(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vg(t,n){var a=_g(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=_g(a)}}function bg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?bg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Eg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=di(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=di(t.document)}return n}function Dh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var uE=wn&&"documentMode"in document&&11>=document.documentMode,ha=null,jh=null,Po=null,Mh=!1;function xg(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Mh||ha==null||ha!==di(o)||(o=ha,"selectionStart"in o&&Dh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Po&&Uo(Po,o)||(Po=o,o=lu(jh,"onSelect"),0<o.length&&(n=new gi("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=ha)))}function br(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var da={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionrun:br("Transition","TransitionRun"),transitionstart:br("Transition","TransitionStart"),transitioncancel:br("Transition","TransitionCancel"),transitionend:br("Transition","TransitionEnd")},Oh={},Tg={};wn&&(Tg=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function Er(t){if(Oh[t])return Oh[t];if(!da[t])return t;var n=da[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Tg)return Oh[t]=n[a];return t}var Sg=Er("animationend"),Ag=Er("animationiteration"),wg=Er("animationstart"),hE=Er("transitionrun"),dE=Er("transitionstart"),fE=Er("transitioncancel"),Ng=Er("transitionend"),Cg=new Map,Vh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vh.push("scrollEnd");function Kn(t,n){Cg.set(t,n),ui(n,[t])}var Ec=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Cn=[],fa=0,kh=0;function xc(){for(var t=fa,n=kh=fa=0;n<t;){var a=Cn[n];Cn[n++]=null;var o=Cn[n];Cn[n++]=null;var h=Cn[n];Cn[n++]=null;var d=Cn[n];if(Cn[n++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}d!==0&&Rg(a,h,d)}}function Tc(t,n,a,o){Cn[fa++]=t,Cn[fa++]=n,Cn[fa++]=a,Cn[fa++]=o,kh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Lh(t,n,a,o){return Tc(t,n,a,o),Sc(t)}function xr(t,n){return Tc(t,null,null,n),Sc(t)}function Rg(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&n!==null&&(h=31-dt(a),t=d.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),d):null}function Sc(t){if(50<ol)throw ol=0,Qd=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ma={};function mE(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,n,a,o){return new mE(t,n,a,o)}function Uh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ki(t,n){var a=t.alternate;return a===null?(a=yn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ig(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ac(t,n,a,o,h,d){var v=0;if(o=t,typeof t=="function")Uh(t)&&(v=1);else if(typeof t=="string")v=vx(t,a,oe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=yn(31,a,n,h),t.elementType=R,t.lanes=d,t;case Z:return Tr(a.children,h,d,n);case W:v=8,h|=24;break;case re:return t=yn(12,a,n,h|2),t.elementType=re,t.lanes=d,t;case Fe:return t=yn(13,a,n,h),t.elementType=Fe,t.lanes=d,t;case Oe:return t=yn(19,a,n,h),t.elementType=Oe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case he:v=10;break e;case ce:v=9;break e;case we:v=11;break e;case I:v=14;break e;case w:v=16,o=null;break e}v=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=yn(v,a,n,h),n.elementType=t,n.type=o,n.lanes=d,n}function Tr(t,n,a,o){return t=yn(7,t,o,n),t.lanes=a,t}function Ph(t,n,a){return t=yn(6,t,null,n),t.lanes=a,t}function Dg(t){var n=yn(18,null,null,0);return n.stateNode=t,n}function zh(t,n,a){return n=yn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var jg=new WeakMap;function Rn(t,n){if(typeof t=="object"&&t!==null){var a=jg.get(t);return a!==void 0?a:(n={value:t,source:n,stack:po(n)},jg.set(t,n),n)}return{value:t,source:n,stack:po(n)}}var ga=[],pa=0,wc=null,zo=0,In=[],Dn=0,ys=null,vi=1,bi="";function Li(t,n){ga[pa++]=zo,ga[pa++]=wc,wc=t,zo=n}function Mg(t,n,a){In[Dn++]=vi,In[Dn++]=bi,In[Dn++]=ys,ys=t;var o=vi;t=bi;var h=32-dt(o)-1;o&=~(1<<h),a+=1;var d=32-dt(n)+h;if(30<d){var v=h-h%5;d=(o&(1<<v)-1).toString(32),o>>=v,h-=v,vi=1<<32-dt(n)+h|a<<h|o,bi=d+t}else vi=1<<d|a<<h|o,bi=t}function qh(t){t.return!==null&&(Li(t,1),Mg(t,1,0))}function Bh(t){for(;t===wc;)wc=ga[--pa],ga[pa]=null,zo=ga[--pa],ga[pa]=null;for(;t===ys;)ys=In[--Dn],In[Dn]=null,bi=In[--Dn],In[Dn]=null,vi=In[--Dn],In[Dn]=null}function Og(t,n){In[Dn++]=vi,In[Dn++]=bi,In[Dn++]=ys,vi=n.id,bi=n.overflow,ys=t}var Ft=null,nt=null,Ve=!1,_s=null,jn=!1,Hh=Error(r(519));function vs(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qo(Rn(n,t)),Hh}function Vg(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[vt]=t,n[Lt]=o,a){case"dialog":Ce("cancel",n),Ce("close",n);break;case"iframe":case"object":case"embed":Ce("load",n);break;case"video":case"audio":for(a=0;a<cl.length;a++)Ce(cl[a],n);break;case"source":Ce("error",n);break;case"img":case"image":case"link":Ce("error",n),Ce("load",n);break;case"details":Ce("toggle",n);break;case"input":Ce("invalid",n),rc(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ce("invalid",n);break;case"textarea":Ce("invalid",n),us(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||Zy(n.textContent,a)?(o.popover!=null&&(Ce("beforetoggle",n),Ce("toggle",n)),o.onScroll!=null&&Ce("scroll",n),o.onScrollEnd!=null&&Ce("scrollend",n),o.onClick!=null&&(n.onclick=Hn),n=!0):n=!1,n||vs(t,!0)}function kg(t){for(Ft=t.return;Ft;)switch(Ft.tag){case 5:case 31:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:Ft=Ft.return}}function ya(t){if(t!==Ft)return!1;if(!Ve)return kg(t),Ve=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||lf(t.type,t.memoizedProps)),a=!a),a&&nt&&vs(t),kg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));nt=o0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));nt=o0(t)}else n===27?(n=nt,Ms(t.type)?(t=ff,ff=null,nt=t):nt=n):nt=Ft?On(t.stateNode.nextSibling):null;return!0}function Sr(){nt=Ft=null,Ve=!1}function Fh(){var t=_s;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),_s=null),t}function qo(t){_s===null?_s=[t]:_s.push(t)}var Gh=M(null),Ar=null,Ui=null;function bs(t,n,a){ie(Gh,n._currentValue),n._currentValue=a}function Pi(t){t._currentValue=Gh.current,X(Gh)}function Qh(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function Yh(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var x=d;d=h;for(var C=0;C<n.length;C++)if(x.context===n[C]){d.lanes|=a,x=d.alternate,x!==null&&(x.lanes|=a),Qh(d.return,a,t),o||(v=null);break e}d=x.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(r(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Qh(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function _a(t,n,a,o){t=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var x=h.type;pn(h.pendingProps.value,v.value)||(t!==null?t.push(x):t=[x])}}else if(h===ke.current){if(v=h.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ml):t=[ml])}h=h.return}t!==null&&Yh(n,t,a,o),n.flags|=262144}function Nc(t){for(t=t.firstContext;t!==null;){if(!pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function wr(t){Ar=t,Ui=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return Lg(Ar,t)}function Cc(t,n){return Ar===null&&wr(t),Lg(t,n)}function Lg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ui===null){if(t===null)throw Error(r(308));Ui=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ui=Ui.next=n;return a}var gE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},pE=s.unstable_scheduleCallback,yE=s.unstable_NormalPriority,xt={$$typeof:he,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kh(){return{controller:new gE,data:new Map,refCount:0}}function Bo(t){t.refCount--,t.refCount===0&&pE(yE,function(){t.controller.abort()})}var Ho=null,Xh=0,va=0,ba=null;function _E(t,n){if(Ho===null){var a=Ho=[];Xh=0,va=Zd(),ba={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Xh++,n.then(Ug,Ug),n}function Ug(){if(--Xh===0&&Ho!==null){ba!==null&&(ba.status="fulfilled");var t=Ho;Ho=null,va=0,ba=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function vE(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Pg=Q.S;Q.S=function(t,n){xy=nn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&_E(t,n),Pg!==null&&Pg(t,n)};var Nr=M(null);function $h(){var t=Nr.current;return t!==null?t:et.pooledCache}function Rc(t,n){n===null?ie(Nr,Nr.current):ie(Nr,n.pool)}function zg(){var t=$h();return t===null?null:{parent:xt._currentValue,pool:t}}var Ea=Error(r(460)),Jh=Error(r(474)),Ic=Error(r(542)),Dc={then:function(){}};function qg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Bg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Hn,Hn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Fg(t),t;default:if(typeof n.status=="string")n.then(Hn,Hn);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Fg(t),t}throw Rr=n,Ea}}function Cr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Rr=a,Ea):a}}var Rr=null;function Hg(){if(Rr===null)throw Error(r(459));var t=Rr;return Rr=null,t}function Fg(t){if(t===Ea||t===Ic)throw Error(r(483))}var xa=null,Fo=0;function jc(t){var n=Fo;return Fo+=1,xa===null&&(xa=[]),Bg(xa,t,n)}function Go(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Mc(t,n){throw n.$$typeof===A?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Gg(t){function n(V,D){if(t){var U=V.deletions;U===null?(V.deletions=[D],V.flags|=16):U.push(D)}}function a(V,D){if(!t)return null;for(;D!==null;)n(V,D),D=D.sibling;return null}function o(V){for(var D=new Map;V!==null;)V.key!==null?D.set(V.key,V):D.set(V.index,V),V=V.sibling;return D}function h(V,D){return V=ki(V,D),V.index=0,V.sibling=null,V}function d(V,D,U){return V.index=U,t?(U=V.alternate,U!==null?(U=U.index,U<D?(V.flags|=67108866,D):U):(V.flags|=67108866,D)):(V.flags|=1048576,D)}function v(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function x(V,D,U,Y){return D===null||D.tag!==6?(D=Ph(U,V.mode,Y),D.return=V,D):(D=h(D,U),D.return=V,D)}function C(V,D,U,Y){var de=U.type;return de===Z?G(V,D,U.props.children,Y,U.key):D!==null&&(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&Cr(de)===D.type)?(D=h(D,U.props),Go(D,U),D.return=V,D):(D=Ac(U.type,U.key,U.props,null,V.mode,Y),Go(D,U),D.return=V,D)}function P(V,D,U,Y){return D===null||D.tag!==4||D.stateNode.containerInfo!==U.containerInfo||D.stateNode.implementation!==U.implementation?(D=zh(U,V.mode,Y),D.return=V,D):(D=h(D,U.children||[]),D.return=V,D)}function G(V,D,U,Y,de){return D===null||D.tag!==7?(D=Tr(U,V.mode,Y,de),D.return=V,D):(D=h(D,U),D.return=V,D)}function K(V,D,U){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Ph(""+D,V.mode,U),D.return=V,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case q:return U=Ac(D.type,D.key,D.props,null,V.mode,U),Go(U,D),U.return=V,U;case F:return D=zh(D,V.mode,U),D.return=V,D;case w:return D=Cr(D),K(V,D,U)}if(Dt(D)||k(D))return D=Tr(D,V.mode,U,null),D.return=V,D;if(typeof D.then=="function")return K(V,jc(D),U);if(D.$$typeof===he)return K(V,Cc(V,D),U);Mc(V,D)}return null}function z(V,D,U,Y){var de=D!==null?D.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return de!==null?null:x(V,D,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case q:return U.key===de?C(V,D,U,Y):null;case F:return U.key===de?P(V,D,U,Y):null;case w:return U=Cr(U),z(V,D,U,Y)}if(Dt(U)||k(U))return de!==null?null:G(V,D,U,Y,null);if(typeof U.then=="function")return z(V,D,jc(U),Y);if(U.$$typeof===he)return z(V,D,Cc(V,U),Y);Mc(V,U)}return null}function H(V,D,U,Y,de){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return V=V.get(U)||null,x(D,V,""+Y,de);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case q:return V=V.get(Y.key===null?U:Y.key)||null,C(D,V,Y,de);case F:return V=V.get(Y.key===null?U:Y.key)||null,P(D,V,Y,de);case w:return Y=Cr(Y),H(V,D,U,Y,de)}if(Dt(Y)||k(Y))return V=V.get(U)||null,G(D,V,Y,de,null);if(typeof Y.then=="function")return H(V,D,U,jc(Y),de);if(Y.$$typeof===he)return H(V,D,U,Cc(D,Y),de);Mc(D,Y)}return null}function le(V,D,U,Y){for(var de=null,Pe=null,ue=D,Ae=D=0,Ie=null;ue!==null&&Ae<U.length;Ae++){ue.index>Ae?(Ie=ue,ue=null):Ie=ue.sibling;var ze=z(V,ue,U[Ae],Y);if(ze===null){ue===null&&(ue=Ie);break}t&&ue&&ze.alternate===null&&n(V,ue),D=d(ze,D,Ae),Pe===null?de=ze:Pe.sibling=ze,Pe=ze,ue=Ie}if(Ae===U.length)return a(V,ue),Ve&&Li(V,Ae),de;if(ue===null){for(;Ae<U.length;Ae++)ue=K(V,U[Ae],Y),ue!==null&&(D=d(ue,D,Ae),Pe===null?de=ue:Pe.sibling=ue,Pe=ue);return Ve&&Li(V,Ae),de}for(ue=o(ue);Ae<U.length;Ae++)Ie=H(ue,V,Ae,U[Ae],Y),Ie!==null&&(t&&Ie.alternate!==null&&ue.delete(Ie.key===null?Ae:Ie.key),D=d(Ie,D,Ae),Pe===null?de=Ie:Pe.sibling=Ie,Pe=Ie);return t&&ue.forEach(function(Us){return n(V,Us)}),Ve&&Li(V,Ae),de}function ge(V,D,U,Y){if(U==null)throw Error(r(151));for(var de=null,Pe=null,ue=D,Ae=D=0,Ie=null,ze=U.next();ue!==null&&!ze.done;Ae++,ze=U.next()){ue.index>Ae?(Ie=ue,ue=null):Ie=ue.sibling;var Us=z(V,ue,ze.value,Y);if(Us===null){ue===null&&(ue=Ie);break}t&&ue&&Us.alternate===null&&n(V,ue),D=d(Us,D,Ae),Pe===null?de=Us:Pe.sibling=Us,Pe=Us,ue=Ie}if(ze.done)return a(V,ue),Ve&&Li(V,Ae),de;if(ue===null){for(;!ze.done;Ae++,ze=U.next())ze=K(V,ze.value,Y),ze!==null&&(D=d(ze,D,Ae),Pe===null?de=ze:Pe.sibling=ze,Pe=ze);return Ve&&Li(V,Ae),de}for(ue=o(ue);!ze.done;Ae++,ze=U.next())ze=H(ue,V,Ae,ze.value,Y),ze!==null&&(t&&ze.alternate!==null&&ue.delete(ze.key===null?Ae:ze.key),D=d(ze,D,Ae),Pe===null?de=ze:Pe.sibling=ze,Pe=ze);return t&&ue.forEach(function(Ix){return n(V,Ix)}),Ve&&Li(V,Ae),de}function We(V,D,U,Y){if(typeof U=="object"&&U!==null&&U.type===Z&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case q:e:{for(var de=U.key;D!==null;){if(D.key===de){if(de=U.type,de===Z){if(D.tag===7){a(V,D.sibling),Y=h(D,U.props.children),Y.return=V,V=Y;break e}}else if(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&Cr(de)===D.type){a(V,D.sibling),Y=h(D,U.props),Go(Y,U),Y.return=V,V=Y;break e}a(V,D);break}else n(V,D);D=D.sibling}U.type===Z?(Y=Tr(U.props.children,V.mode,Y,U.key),Y.return=V,V=Y):(Y=Ac(U.type,U.key,U.props,null,V.mode,Y),Go(Y,U),Y.return=V,V=Y)}return v(V);case F:e:{for(de=U.key;D!==null;){if(D.key===de)if(D.tag===4&&D.stateNode.containerInfo===U.containerInfo&&D.stateNode.implementation===U.implementation){a(V,D.sibling),Y=h(D,U.children||[]),Y.return=V,V=Y;break e}else{a(V,D);break}else n(V,D);D=D.sibling}Y=zh(U,V.mode,Y),Y.return=V,V=Y}return v(V);case w:return U=Cr(U),We(V,D,U,Y)}if(Dt(U))return le(V,D,U,Y);if(k(U)){if(de=k(U),typeof de!="function")throw Error(r(150));return U=de.call(U),ge(V,D,U,Y)}if(typeof U.then=="function")return We(V,D,jc(U),Y);if(U.$$typeof===he)return We(V,D,Cc(V,U),Y);Mc(V,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,D!==null&&D.tag===6?(a(V,D.sibling),Y=h(D,U),Y.return=V,V=Y):(a(V,D),Y=Ph(U,V.mode,Y),Y.return=V,V=Y),v(V)):a(V,D)}return function(V,D,U,Y){try{Fo=0;var de=We(V,D,U,Y);return xa=null,de}catch(ue){if(ue===Ea||ue===Ic)throw ue;var Pe=yn(29,ue,null,V.mode);return Pe.lanes=Y,Pe.return=V,Pe}finally{}}}var Ir=Gg(!0),Qg=Gg(!1),Es=!1;function Zh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function xs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ts(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Be&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Sc(t),Rg(t,null,a),n}return Tc(t,o,n,a),Sc(t)}function Qo(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,vo(t,a)}}function ed(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=n:d=d.next=n}else h=d=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var td=!1;function Yo(){if(td){var t=ba;if(t!==null)throw t}}function Ko(t,n,a,o){td=!1;var h=t.updateQueue;Es=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,x=h.shared.pending;if(x!==null){h.shared.pending=null;var C=x,P=C.next;C.next=null,v===null?d=P:v.next=P,v=C;var G=t.alternate;G!==null&&(G=G.updateQueue,x=G.lastBaseUpdate,x!==v&&(x===null?G.firstBaseUpdate=P:x.next=P,G.lastBaseUpdate=C))}if(d!==null){var K=h.baseState;v=0,G=P=C=null,x=d;do{var z=x.lane&-536870913,H=z!==x.lane;if(H?(Re&z)===z:(o&z)===z){z!==0&&z===va&&(td=!0),G!==null&&(G=G.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var le=t,ge=x;z=n;var We=a;switch(ge.tag){case 1:if(le=ge.payload,typeof le=="function"){K=le.call(We,K,z);break e}K=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ge.payload,z=typeof le=="function"?le.call(We,K,z):le,z==null)break e;K=T({},K,z);break e;case 2:Es=!0}}z=x.callback,z!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:x.tag,payload:x.payload,callback:x.callback,next:null},G===null?(P=G=H,C=K):G=G.next=H,v|=z;if(x=x.next,x===null){if(x=h.shared.pending,x===null)break;H=x,x=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(C=K),h.baseState=C,h.firstBaseUpdate=P,h.lastBaseUpdate=G,d===null&&(h.shared.lanes=0),Cs|=v,t.lanes=v,t.memoizedState=K}}function Yg(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Kg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Yg(a[t],n)}var Ta=M(null),Oc=M(0);function Xg(t,n){t=Ki,ie(Oc,t),ie(Ta,n),Ki=t|n.baseLanes}function nd(){ie(Oc,Ki),ie(Ta,Ta.current)}function id(){Ki=Oc.current,X(Ta),X(Oc)}var _n=M(null),Mn=null;function Ss(t){var n=t.alternate;ie(mt,mt.current&1),ie(_n,t),Mn===null&&(n===null||Ta.current!==null||n.memoizedState!==null)&&(Mn=t)}function sd(t){ie(mt,mt.current),ie(_n,t),Mn===null&&(Mn=t)}function $g(t){t.tag===22?(ie(mt,mt.current),ie(_n,t),Mn===null&&(Mn=t)):As()}function As(){ie(mt,mt.current),ie(_n,_n.current)}function vn(t){X(_n),Mn===t&&(Mn=null),X(mt)}var mt=M(0);function Vc(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||hf(a)||df(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var zi=0,Te=null,Je=null,Tt=null,kc=!1,Sa=!1,Dr=!1,Lc=0,Xo=0,Aa=null,bE=0;function ut(){throw Error(r(321))}function rd(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!pn(t[a],n[a]))return!1;return!0}function ad(t,n,a,o,h,d){return zi=d,Te=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=t===null||t.memoizedState===null?Mp:Ed,Dr=!1,d=a(o,h),Dr=!1,Sa&&(d=Zg(n,a,o,h)),Jg(t),d}function Jg(t){Q.H=Zo;var n=Je!==null&&Je.next!==null;if(zi=0,Tt=Je=Te=null,kc=!1,Xo=0,Aa=null,n)throw Error(r(300));t===null||St||(t=t.dependencies,t!==null&&Nc(t)&&(St=!0))}function Zg(t,n,a,o){Te=t;var h=0;do{if(Sa&&(Aa=null),Xo=0,Sa=!1,25<=h)throw Error(r(301));if(h+=1,Tt=Je=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=Op,d=n(a,o)}while(Sa);return d}function EE(){var t=Q.H,n=t.useState()[0];return n=typeof n.then=="function"?$o(n):n,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(Te.flags|=1024),n}function od(){var t=Lc!==0;return Lc=0,t}function ld(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function cd(t){if(kc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}kc=!1}zi=0,Tt=Je=Te=null,Sa=!1,Xo=Lc=0,Aa=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Te.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function gt(){if(Je===null){var t=Te.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var n=Tt===null?Te.memoizedState:Tt.next;if(n!==null)Tt=n,Je=t;else{if(t===null)throw Te.alternate===null?Error(r(467)):Error(r(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Tt===null?Te.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function Uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $o(t){var n=Xo;return Xo+=1,Aa===null&&(Aa=[]),t=Bg(Aa,t,n),n=Te,(Tt===null?n.memoizedState:Tt.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?Mp:Ed),t}function Pc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return $o(t);if(t.$$typeof===he)return Gt(t)}throw Error(r(438,String(t)))}function ud(t){var n=null,a=Te.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Te.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Uc(),Te.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=O;return n.index++,a}function qi(t,n){return typeof n=="function"?n(t):n}function zc(t){var n=gt();return hd(n,Je,t)}function hd(t,n,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,d=o.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}n.baseQueue=h=d,o.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{n=h.next;var x=v=null,C=null,P=n,G=!1;do{var K=P.lane&-536870913;if(K!==P.lane?(Re&K)===K:(zi&K)===K){var z=P.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),K===va&&(G=!0);else if((zi&z)===z){P=P.next,z===va&&(G=!0);continue}else K={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(x=C=K,v=d):C=C.next=K,Te.lanes|=z,Cs|=z;K=P.action,Dr&&a(d,K),d=P.hasEagerState?P.eagerState:a(d,K)}else z={lane:K,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(x=C=z,v=d):C=C.next=z,Te.lanes|=K,Cs|=K;P=P.next}while(P!==null&&P!==n);if(C===null?v=d:C.next=x,!pn(d,t.memoizedState)&&(St=!0,G&&(a=ba,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=C,o.lastRenderedState=d}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function dd(t){var n=gt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,d=n.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);pn(d,n.memoizedState)||(St=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,o]}function Wg(t,n,a){var o=Te,h=gt(),d=Ve;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=n();var v=!pn((Je||h).memoizedState,a);if(v&&(h.memoizedState=a,St=!0),h=h.queue,gd(np.bind(null,o,h,t),[t]),h.getSnapshot!==n||v||Tt!==null&&Tt.memoizedState.tag&1){if(o.flags|=2048,wa(9,{destroy:void 0},tp.bind(null,o,h,a,n),null),et===null)throw Error(r(349));d||(zi&127)!==0||ep(o,n,a)}return a}function ep(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Te.updateQueue,n===null?(n=Uc(),Te.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function tp(t,n,a,o){n.value=a,n.getSnapshot=o,ip(n)&&sp(t)}function np(t,n,a){return a(function(){ip(n)&&sp(t)})}function ip(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!pn(t,a)}catch{return!0}}function sp(t){var n=xr(t,2);n!==null&&dn(n,t,2)}function fd(t){var n=rn();if(typeof t=="function"){var a=t;if(t=a(),Dr){Tn(!0);try{a()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:t},n}function rp(t,n,a,o){return t.baseState=a,hd(t,Je,typeof o=="function"?o:qi)}function xE(t,n,a,o,h){if(Hc(t))throw Error(r(485));if(t=n.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Q.T!==null?a(!0):d.isTransition=!1,o(d),a=n.pending,a===null?(d.next=n.pending=d,ap(n,d)):(d.next=a.next,n.pending=a.next=d)}}function ap(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var d=Q.T,v={};Q.T=v;try{var x=a(h,o),C=Q.S;C!==null&&C(v,x),op(t,n,x)}catch(P){md(t,n,P)}finally{d!==null&&v.types!==null&&(d.types=v.types),Q.T=d}}else try{d=a(h,o),op(t,n,d)}catch(P){md(t,n,P)}}function op(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){lp(t,n,o)},function(o){return md(t,n,o)}):lp(t,n,a)}function lp(t,n,a){n.status="fulfilled",n.value=a,cp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,ap(t,a)))}function md(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,cp(n),n=n.next;while(n!==o)}t.action=null}function cp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function up(t,n){return n}function hp(t,n){if(Ve){var a=et.formState;if(a!==null){e:{var o=Te;if(Ve){if(nt){t:{for(var h=nt,d=jn;h.nodeType!==8;){if(!d){h=null;break t}if(h=On(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){nt=On(h.nextSibling),o=h.data==="F!";break e}}vs(o)}o=!1}o&&(n=a[0])}}return a=rn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:up,lastRenderedState:n},a.queue=o,a=Ip.bind(null,Te,o),o.dispatch=a,o=fd(!1),d=bd.bind(null,Te,!1,o.queue),o=rn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=xE.bind(null,Te,h,d,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function dp(t){var n=gt();return fp(n,Je,t)}function fp(t,n,a){if(n=hd(t,n,up)[0],t=zc(qi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=$o(n)}catch(v){throw v===Ea?Ic:v}else o=n;n=gt();var h=n.queue,d=h.dispatch;return a!==n.memoizedState&&(Te.flags|=2048,wa(9,{destroy:void 0},TE.bind(null,h,a),null)),[o,d,t]}function TE(t,n){t.action=n}function mp(t){var n=gt(),a=Je;if(a!==null)return fp(n,a,t);gt(),n=n.memoizedState,a=gt();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function wa(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=Te.updateQueue,n===null&&(n=Uc(),Te.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function gp(){return gt().memoizedState}function qc(t,n,a,o){var h=rn();Te.flags|=t,h.memoizedState=wa(1|n,{destroy:void 0},a,o===void 0?null:o)}function Bc(t,n,a,o){var h=gt();o=o===void 0?null:o;var d=h.memoizedState.inst;Je!==null&&o!==null&&rd(o,Je.memoizedState.deps)?h.memoizedState=wa(n,d,a,o):(Te.flags|=t,h.memoizedState=wa(1|n,d,a,o))}function pp(t,n){qc(8390656,8,t,n)}function gd(t,n){Bc(2048,8,t,n)}function SE(t){Te.flags|=4;var n=Te.updateQueue;if(n===null)n=Uc(),Te.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function yp(t){var n=gt().memoizedState;return SE({ref:n,nextImpl:t}),function(){if((Be&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function _p(t,n){return Bc(4,2,t,n)}function vp(t,n){return Bc(4,4,t,n)}function bp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Ep(t,n,a){a=a!=null?a.concat([t]):null,Bc(4,4,bp.bind(null,n,t),a)}function pd(){}function xp(t,n){var a=gt();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&rd(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function Tp(t,n){var a=gt();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&rd(n,o[1]))return o[0];if(o=t(),Dr){Tn(!0);try{t()}finally{Tn(!1)}}return a.memoizedState=[o,n],o}function yd(t,n,a){return a===void 0||(zi&1073741824)!==0&&(Re&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Sy(),Te.lanes|=t,Cs|=t,a)}function Sp(t,n,a,o){return pn(a,n)?a:Ta.current!==null?(t=yd(t,a,o),pn(t,n)||(St=!0),t):(zi&42)===0||(zi&1073741824)!==0&&(Re&261930)===0?(St=!0,t.memoizedState=a):(t=Sy(),Te.lanes|=t,Cs|=t,n)}function Ap(t,n,a,o,h){var d=ne.p;ne.p=d!==0&&8>d?d:8;var v=Q.T,x={};Q.T=x,bd(t,!1,n,a);try{var C=h(),P=Q.S;if(P!==null&&P(x,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=vE(C,o);Jo(t,n,G,xn(t))}else Jo(t,n,o,xn(t))}catch(K){Jo(t,n,{then:function(){},status:"rejected",reason:K},xn())}finally{ne.p=d,v!==null&&x.types!==null&&(v.types=x.types),Q.T=v}}function AE(){}function _d(t,n,a,o){if(t.tag!==5)throw Error(r(476));var h=wp(t).queue;Ap(t,h,n,me,a===null?AE:function(){return Np(t),a(o)})}function wp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:me},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Np(t){var n=wp(t);n.next===null&&(n=t.alternate.memoizedState),Jo(t,n.next.queue,{},xn())}function vd(){return Gt(ml)}function Cp(){return gt().memoizedState}function Rp(){return gt().memoizedState}function wE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=xn();t=xs(a);var o=Ts(n,t,a);o!==null&&(dn(o,n,a),Qo(o,n,a)),n={cache:Kh()},t.payload=n;return}n=n.return}}function NE(t,n,a){var o=xn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Hc(t)?Dp(n,a):(a=Lh(t,n,a,o),a!==null&&(dn(a,t,o),jp(a,n,o)))}function Ip(t,n,a){var o=xn();Jo(t,n,a,o)}function Jo(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Hc(t))Dp(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var v=n.lastRenderedState,x=d(v,a);if(h.hasEagerState=!0,h.eagerState=x,pn(x,v))return Tc(t,n,h,0),et===null&&xc(),!1}catch{}finally{}if(a=Lh(t,n,h,o),a!==null)return dn(a,t,o),jp(a,n,o),!0}return!1}function bd(t,n,a,o){if(o={lane:2,revertLane:Zd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Hc(t)){if(n)throw Error(r(479))}else n=Lh(t,a,o,2),n!==null&&dn(n,t,2)}function Hc(t){var n=t.alternate;return t===Te||n!==null&&n===Te}function Dp(t,n){Sa=kc=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function jp(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,vo(t,a)}}var Zo={readContext:Gt,use:Pc,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useInsertionEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useSyncExternalStore:ut,useId:ut,useHostTransitionStatus:ut,useFormState:ut,useActionState:ut,useOptimistic:ut,useMemoCache:ut,useCacheRefresh:ut};Zo.useEffectEvent=ut;var Mp={readContext:Gt,use:Pc,useCallback:function(t,n){return rn().memoizedState=[t,n===void 0?null:n],t},useContext:Gt,useEffect:pp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,qc(4194308,4,bp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return qc(4194308,4,t,n)},useInsertionEffect:function(t,n){qc(4,2,t,n)},useMemo:function(t,n){var a=rn();n=n===void 0?null:n;var o=t();if(Dr){Tn(!0);try{t()}finally{Tn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=rn();if(a!==void 0){var h=a(n);if(Dr){Tn(!0);try{a(n)}finally{Tn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=NE.bind(null,Te,t),[o.memoizedState,t]},useRef:function(t){var n=rn();return t={current:t},n.memoizedState=t},useState:function(t){t=fd(t);var n=t.queue,a=Ip.bind(null,Te,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:pd,useDeferredValue:function(t,n){var a=rn();return yd(a,t,n)},useTransition:function(){var t=fd(!1);return t=Ap.bind(null,Te,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=Te,h=rn();if(Ve){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),et===null)throw Error(r(349));(Re&127)!==0||ep(o,n,a)}h.memoizedState=a;var d={value:a,getSnapshot:n};return h.queue=d,pp(np.bind(null,o,d,t),[t]),o.flags|=2048,wa(9,{destroy:void 0},tp.bind(null,o,d,a,n),null),a},useId:function(){var t=rn(),n=et.identifierPrefix;if(Ve){var a=bi,o=vi;a=(o&~(1<<32-dt(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Lc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=bE++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:vd,useFormState:hp,useActionState:hp,useOptimistic:function(t){var n=rn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=bd.bind(null,Te,!0,a),a.dispatch=n,[t,n]},useMemoCache:ud,useCacheRefresh:function(){return rn().memoizedState=wE.bind(null,Te)},useEffectEvent:function(t){var n=rn(),a={impl:t};return n.memoizedState=a,function(){if((Be&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Ed={readContext:Gt,use:Pc,useCallback:xp,useContext:Gt,useEffect:gd,useImperativeHandle:Ep,useInsertionEffect:_p,useLayoutEffect:vp,useMemo:Tp,useReducer:zc,useRef:gp,useState:function(){return zc(qi)},useDebugValue:pd,useDeferredValue:function(t,n){var a=gt();return Sp(a,Je.memoizedState,t,n)},useTransition:function(){var t=zc(qi)[0],n=gt().memoizedState;return[typeof t=="boolean"?t:$o(t),n]},useSyncExternalStore:Wg,useId:Cp,useHostTransitionStatus:vd,useFormState:dp,useActionState:dp,useOptimistic:function(t,n){var a=gt();return rp(a,Je,t,n)},useMemoCache:ud,useCacheRefresh:Rp};Ed.useEffectEvent=yp;var Op={readContext:Gt,use:Pc,useCallback:xp,useContext:Gt,useEffect:gd,useImperativeHandle:Ep,useInsertionEffect:_p,useLayoutEffect:vp,useMemo:Tp,useReducer:dd,useRef:gp,useState:function(){return dd(qi)},useDebugValue:pd,useDeferredValue:function(t,n){var a=gt();return Je===null?yd(a,t,n):Sp(a,Je.memoizedState,t,n)},useTransition:function(){var t=dd(qi)[0],n=gt().memoizedState;return[typeof t=="boolean"?t:$o(t),n]},useSyncExternalStore:Wg,useId:Cp,useHostTransitionStatus:vd,useFormState:mp,useActionState:mp,useOptimistic:function(t,n){var a=gt();return Je!==null?rp(a,Je,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ud,useCacheRefresh:Rp};Op.useEffectEvent=yp;function xd(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:T({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Td={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=xn(),h=xs(o);h.payload=n,a!=null&&(h.callback=a),n=Ts(t,h,o),n!==null&&(dn(n,t,o),Qo(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=xn(),h=xs(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Ts(t,h,o),n!==null&&(dn(n,t,o),Qo(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=xn(),o=xs(a);o.tag=2,n!=null&&(o.callback=n),n=Ts(t,o,a),n!==null&&(dn(n,t,a),Qo(n,t,a))}};function Vp(t,n,a,o,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,v):n.prototype&&n.prototype.isPureReactComponent?!Uo(a,o)||!Uo(h,d):!0}function kp(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&Td.enqueueReplaceState(n,n.state,null)}function jr(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Lp(t){Ec(t)}function Up(t){console.error(t)}function Pp(t){Ec(t)}function Fc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function zp(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Sd(t,n,a){return a=xs(a),a.tag=3,a.payload={element:null},a.callback=function(){Fc(t,n)},a}function qp(t){return t=xs(t),t.tag=3,t}function Bp(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;t.payload=function(){return h(d)},t.callback=function(){zp(n,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){zp(n,a,o),typeof h!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var x=o.stack;this.componentDidCatch(o.value,{componentStack:x!==null?x:""})})}function CE(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&_a(n,a,h,!0),a=_n.current,a!==null){switch(a.tag){case 31:case 13:return Mn===null?nu():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Dc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),Xd(t,o,h)),!1;case 22:return a.flags|=65536,o===Dc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),Xd(t,o,h)),!1}throw Error(r(435,a.tag))}return Xd(t,o,h),nu(),!1}if(Ve)return n=_n.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Hh&&(t=Error(r(422),{cause:o}),qo(Rn(t,a)))):(o!==Hh&&(n=Error(r(423),{cause:o}),qo(Rn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Rn(o,a),h=Sd(t.stateNode,o,h),ed(t,h),ht!==4&&(ht=2)),!1;var d=Error(r(520),{cause:o});if(d=Rn(d,a),al===null?al=[d]:al.push(d),ht!==4&&(ht=2),n===null)return!0;o=Rn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Sd(a.stateNode,o,t),ed(a,t),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Rs===null||!Rs.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=qp(h),Bp(h,t,a,o),ed(a,h),!1}a=a.return}while(a!==null);return!1}var Ad=Error(r(461)),St=!1;function Qt(t,n,a,o){n.child=t===null?Qg(n,null,a,o):Ir(n,t.child,a,o)}function Hp(t,n,a,o,h){a=a.render;var d=n.ref;if("ref"in o){var v={};for(var x in o)x!=="ref"&&(v[x]=o[x])}else v=o;return wr(n),o=ad(t,n,a,v,d,h),x=od(),t!==null&&!St?(ld(t,n,h),Bi(t,n,h)):(Ve&&x&&qh(n),n.flags|=1,Qt(t,n,o,h),n.child)}function Fp(t,n,a,o,h){if(t===null){var d=a.type;return typeof d=="function"&&!Uh(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,Gp(t,n,d,o,h)):(t=Ac(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!Md(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Uo,a(v,o)&&t.ref===n.ref)return Bi(t,n,h)}return n.flags|=1,t=ki(d,o),t.ref=n.ref,t.return=n,n.child=t}function Gp(t,n,a,o,h){if(t!==null){var d=t.memoizedProps;if(Uo(d,o)&&t.ref===n.ref)if(St=!1,n.pendingProps=o=d,Md(t,h))(t.flags&131072)!==0&&(St=!0);else return n.lanes=t.lanes,Bi(t,n,h)}return wd(t,n,a,o,h)}function Qp(t,n,a,o){var h=o.children,d=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~d}else o=0,n.child=null;return Yp(t,n,d,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Rc(n,d!==null?d.cachePool:null),d!==null?Xg(n,d):nd(),$g(n);else return o=n.lanes=536870912,Yp(t,n,d!==null?d.baseLanes|a:a,a,o)}else d!==null?(Rc(n,d.cachePool),Xg(n,d),As(),n.memoizedState=null):(t!==null&&Rc(n,null),nd(),As());return Qt(t,n,h,a),n.child}function Wo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Yp(t,n,a,o,h){var d=$h();return d=d===null?null:{parent:xt._currentValue,pool:d},n.memoizedState={baseLanes:a,cachePool:d},t!==null&&Rc(n,null),nd(),$g(n),t!==null&&_a(t,n,o,!0),n.childLanes=h,null}function Gc(t,n){return n=Yc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Kp(t,n,a){return Ir(n,t.child,null,a),t=Gc(n,n.pendingProps),t.flags|=2,vn(n),n.memoizedState=null,t}function RE(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ve){if(o.mode==="hidden")return t=Gc(n,o),n.lanes=536870912,Wo(null,t);if(sd(n),(t=nt)?(t=a0(t,jn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ys!==null?{id:vi,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=Dg(t),a.return=n,n.child=a,Ft=n,nt=null)):t=null,t===null)throw vs(n);return n.lanes=536870912,null}return Gc(n,o)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(sd(n),h)if(n.flags&256)n.flags&=-257,n=Kp(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(St||_a(t,n,a,!1),h=(a&t.childLanes)!==0,St||h){if(o=et,o!==null&&(v=bo(o,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,xr(t,v),dn(o,t,v),Ad;nu(),n=Kp(t,n,a)}else t=d.treeContext,nt=On(v.nextSibling),Ft=n,Ve=!0,_s=null,jn=!1,t!==null&&Og(n,t),n=Gc(n,o),n.flags|=4096;return n}return t=ki(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Qc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function wd(t,n,a,o,h){return wr(n),a=ad(t,n,a,o,void 0,h),o=od(),t!==null&&!St?(ld(t,n,h),Bi(t,n,h)):(Ve&&o&&qh(n),n.flags|=1,Qt(t,n,a,h),n.child)}function Xp(t,n,a,o,h,d){return wr(n),n.updateQueue=null,a=Zg(n,o,a,h),Jg(t),o=od(),t!==null&&!St?(ld(t,n,d),Bi(t,n,d)):(Ve&&o&&qh(n),n.flags|=1,Qt(t,n,a,d),n.child)}function $p(t,n,a,o,h){if(wr(n),n.stateNode===null){var d=ma,v=a.contextType;typeof v=="object"&&v!==null&&(d=Gt(v)),d=new a(o,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Td,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=o,d.state=n.memoizedState,d.refs={},Zh(n),v=a.contextType,d.context=typeof v=="object"&&v!==null?Gt(v):ma,d.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(xd(n,a,v,o),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Td.enqueueReplaceState(d,d.state,null),Ko(n,o,d,h),Yo(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){d=n.stateNode;var x=n.memoizedProps,C=jr(a,x);d.props=C;var P=d.context,G=a.contextType;v=ma,typeof G=="object"&&G!==null&&(v=Gt(G));var K=a.getDerivedStateFromProps;G=typeof K=="function"||typeof d.getSnapshotBeforeUpdate=="function",x=n.pendingProps!==x,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x||P!==v)&&kp(n,d,o,v),Es=!1;var z=n.memoizedState;d.state=z,Ko(n,o,d,h),Yo(),P=n.memoizedState,x||z!==P||Es?(typeof K=="function"&&(xd(n,a,K,o),P=n.memoizedState),(C=Es||Vp(n,a,C,o,z,P,v))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),d.props=o,d.state=P,d.context=v,o=C):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{d=n.stateNode,Wh(t,n),v=n.memoizedProps,G=jr(a,v),d.props=G,K=n.pendingProps,z=d.context,P=a.contextType,C=ma,typeof P=="object"&&P!==null&&(C=Gt(P)),x=a.getDerivedStateFromProps,(P=typeof x=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==K||z!==C)&&kp(n,d,o,C),Es=!1,z=n.memoizedState,d.state=z,Ko(n,o,d,h),Yo();var H=n.memoizedState;v!==K||z!==H||Es||t!==null&&t.dependencies!==null&&Nc(t.dependencies)?(typeof x=="function"&&(xd(n,a,x,o),H=n.memoizedState),(G=Es||Vp(n,a,G,o,z,H,C)||t!==null&&t.dependencies!==null&&Nc(t.dependencies))?(P||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,H,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,H,C)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),d.props=o,d.state=H,d.context=C,o=G):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),o=!1)}return d=o,Qc(t,n),o=(n.flags&128)!==0,d||o?(d=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&o?(n.child=Ir(n,t.child,null,h),n.child=Ir(n,null,a,h)):Qt(t,n,a,h),n.memoizedState=d.state,t=n.child):t=Bi(t,n,h),t}function Jp(t,n,a,o){return Sr(),n.flags|=256,Qt(t,n,a,o),n.child}var Nd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cd(t){return{baseLanes:t,cachePool:zg()}}function Rd(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=En),t}function Zp(t,n,a){var o=n.pendingProps,h=!1,d=(n.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(mt.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ve){if(h?Ss(n):As(),(t=nt)?(t=a0(t,jn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ys!==null?{id:vi,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=Dg(t),a.return=n,n.child=a,Ft=n,nt=null)):t=null,t===null)throw vs(n);return df(t)?n.lanes=32:n.lanes=536870912,null}var x=o.children;return o=o.fallback,h?(As(),h=n.mode,x=Yc({mode:"hidden",children:x},h),o=Tr(o,h,a,null),x.return=n,o.return=n,x.sibling=o,n.child=x,o=n.child,o.memoizedState=Cd(a),o.childLanes=Rd(t,v,a),n.memoizedState=Nd,Wo(null,o)):(Ss(n),Id(n,x))}var C=t.memoizedState;if(C!==null&&(x=C.dehydrated,x!==null)){if(d)n.flags&256?(Ss(n),n.flags&=-257,n=Dd(t,n,a)):n.memoizedState!==null?(As(),n.child=t.child,n.flags|=128,n=null):(As(),x=o.fallback,h=n.mode,o=Yc({mode:"visible",children:o.children},h),x=Tr(x,h,a,null),x.flags|=2,o.return=n,x.return=n,o.sibling=x,n.child=o,Ir(n,t.child,null,a),o=n.child,o.memoizedState=Cd(a),o.childLanes=Rd(t,v,a),n.memoizedState=Nd,n=Wo(null,o));else if(Ss(n),df(x)){if(v=x.nextSibling&&x.nextSibling.dataset,v)var P=v.dgst;v=P,o=Error(r(419)),o.stack="",o.digest=v,qo({value:o,source:null,stack:null}),n=Dd(t,n,a)}else if(St||_a(t,n,a,!1),v=(a&t.childLanes)!==0,St||v){if(v=et,v!==null&&(o=bo(v,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,xr(t,o),dn(v,t,o),Ad;hf(x)||nu(),n=Dd(t,n,a)}else hf(x)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,nt=On(x.nextSibling),Ft=n,Ve=!0,_s=null,jn=!1,t!==null&&Og(n,t),n=Id(n,o.children),n.flags|=4096);return n}return h?(As(),x=o.fallback,h=n.mode,C=t.child,P=C.sibling,o=ki(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,P!==null?x=ki(P,x):(x=Tr(x,h,a,null),x.flags|=2),x.return=n,o.return=n,o.sibling=x,n.child=o,Wo(null,o),o=n.child,x=t.child.memoizedState,x===null?x=Cd(a):(h=x.cachePool,h!==null?(C=xt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=zg(),x={baseLanes:x.baseLanes|a,cachePool:h}),o.memoizedState=x,o.childLanes=Rd(t,v,a),n.memoizedState=Nd,Wo(t.child,o)):(Ss(n),a=t.child,t=a.sibling,a=ki(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=a,n.memoizedState=null,a)}function Id(t,n){return n=Yc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Yc(t,n){return t=yn(22,t,null,n),t.lanes=0,t}function Dd(t,n,a){return Ir(n,t.child,null,a),t=Id(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Wp(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Qh(t.return,n,a)}function jd(t,n,a,o,h,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:d}:(v.isBackwards=n,v.rendering=null,v.renderingStartTime=0,v.last=o,v.tail=a,v.tailMode=h,v.treeForkCount=d)}function ey(t,n,a){var o=n.pendingProps,h=o.revealOrder,d=o.tail;o=o.children;var v=mt.current,x=(v&2)!==0;if(x?(v=v&1|2,n.flags|=128):v&=1,ie(mt,v),Qt(t,n,o,a),o=Ve?zo:0,!x&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wp(t,a,n);else if(t.tag===19)Wp(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Vc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),jd(n,!1,h,a,d,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Vc(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}jd(n,!0,a,null,d,o);break;case"together":jd(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Bi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Cs|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(_a(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=ki(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=ki(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Md(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Nc(t)))}function IE(t,n,a){switch(n.tag){case 3:jt(n,n.stateNode.containerInfo),bs(n,xt,t.memoizedState.cache),Sr();break;case 27:case 5:sr(n);break;case 4:jt(n,n.stateNode.containerInfo);break;case 10:bs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,sd(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ss(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Zp(t,n,a):(Ss(n),t=Bi(t,n,a),t!==null?t.sibling:null);Ss(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(_a(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return ey(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(mt,mt.current),o)break;return null;case 22:return n.lanes=0,Qp(t,n,a,n.pendingProps);case 24:bs(n,xt,t.memoizedState.cache)}return Bi(t,n,a)}function ty(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)St=!0;else{if(!Md(t,a)&&(n.flags&128)===0)return St=!1,IE(t,n,a);St=(t.flags&131072)!==0}else St=!1,Ve&&(n.flags&1048576)!==0&&Mg(n,zo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Cr(n.elementType),n.type=t,typeof t=="function")Uh(t)?(o=jr(t,o),n.tag=1,n=$p(null,n,t,o,a)):(n.tag=0,n=wd(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===we){n.tag=11,n=Hp(null,n,t,o,a);break e}else if(h===I){n.tag=14,n=Fp(null,n,t,o,a);break e}}throw n=rt(t)||t,Error(r(306,n,""))}}return n;case 0:return wd(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=jr(o,n.pendingProps),$p(t,n,o,h,a);case 3:e:{if(jt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var d=n.memoizedState;h=d.element,Wh(t,n),Ko(n,o,null,a);var v=n.memoizedState;if(o=v.cache,bs(n,xt,o),o!==d.cache&&Yh(n,[xt],a,!0),Yo(),o=v.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=Jp(t,n,o,a);break e}else if(o!==h){h=Rn(Error(r(424)),n),qo(h),n=Jp(t,n,o,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(nt=On(t.firstChild),Ft=n,Ve=!0,_s=null,jn=!0,a=Qg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Sr(),o===h){n=Bi(t,n,a);break e}Qt(t,n,o,a)}n=n.child}return n;case 26:return Qc(t,n),t===null?(a=d0(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ve||(a=n.type,t=n.pendingProps,o=cu(Se.current).createElement(a),o[vt]=n,o[Lt]=t,Yt(o,a,t),bt(o),n.stateNode=o):n.memoizedState=d0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return sr(n),t===null&&Ve&&(o=n.stateNode=c0(n.type,n.pendingProps,Se.current),Ft=n,jn=!0,h=nt,Ms(n.type)?(ff=h,nt=On(o.firstChild)):nt=h),Qt(t,n,n.pendingProps.children,a),Qc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ve&&((h=o=nt)&&(o=ax(o,n.type,n.pendingProps,jn),o!==null?(n.stateNode=o,Ft=n,nt=On(o.firstChild),jn=!1,h=!0):h=!1),h||vs(n)),sr(n),h=n.type,d=n.pendingProps,v=t!==null?t.memoizedProps:null,o=d.children,lf(h,d)?o=null:v!==null&&lf(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=ad(t,n,EE,null,null,a),ml._currentValue=h),Qc(t,n),Qt(t,n,o,a),n.child;case 6:return t===null&&Ve&&((t=a=nt)&&(a=ox(a,n.pendingProps,jn),a!==null?(n.stateNode=a,Ft=n,nt=null,t=!0):t=!1),t||vs(n)),null;case 13:return Zp(t,n,a);case 4:return jt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Ir(n,null,o,a):Qt(t,n,o,a),n.child;case 11:return Hp(t,n,n.type,n.pendingProps,a);case 7:return Qt(t,n,n.pendingProps,a),n.child;case 8:return Qt(t,n,n.pendingProps.children,a),n.child;case 12:return Qt(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,bs(n,n.type,o.value),Qt(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,wr(n),h=Gt(h),o=o(h),n.flags|=1,Qt(t,n,o,a),n.child;case 14:return Fp(t,n,n.type,n.pendingProps,a);case 15:return Gp(t,n,n.type,n.pendingProps,a);case 19:return ey(t,n,a);case 31:return RE(t,n,a);case 22:return Qp(t,n,a,n.pendingProps);case 24:return wr(n),o=Gt(xt),t===null?(h=$h(),h===null&&(h=et,d=Kh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),n.memoizedState={parent:o,cache:h},Zh(n),bs(n,xt,h)):((t.lanes&a)!==0&&(Wh(t,n),Ko(n,null,null,a),Yo()),h=t.memoizedState,d=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),bs(n,xt,o)):(o=d.cache,bs(n,xt,o),o!==h.cache&&Yh(n,[xt],a,!0))),Qt(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Hi(t){t.flags|=4}function Od(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Cy())t.flags|=8192;else throw Rr=Dc,Jh}else t.flags&=-16777217}function ny(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!y0(n))if(Cy())t.flags|=8192;else throw Rr=Dc,Jh}function Kc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ec():536870912,t.lanes|=n,Ia|=n)}function el(t,n){if(!Ve)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function it(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function DE(t,n,a){var o=n.pendingProps;switch(Bh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(n),null;case 1:return it(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Pi(xt),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ya(n)?Hi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Fh())),it(n),null;case 26:var h=n.type,d=n.memoizedState;return t===null?(Hi(n),d!==null?(it(n),ny(n,d)):(it(n),Od(n,h,null,o,a))):d?d!==t.memoizedState?(Hi(n),it(n),ny(n,d)):(it(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&Hi(n),it(n),Od(n,h,t,o,a)),null;case 27:if(Xr(n),a=Se.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Hi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return it(n),null}t=oe.current,ya(n)?Vg(n):(t=c0(h,o,a),n.stateNode=t,Hi(n))}return it(n),null;case 5:if(Xr(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Hi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return it(n),null}if(d=oe.current,ya(n))Vg(n);else{var v=cu(Se.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?v.createElement("select",{is:o.is}):v.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?v.createElement(h,{is:o.is}):v.createElement(h)}}d[vt]=n,d[Lt]=o;e:for(v=n.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===n)break e;for(;v.sibling===null;){if(v.return===null||v.return===n)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}n.stateNode=d;e:switch(Yt(d,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Hi(n)}}return it(n),Od(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&Hi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=Se.current,ya(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=Ft,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[vt]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Zy(t.nodeValue,a)),t||vs(n,!0)}else t=cu(t).createTextNode(o),t[vt]=n,n.stateNode=t}return it(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=ya(n),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[vt]=n}else Sr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;it(n),t=!1}else a=Fh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(vn(n),n):(vn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return it(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ya(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[vt]=n}else Sr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;it(n),h=!1}else h=Fh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(vn(n),n):(vn(n),null)}return vn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),Kc(n,n.updateQueue),it(n),null);case 4:return at(),t===null&&nf(n.stateNode.containerInfo),it(n),null;case 10:return Pi(n.type),it(n),null;case 19:if(X(mt),o=n.memoizedState,o===null)return it(n),null;if(h=(n.flags&128)!==0,d=o.rendering,d===null)if(h)el(o,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=Vc(t),d!==null){for(n.flags|=128,el(o,!1),t=d.updateQueue,n.updateQueue=t,Kc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Ig(a,t),a=a.sibling;return ie(mt,mt.current&1|2),Ve&&Li(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&nn()>Wc&&(n.flags|=128,h=!0,el(o,!1),n.lanes=4194304)}else{if(!h)if(t=Vc(d),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Kc(n,t),el(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!Ve)return it(n),null}else 2*nn()-o.renderingStartTime>Wc&&a!==536870912&&(n.flags|=128,h=!0,el(o,!1),n.lanes=4194304);o.isBackwards?(d.sibling=n.child,n.child=d):(t=o.last,t!==null?t.sibling=d:n.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=nn(),t.sibling=null,a=mt.current,ie(mt,h?a&1|2:a&1),Ve&&Li(n,o.treeForkCount),t):(it(n),null);case 22:case 23:return vn(n),id(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(it(n),n.subtreeFlags&6&&(n.flags|=8192)):it(n),a=n.updateQueue,a!==null&&Kc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&X(Nr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Pi(xt),it(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function jE(t,n){switch(Bh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Pi(xt),at(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Xr(n),null;case 31:if(n.memoizedState!==null){if(vn(n),n.alternate===null)throw Error(r(340));Sr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(vn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Sr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return X(mt),null;case 4:return at(),null;case 10:return Pi(n.type),null;case 22:case 23:return vn(n),id(),t!==null&&X(Nr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Pi(xt),null;case 25:return null;default:return null}}function iy(t,n){switch(Bh(n),n.tag){case 3:Pi(xt),at();break;case 26:case 27:case 5:Xr(n);break;case 4:at();break;case 31:n.memoizedState!==null&&vn(n);break;case 13:vn(n);break;case 19:X(mt);break;case 10:Pi(n.type);break;case 22:case 23:vn(n),id(),t!==null&&X(Nr);break;case 24:Pi(xt)}}function tl(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var d=a.create,v=a.inst;o=d(),v.destroy=o}a=a.next}while(a!==h)}}catch(x){Ke(n,n.return,x)}}function ws(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&t)===t){var v=o.inst,x=v.destroy;if(x!==void 0){v.destroy=void 0,h=n;var C=a,P=x;try{P()}catch(G){Ke(h,C,G)}}}o=o.next}while(o!==d)}}catch(G){Ke(n,n.return,G)}}function sy(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Kg(n,a)}catch(o){Ke(t,t.return,o)}}}function ry(t,n,a){a.props=jr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Ke(t,n,o)}}function nl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){Ke(t,n,h)}}function Ei(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Ke(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ke(t,n,h)}else a.current=null}function ay(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Ke(t,t.return,h)}}function Vd(t,n,a){try{var o=t.stateNode;ex(o,t.type,a,n),o[Lt]=n}catch(h){Ke(t,t.return,h)}}function oy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ms(t.type)||t.tag===4}function kd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||oy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ms(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ld(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Hn));else if(o!==4&&(o===27&&Ms(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Ld(t,n,a),t=t.sibling;t!==null;)Ld(t,n,a),t=t.sibling}function Xc(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&Ms(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Xc(t,n,a),t=t.sibling;t!==null;)Xc(t,n,a),t=t.sibling}function ly(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Yt(n,o,a),n[vt]=t,n[Lt]=a}catch(d){Ke(t,t.return,d)}}var Fi=!1,At=!1,Ud=!1,cy=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function ME(t,n){if(t=t.containerInfo,af=pu,t=Eg(t),Dh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,x=-1,C=-1,P=0,G=0,K=t,z=null;t:for(;;){for(var H;K!==a||h!==0&&K.nodeType!==3||(x=v+h),K!==d||o!==0&&K.nodeType!==3||(C=v+o),K.nodeType===3&&(v+=K.nodeValue.length),(H=K.firstChild)!==null;)z=K,K=H;for(;;){if(K===t)break t;if(z===a&&++P===h&&(x=v),z===d&&++G===o&&(C=v),(H=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=H}a=x===-1||C===-1?null:{start:x,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(of={focusedElem:t,selectionRange:a},pu=!1,Pt=n;Pt!==null;)if(n=Pt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Pt=t;else for(;Pt!==null;){switch(n=Pt,d=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=n,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var le=jr(a.type,h);t=o.getSnapshotBeforeUpdate(le,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(ge){Ke(a,a.return,ge)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)uf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":uf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Pt=t;break}Pt=n.return}}function uy(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Qi(t,a),o&4&&tl(5,a);break;case 1:if(Qi(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(v){Ke(a,a.return,v)}else{var h=jr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Ke(a,a.return,v)}}o&64&&sy(a),o&512&&nl(a,a.return);break;case 3:if(Qi(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Kg(t,n)}catch(v){Ke(a,a.return,v)}}break;case 27:n===null&&o&4&&ly(a);case 26:case 5:Qi(t,a),n===null&&o&4&&ay(a),o&512&&nl(a,a.return);break;case 12:Qi(t,a);break;case 31:Qi(t,a),o&4&&fy(t,a);break;case 13:Qi(t,a),o&4&&my(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=BE.bind(null,a),lx(t,a))));break;case 22:if(o=a.memoizedState!==null||Fi,!o){n=n!==null&&n.memoizedState!==null||At,h=Fi;var d=At;Fi=o,(At=n)&&!d?Yi(t,a,(a.subtreeFlags&8772)!==0):Qi(t,a),Fi=h,At=d}break;case 30:break;default:Qi(t,a)}}function hy(t){var n=t.alternate;n!==null&&(t.alternate=null,hy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ea(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,ln=!1;function Gi(t,n,a){for(a=a.child;a!==null;)dy(t,n,a),a=a.sibling}function dy(t,n,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Pn,a)}catch{}switch(a.tag){case 26:At||Ei(a,n),Gi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:At||Ei(a,n);var o=lt,h=ln;Ms(a.type)&&(lt=a.stateNode,ln=!1),Gi(t,n,a),hl(a.stateNode),lt=o,ln=h;break;case 5:At||Ei(a,n);case 6:if(o=lt,h=ln,lt=null,Gi(t,n,a),lt=o,ln=h,lt!==null)if(ln)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(d){Ke(a,n,d)}else try{lt.removeChild(a.stateNode)}catch(d){Ke(a,n,d)}break;case 18:lt!==null&&(ln?(t=lt,s0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ua(t)):s0(lt,a.stateNode));break;case 4:o=lt,h=ln,lt=a.stateNode.containerInfo,ln=!0,Gi(t,n,a),lt=o,ln=h;break;case 0:case 11:case 14:case 15:ws(2,a,n),At||ws(4,a,n),Gi(t,n,a);break;case 1:At||(Ei(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&ry(a,n,o)),Gi(t,n,a);break;case 21:Gi(t,n,a);break;case 22:At=(o=At)||a.memoizedState!==null,Gi(t,n,a),At=o;break;default:Gi(t,n,a)}}function fy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ua(t)}catch(a){Ke(n,n.return,a)}}}function my(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ua(t)}catch(a){Ke(n,n.return,a)}}function OE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new cy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new cy),n;default:throw Error(r(435,t.tag))}}function $c(t,n){var a=OE(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=HE.bind(null,t,o);o.then(h,h)}})}function cn(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=t,v=n,x=v;e:for(;x!==null;){switch(x.tag){case 27:if(Ms(x.type)){lt=x.stateNode,ln=!1;break e}break;case 5:lt=x.stateNode,ln=!1;break e;case 3:case 4:lt=x.stateNode.containerInfo,ln=!0;break e}x=x.return}if(lt===null)throw Error(r(160));dy(d,v,h),lt=null,ln=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)gy(n,t),n=n.sibling}var Xn=null;function gy(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(n,t),un(t),o&4&&(ws(3,t,t.return),tl(3,t),ws(5,t,t.return));break;case 1:cn(n,t),un(t),o&512&&(At||a===null||Ei(a,a.return)),o&64&&Fi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Xn;if(cn(n,t),un(t),o&512&&(At||a===null||Ei(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[oi]||d[vt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),Yt(d,o,a),d[vt]=t,bt(d),o=d;break e;case"link":var v=g0("link","href",h).get(o+(a.href||""));if(v){for(var x=0;x<v.length;x++)if(d=v[x],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(x,1);break t}}d=h.createElement(o),Yt(d,o,a),h.head.appendChild(d);break;case"meta":if(v=g0("meta","content",h).get(o+(a.content||""))){for(x=0;x<v.length;x++)if(d=v[x],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(x,1);break t}}d=h.createElement(o),Yt(d,o,a),h.head.appendChild(d);break;default:throw Error(r(468,o))}d[vt]=t,bt(d),o=d}t.stateNode=o}else p0(h,t.type,t.stateNode);else t.stateNode=m0(h,o,t.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?p0(h,t.type,t.stateNode):m0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Vd(t,t.memoizedProps,a.memoizedProps)}break;case 27:cn(n,t),un(t),o&512&&(At||a===null||Ei(a,a.return)),a!==null&&o&4&&Vd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(cn(n,t),un(t),o&512&&(At||a===null||Ei(a,a.return)),t.flags&32){h=t.stateNode;try{on(h,"")}catch(le){Ke(t,t.return,le)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Vd(t,h,a!==null?a.memoizedProps:h)),o&1024&&(Ud=!0);break;case 6:if(cn(n,t),un(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(le){Ke(t,t.return,le)}}break;case 3:if(du=null,h=Xn,Xn=uu(n.containerInfo),cn(n,t),Xn=h,un(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ua(n.containerInfo)}catch(le){Ke(t,t.return,le)}Ud&&(Ud=!1,py(t));break;case 4:o=Xn,Xn=uu(t.stateNode.containerInfo),cn(n,t),un(t),Xn=o;break;case 12:cn(n,t),un(t);break;case 31:cn(n,t),un(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,$c(t,o)));break;case 13:cn(n,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Zc=nn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,$c(t,o)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,P=Fi,G=At;if(Fi=P||h,At=G||C,cn(n,t),At=G,Fi=P,un(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||C||Fi||At||Mr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(d=C.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{x=C.stateNode;var K=C.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null;x.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(le){Ke(C,C.return,le)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(le){Ke(C,C.return,le)}}}else if(n.tag===18){if(a===null){C=n;try{var H=C.stateNode;h?r0(H,!0):r0(C.stateNode,!1)}catch(le){Ke(C,C.return,le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,$c(t,a))));break;case 19:cn(n,t),un(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,$c(t,o)));break;case 30:break;case 21:break;default:cn(n,t),un(t)}}function un(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(oy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=kd(t);Xc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(on(v,""),a.flags&=-33);var x=kd(t);Xc(t,x,v);break;case 3:case 4:var C=a.stateNode.containerInfo,P=kd(t);Ld(t,P,C);break;default:throw Error(r(161))}}catch(G){Ke(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function py(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;py(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Qi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)uy(t,n.alternate,n),n=n.sibling}function Mr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ws(4,n,n.return),Mr(n);break;case 1:Ei(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&ry(n,n.return,a),Mr(n);break;case 27:hl(n.stateNode);case 26:case 5:Ei(n,n.return),Mr(n);break;case 22:n.memoizedState===null&&Mr(n);break;case 30:Mr(n);break;default:Mr(n)}t=t.sibling}}function Yi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,d=n,v=d.flags;switch(d.tag){case 0:case 11:case 15:Yi(h,d,a),tl(4,d);break;case 1:if(Yi(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Ke(o,o.return,P)}if(o=d,h=o.updateQueue,h!==null){var x=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Yg(C[h],x)}catch(P){Ke(o,o.return,P)}}a&&v&64&&sy(d),nl(d,d.return);break;case 27:ly(d);case 26:case 5:Yi(h,d,a),a&&o===null&&v&4&&ay(d),nl(d,d.return);break;case 12:Yi(h,d,a);break;case 31:Yi(h,d,a),a&&v&4&&fy(h,d);break;case 13:Yi(h,d,a),a&&v&4&&my(h,d);break;case 22:d.memoizedState===null&&Yi(h,d,a),nl(d,d.return);break;case 30:break;default:Yi(h,d,a)}n=n.sibling}}function Pd(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Bo(a))}function zd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Bo(t))}function $n(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)yy(t,n,a,o),n=n.sibling}function yy(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:$n(t,n,a,o),h&2048&&tl(9,n);break;case 1:$n(t,n,a,o);break;case 3:$n(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Bo(t)));break;case 12:if(h&2048){$n(t,n,a,o),t=n.stateNode;try{var d=n.memoizedProps,v=d.id,x=d.onPostCommit;typeof x=="function"&&x(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Ke(n,n.return,C)}}else $n(t,n,a,o);break;case 31:$n(t,n,a,o);break;case 13:$n(t,n,a,o);break;case 23:break;case 22:d=n.stateNode,v=n.alternate,n.memoizedState!==null?d._visibility&2?$n(t,n,a,o):il(t,n):d._visibility&2?$n(t,n,a,o):(d._visibility|=2,Na(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Pd(v,n);break;case 24:$n(t,n,a,o),h&2048&&zd(n.alternate,n);break;default:$n(t,n,a,o)}}function Na(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=t,v=n,x=a,C=o,P=v.flags;switch(v.tag){case 0:case 11:case 15:Na(d,v,x,C,h),tl(8,v);break;case 23:break;case 22:var G=v.stateNode;v.memoizedState!==null?G._visibility&2?Na(d,v,x,C,h):il(d,v):(G._visibility|=2,Na(d,v,x,C,h)),h&&P&2048&&Pd(v.alternate,v);break;case 24:Na(d,v,x,C,h),h&&P&2048&&zd(v.alternate,v);break;default:Na(d,v,x,C,h)}n=n.sibling}}function il(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:il(a,o),h&2048&&Pd(o.alternate,o);break;case 24:il(a,o),h&2048&&zd(o.alternate,o);break;default:il(a,o)}n=n.sibling}}var sl=8192;function Ca(t,n,a){if(t.subtreeFlags&sl)for(t=t.child;t!==null;)_y(t,n,a),t=t.sibling}function _y(t,n,a){switch(t.tag){case 26:Ca(t,n,a),t.flags&sl&&t.memoizedState!==null&&bx(a,Xn,t.memoizedState,t.memoizedProps);break;case 5:Ca(t,n,a);break;case 3:case 4:var o=Xn;Xn=uu(t.stateNode.containerInfo),Ca(t,n,a),Xn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=sl,sl=16777216,Ca(t,n,a),sl=o):Ca(t,n,a));break;default:Ca(t,n,a)}}function vy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function rl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Pt=o,Ey(o,t)}vy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)by(t),t=t.sibling}function by(t){switch(t.tag){case 0:case 11:case 15:rl(t),t.flags&2048&&ws(9,t,t.return);break;case 3:rl(t);break;case 12:rl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Jc(t)):rl(t);break;default:rl(t)}}function Jc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Pt=o,Ey(o,t)}vy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ws(8,n,n.return),Jc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Jc(n));break;default:Jc(n)}t=t.sibling}}function Ey(t,n){for(;Pt!==null;){var a=Pt;switch(a.tag){case 0:case 11:case 15:ws(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Bo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Pt=o;else e:for(a=t;Pt!==null;){o=Pt;var h=o.sibling,d=o.return;if(hy(o),o===a){Pt=null;break e}if(h!==null){h.return=d,Pt=h;break e}Pt=d}}}var VE={getCacheForType:function(t){var n=Gt(xt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Gt(xt).controller.signal}},kE=typeof WeakMap=="function"?WeakMap:Map,Be=0,et=null,Ne=null,Re=0,Ye=0,bn=null,Ns=!1,Ra=!1,qd=!1,Ki=0,ht=0,Cs=0,Or=0,Bd=0,En=0,Ia=0,al=null,hn=null,Hd=!1,Zc=0,xy=0,Wc=1/0,eu=null,Rs=null,Ot=0,Is=null,Da=null,Xi=0,Fd=0,Gd=null,Ty=null,ol=0,Qd=null;function xn(){return(Be&2)!==0&&Re!==0?Re&-Re:Q.T!==null?Zd():tc()}function Sy(){if(En===0)if((Re&536870912)===0||Ve){var t=or;or<<=1,(or&3932160)===0&&(or=262144),En=t}else En=536870912;return t=_n.current,t!==null&&(t.flags|=32),En}function dn(t,n,a){(t===et&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(ja(t,0),Ds(t,Re,En,!1)),lr(t,a),((Be&2)===0||t!==et)&&(t===et&&((Be&2)===0&&(Or|=a),ht===4&&Ds(t,Re,En,!1)),xi(t))}function Ay(t,n,a){if((Be&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||zn(t,n),h=o?PE(t,n):Kd(t,n,!0),d=o;do{if(h===0){Ra&&!o&&Ds(t,n,0,!1);break}else{if(a=t.current.alternate,d&&!LE(a)){h=Kd(t,n,!1),d=!1;continue}if(h===2){if(d=n,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;e:{var x=t;h=al;var C=x.current.memoizedState.isDehydrated;if(C&&(ja(x,v).flags|=256),v=Kd(x,v,!1),v!==2){if(qd&&!C){x.errorRecoveryDisabledLanes|=d,Or|=d,h=4;break e}d=hn,hn=h,d!==null&&(hn===null?hn=d:hn.push.apply(hn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){ja(t,0),Ds(t,n,0,!0);break}e:{switch(o=t,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ds(o,n,En,!Ns);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=Zc+300-nn(),10<h)){if(Ds(o,n,En,!Ns),si(o,0,!0)!==0)break e;Xi=n,o.timeoutHandle=n0(wy.bind(null,o,a,hn,eu,Hd,n,En,Or,Ia,Ns,d,"Throttled",-0,0),h);break e}wy(o,a,hn,eu,Hd,n,En,Or,Ia,Ns,d,null,-0,0)}}break}while(!0);xi(t)}function wy(t,n,a,o,h,d,v,x,C,P,G,K,z,H){if(t.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},_y(n,d,K);var le=(d&62914560)===d?Zc-nn():(d&4194048)===d?xy-nn():0;if(le=Ex(K,le),le!==null){Xi=d,t.cancelPendingCommit=le(Oy.bind(null,t,n,d,a,o,h,v,x,C,G,K,null,z,H)),Ds(t,d,v,!P);return}}Oy(t,n,d,a,o,h,v,x,C)}function LE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!pn(d(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ds(t,n,a,o){n&=~Bd,n&=~Or,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var d=31-dt(h),v=1<<d;o[d]=-1,h&=~v}a!==0&&cr(t,a,n)}function tu(){return(Be&6)===0?(ll(0),!1):!0}function Yd(){if(Ne!==null){if(Ye===0)var t=Ne.return;else t=Ne,Ui=Ar=null,cd(t),xa=null,Fo=0,t=Ne;for(;t!==null;)iy(t.alternate,t),t=t.return;Ne=null}}function ja(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,ix(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Xi=0,Yd(),et=t,Ne=a=ki(t.current,null),Re=n,Ye=0,bn=null,Ns=!1,Ra=zn(t,n),qd=!1,Ia=En=Bd=Or=Cs=ht=0,hn=al=null,Hd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-dt(o),d=1<<h;n|=t[h],o&=~d}return Ki=n,xc(),a}function Ny(t,n){Te=null,Q.H=Zo,n===Ea||n===Ic?(n=Hg(),Ye=3):n===Jh?(n=Hg(),Ye=4):Ye=n===Ad?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,bn=n,Ne===null&&(ht=1,Fc(t,Rn(n,t.current)))}function Cy(){var t=_n.current;return t===null?!0:(Re&4194048)===Re?Mn===null:(Re&62914560)===Re||(Re&536870912)!==0?t===Mn:!1}function Ry(){var t=Q.H;return Q.H=Zo,t===null?Zo:t}function Iy(){var t=Q.A;return Q.A=VE,t}function nu(){ht=4,Ns||(Re&4194048)!==Re&&_n.current!==null||(Ra=!0),(Cs&134217727)===0&&(Or&134217727)===0||et===null||Ds(et,Re,En,!1)}function Kd(t,n,a){var o=Be;Be|=2;var h=Ry(),d=Iy();(et!==t||Re!==n)&&(eu=null,ja(t,n)),n=!1;var v=ht;e:do try{if(Ye!==0&&Ne!==null){var x=Ne,C=bn;switch(Ye){case 8:Yd(),v=6;break e;case 3:case 2:case 9:case 6:_n.current===null&&(n=!0);var P=Ye;if(Ye=0,bn=null,Ma(t,x,C,P),a&&Ra){v=0;break e}break;default:P=Ye,Ye=0,bn=null,Ma(t,x,C,P)}}UE(),v=ht;break}catch(G){Ny(t,G)}while(!0);return n&&t.shellSuspendCounter++,Ui=Ar=null,Be=o,Q.H=h,Q.A=d,Ne===null&&(et=null,Re=0,xc()),v}function UE(){for(;Ne!==null;)Dy(Ne)}function PE(t,n){var a=Be;Be|=2;var o=Ry(),h=Iy();et!==t||Re!==n?(eu=null,Wc=nn()+500,ja(t,n)):Ra=zn(t,n);e:do try{if(Ye!==0&&Ne!==null){n=Ne;var d=bn;t:switch(Ye){case 1:Ye=0,bn=null,Ma(t,n,d,1);break;case 2:case 9:if(qg(d)){Ye=0,bn=null,jy(n);break}n=function(){Ye!==2&&Ye!==9||et!==t||(Ye=7),xi(t)},d.then(n,n);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:qg(d)?(Ye=0,bn=null,jy(n)):(Ye=0,bn=null,Ma(t,n,d,7));break;case 5:var v=null;switch(Ne.tag){case 26:v=Ne.memoizedState;case 5:case 27:var x=Ne;if(v?y0(v):x.stateNode.complete){Ye=0,bn=null;var C=x.sibling;if(C!==null)Ne=C;else{var P=x.return;P!==null?(Ne=P,iu(P)):Ne=null}break t}}Ye=0,bn=null,Ma(t,n,d,5);break;case 6:Ye=0,bn=null,Ma(t,n,d,6);break;case 8:Yd(),ht=6;break e;default:throw Error(r(462))}}zE();break}catch(G){Ny(t,G)}while(!0);return Ui=Ar=null,Q.H=o,Q.A=h,Be=a,Ne!==null?0:(et=null,Re=0,xc(),ht)}function zE(){for(;Ne!==null&&!Sh();)Dy(Ne)}function Dy(t){var n=ty(t.alternate,t,Ki);t.memoizedProps=t.pendingProps,n===null?iu(t):Ne=n}function jy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Xp(a,n,n.pendingProps,n.type,void 0,Re);break;case 11:n=Xp(a,n,n.pendingProps,n.type.render,n.ref,Re);break;case 5:cd(n);default:iy(a,n),n=Ne=Ig(n,Ki),n=ty(a,n,Ki)}t.memoizedProps=t.pendingProps,n===null?iu(t):Ne=n}function Ma(t,n,a,o){Ui=Ar=null,cd(n),xa=null,Fo=0;var h=n.return;try{if(CE(t,h,n,a,Re)){ht=1,Fc(t,Rn(a,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;ht=1,Fc(t,Rn(a,t.current)),Ne=null;return}n.flags&32768?(Ve||o===1?t=!0:Ra||(Re&536870912)!==0?t=!1:(Ns=t=!0,(o===2||o===9||o===3||o===6)&&(o=_n.current,o!==null&&o.tag===13&&(o.flags|=16384))),My(n,t)):iu(n)}function iu(t){var n=t;do{if((n.flags&32768)!==0){My(n,Ns);return}t=n.return;var a=DE(n.alternate,n,Ki);if(a!==null){Ne=a;return}if(n=n.sibling,n!==null){Ne=n;return}Ne=n=t}while(n!==null);ht===0&&(ht=5)}function My(t,n){do{var a=jE(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ht=6,Ne=null}function Oy(t,n,a,o,h,d,v,x,C){t.cancelPendingCommit=null;do su();while(Ot!==0);if((Be&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(d=n.lanes|n.childLanes,d|=kh,Nh(t,a,d,v,x,C),t===et&&(Ne=et=null,Re=0),Da=n,Is=t,Xi=a,Fd=d,Gd=h,Ty=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,FE(os,function(){return Py(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null,h=ne.p,ne.p=2,v=Be,Be|=4;try{ME(t,n,a)}finally{Be=v,ne.p=h,Q.T=o}}Ot=1,Vy(),ky(),Ly()}}function Vy(){if(Ot===1){Ot=0;var t=Is,n=Da,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var o=ne.p;ne.p=2;var h=Be;Be|=4;try{gy(n,t);var d=of,v=Eg(t.containerInfo),x=d.focusedElem,C=d.selectionRange;if(v!==x&&x&&x.ownerDocument&&bg(x.ownerDocument.documentElement,x)){if(C!==null&&Dh(x)){var P=C.start,G=C.end;if(G===void 0&&(G=P),"selectionStart"in x)x.selectionStart=P,x.selectionEnd=Math.min(G,x.value.length);else{var K=x.ownerDocument||document,z=K&&K.defaultView||window;if(z.getSelection){var H=z.getSelection(),le=x.textContent.length,ge=Math.min(C.start,le),We=C.end===void 0?ge:Math.min(C.end,le);!H.extend&&ge>We&&(v=We,We=ge,ge=v);var V=vg(x,ge),D=vg(x,We);if(V&&D&&(H.rangeCount!==1||H.anchorNode!==V.node||H.anchorOffset!==V.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var U=K.createRange();U.setStart(V.node,V.offset),H.removeAllRanges(),ge>We?(H.addRange(U),H.extend(D.node,D.offset)):(U.setEnd(D.node,D.offset),H.addRange(U))}}}}for(K=[],H=x;H=H.parentNode;)H.nodeType===1&&K.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<K.length;x++){var Y=K[x];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}pu=!!af,of=af=null}finally{Be=h,ne.p=o,Q.T=a}}t.current=n,Ot=2}}function ky(){if(Ot===2){Ot=0;var t=Is,n=Da,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var o=ne.p;ne.p=2;var h=Be;Be|=4;try{uy(t,n.alternate,n)}finally{Be=h,ne.p=o,Q.T=a}}Ot=3}}function Ly(){if(Ot===4||Ot===3){Ot=0,Kl();var t=Is,n=Da,a=Xi,o=Ty;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ot=5:(Ot=0,Da=Is=null,Uy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Rs=null),ji(a),n=n.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Pn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=Q.T,h=ne.p,ne.p=2,Q.T=null;try{for(var d=t.onRecoverableError,v=0;v<o.length;v++){var x=o[v];d(x.value,{componentStack:x.stack})}}finally{Q.T=n,ne.p=h}}(Xi&3)!==0&&su(),xi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Qd?ol++:(ol=0,Qd=t):ol=0,ll(0)}}function Uy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Bo(n)))}function su(){return Vy(),ky(),Ly(),Py()}function Py(){if(Ot!==5)return!1;var t=Is,n=Fd;Fd=0;var a=ji(Xi),o=Q.T,h=ne.p;try{ne.p=32>a?32:a,Q.T=null,a=Gd,Gd=null;var d=Is,v=Xi;if(Ot=0,Da=Is=null,Xi=0,(Be&6)!==0)throw Error(r(331));var x=Be;if(Be|=4,by(d.current),yy(d,d.current,v,a),Be=x,ll(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Pn,d)}catch{}return!0}finally{ne.p=h,Q.T=o,Uy(t,n)}}function zy(t,n,a){n=Rn(a,n),n=Sd(t.stateNode,n,2),t=Ts(t,n,2),t!==null&&(lr(t,2),xi(t))}function Ke(t,n,a){if(t.tag===3)zy(t,t,a);else for(;n!==null;){if(n.tag===3){zy(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Rs===null||!Rs.has(o))){t=Rn(a,t),a=qp(2),o=Ts(n,a,2),o!==null&&(Bp(a,o,n,t),lr(o,2),xi(o));break}}n=n.return}}function Xd(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new kE;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(qd=!0,h.add(a),t=qE.bind(null,t,n,a),n.then(t,t))}function qE(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(Re&a)===a&&(ht===4||ht===3&&(Re&62914560)===Re&&300>nn()-Zc?(Be&2)===0&&ja(t,0):Bd|=a,Ia===Re&&(Ia=0)),xi(t)}function qy(t,n){n===0&&(n=ec()),t=xr(t,n),t!==null&&(lr(t,n),xi(t))}function BE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),qy(t,a)}function HE(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),qy(t,a)}function FE(t,n){return Mt(t,n)}var ru=null,Oa=null,$d=!1,au=!1,Jd=!1,js=0;function xi(t){t!==Oa&&t.next===null&&(Oa===null?ru=Oa=t:Oa=Oa.next=t),au=!0,$d||($d=!0,QE())}function ll(t,n){if(!Jd&&au){Jd=!0;do for(var a=!1,o=ru;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var v=o.suspendedLanes,x=o.pingedLanes;d=(1<<31-dt(42|t)+1)-1,d&=h&~(v&~x),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Gy(o,d))}else d=Re,d=si(o,o===et?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||zn(o,d)||(a=!0,Gy(o,d));o=o.next}while(a);Jd=!1}}function GE(){By()}function By(){au=$d=!1;var t=0;js!==0&&nx()&&(t=js);for(var n=nn(),a=null,o=ru;o!==null;){var h=o.next,d=Hy(o,n);d===0?(o.next=null,a===null?ru=h:a.next=h,h===null&&(Oa=a)):(a=o,(t!==0||(d&3)!==0)&&(au=!0)),o=h}Ot!==0&&Ot!==5||ll(t),js!==0&&(js=0)}function Hy(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-dt(d),x=1<<v,C=h[v];C===-1?((x&a)===0||(x&o)!==0)&&(h[v]=wh(x,n)):C<=n&&(t.expiredLanes|=x),d&=~x}if(n=et,a=Re,a=si(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&as(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||zn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&as(o),ji(a)){case 2:case 8:a=_o;break;case 32:a=os;break;case 268435456:a=Xl;break;default:a=os}return o=Fy.bind(null,t),a=Mt(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&as(o),t.callbackPriority=2,t.callbackNode=null,2}function Fy(t,n){if(Ot!==0&&Ot!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(su()&&t.callbackNode!==a)return null;var o=Re;return o=si(t,t===et?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Ay(t,o,n),Hy(t,nn()),t.callbackNode!=null&&t.callbackNode===a?Fy.bind(null,t):null)}function Gy(t,n){if(su())return null;Ay(t,n,!0)}function QE(){sx(function(){(Be&6)!==0?Mt(yo,GE):By()})}function Zd(){if(js===0){var t=va;t===0&&(t=ni,ni<<=1,(ni&261888)===0&&(ni=256)),js=t}return js}function Qy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:sa(""+t)}function Yy(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function YE(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var d=Qy((h[Lt]||null).action),v=o.submitter;v&&(n=(n=v[Lt]||null)?Qy(n.formAction):v.getAttribute("formAction"),n!==null&&(d=n,v=null));var x=new gi("action","action",null,o,h);t.push({event:x,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(js!==0){var C=v?Yy(h,v):new FormData(h);_d(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(x.preventDefault(),C=v?Yy(h,v):new FormData(h),_d(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Wd=0;Wd<Vh.length;Wd++){var ef=Vh[Wd],KE=ef.toLowerCase(),XE=ef[0].toUpperCase()+ef.slice(1);Kn(KE,"on"+XE)}Kn(Sg,"onAnimationEnd"),Kn(Ag,"onAnimationIteration"),Kn(wg,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(hE,"onTransitionRun"),Kn(dE,"onTransitionStart"),Kn(fE,"onTransitionCancel"),Kn(Ng,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$E=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cl));function Ky(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var d=void 0;if(n)for(var v=o.length-1;0<=v;v--){var x=o[v],C=x.instance,P=x.currentTarget;if(x=x.listener,C!==d&&h.isPropagationStopped())break e;d=x,h.currentTarget=P;try{d(h)}catch(G){Ec(G)}h.currentTarget=null,d=C}else for(v=0;v<o.length;v++){if(x=o[v],C=x.instance,P=x.currentTarget,x=x.listener,C!==d&&h.isPropagationStopped())break e;d=x,h.currentTarget=P;try{d(h)}catch(G){Ec(G)}h.currentTarget=null,d=C}}}}function Ce(t,n){var a=n[Wr];a===void 0&&(a=n[Wr]=new Set);var o=t+"__bubble";a.has(o)||(Xy(n,t,2,!1),a.add(o))}function tf(t,n,a){var o=0;n&&(o|=4),Xy(a,t,o,n)}var ou="_reactListening"+Math.random().toString(36).slice(2);function nf(t){if(!t[ou]){t[ou]=!0,Eo.forEach(function(a){a!=="selectionchange"&&($E.has(a)||tf(a,!1,t),tf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[ou]||(n[ou]=!0,tf("selectionchange",!1,n))}}function Xy(t,n,a,o){switch(S0(n)){case 2:var h=Sx;break;case 8:h=Ax;break;default:h=_f}a=h.bind(null,n,a,t),h=void 0,!mr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function sf(t,n,a,o,h){var d=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var x=o.stateNode.containerInfo;if(x===h)break;if(v===4)for(v=o.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;x!==null;){if(v=li(x),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){o=d=v;continue e}x=x.parentNode}}o=o.return}fs(function(){var P=d,G=An(a),K=[];e:{var z=Cg.get(t);if(z!==void 0){var H=gi,le=t;switch(t){case"keypress":if(pr(a)===0)break e;case"keydown":case"keyup":H=_c;break;case"focusin":le="focus",H=_r;break;case"focusout":le="blur",H=_r;break;case"beforeblur":case"afterblur":H=_r;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Oo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=cc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=g;break;case Sg:case Ag:case wg:H=hc;break;case Ng:H=S;break;case"scroll":case"scrollend":H=Mo;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=dc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Vi;break;case"toggle":case"beforetoggle":H=xe}var ge=(n&4)!==0,We=!ge&&(t==="scroll"||t==="scrollend"),V=ge?z!==null?z+"Capture":null:z;ge=[];for(var D=P,U;D!==null;){var Y=D;if(U=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||U===null||V===null||(Y=Fn(D,V),Y!=null&&ge.push(ul(D,Y,U))),We)break;D=D.return}0<ge.length&&(z=new H(z,le,null,a,G),K.push({event:z,listeners:ge}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",z&&a!==Io&&(le=a.relatedTarget||a.fromElement)&&(li(le)||le[ai]))break e;if((H||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,H?(le=a.relatedTarget||a.toElement,H=P,le=le?li(le):null,le!==null&&(We=u(le),ge=le.tag,le!==We||ge!==5&&ge!==27&&ge!==6)&&(le=null)):(H=null,le=P),H!==le)){if(ge=Oo,Y="onMouseLeave",V="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ge=Vi,Y="onPointerLeave",V="onPointerEnter",D="pointer"),We=H==null?z:mn(H),U=le==null?z:mn(le),z=new ge(Y,D+"leave",H,a,G),z.target=We,z.relatedTarget=U,Y=null,li(G)===P&&(ge=new ge(V,D+"enter",le,a,G),ge.target=U,ge.relatedTarget=We,Y=ge),We=Y,H&&le)t:{for(ge=JE,V=H,D=le,U=0,Y=V;Y;Y=ge(Y))U++;Y=0;for(var de=D;de;de=ge(de))Y++;for(;0<U-Y;)V=ge(V),U--;for(;0<Y-U;)D=ge(D),Y--;for(;U--;){if(V===D||D!==null&&V===D.alternate){ge=V;break t}V=ge(V),D=ge(D)}ge=null}else ge=null;H!==null&&$y(K,z,H,ge,!1),le!==null&&We!==null&&$y(K,We,le,ge,!0)}}e:{if(z=P?mn(P):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var Pe=fg;else if(hg(z))if(mg)Pe=lE;else{Pe=aE;var ue=rE}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&ia(P.elementType)&&(Pe=fg):Pe=oE;if(Pe&&(Pe=Pe(t,P))){dg(K,Pe,a,G);break e}ue&&ue(t,z,P),t==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&No(z,"number",z.value)}switch(ue=P?mn(P):window,t){case"focusin":(hg(ue)||ue.contentEditable==="true")&&(ha=ue,jh=P,Po=null);break;case"focusout":Po=jh=ha=null;break;case"mousedown":Mh=!0;break;case"contextmenu":case"mouseup":case"dragend":Mh=!1,xg(K,a,G);break;case"selectionchange":if(uE)break;case"keydown":case"keyup":xg(K,a,G)}var Ae;if(qe)e:{switch(t){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else ua?vr(t,a)&&(Ie="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ie="onCompositionStart");Ie&&(_i&&a.locale!=="ko"&&(ua||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&ua&&(Ae=jo()):(mi=G,Do="value"in mi?mi.value:mi.textContent,ua=!0)),ue=lu(P,Ie),0<ue.length&&(Ie=new yi(Ie,t,null,a,G),K.push({event:Ie,listeners:ue}),Ae?Ie.data=Ae:(Ae=ca(a),Ae!==null&&(Ie.data=Ae)))),(Ae=Nn?tE(t,a):nE(t,a))&&(Ie=lu(P,"onBeforeInput"),0<Ie.length&&(ue=new yi("onBeforeInput","beforeinput",null,a,G),K.push({event:ue,listeners:Ie}),ue.data=Ae)),YE(K,t,P,a,G)}Ky(K,n)})}function ul(t,n,a){return{instance:t,listener:n,currentTarget:a}}function lu(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Fn(t,a),h!=null&&o.unshift(ul(t,h,d)),h=Fn(t,n),h!=null&&o.push(ul(t,h,d))),t.tag===3)return o;t=t.return}return[]}function JE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function $y(t,n,a,o,h){for(var d=n._reactName,v=[];a!==null&&a!==o;){var x=a,C=x.alternate,P=x.stateNode;if(x=x.tag,C!==null&&C===o)break;x!==5&&x!==26&&x!==27||P===null||(C=P,h?(P=Fn(a,d),P!=null&&v.unshift(ul(a,P,C))):h||(P=Fn(a,d),P!=null&&v.push(ul(a,P,C)))),a=a.return}v.length!==0&&t.push({event:n,listeners:v})}var ZE=/\r\n?/g,WE=/\u0000|\uFFFD/g;function Jy(t){return(typeof t=="string"?t:""+t).replace(ZE,`
`).replace(WE,"")}function Zy(t,n){return n=Jy(n),Jy(t)===n}function Ze(t,n,a,o,h,d){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||on(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&on(t,""+o);break;case"className":gn(t,"class",o);break;case"tabIndex":gn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(t,a,o);break;case"style":Ro(t,o,d);break;case"data":if(n!=="object"){gn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=sa(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&Ze(t,n,"name",h.name,h,null),Ze(t,n,"formEncType",h.formEncType,h,null),Ze(t,n,"formMethod",h.formMethod,h,null),Ze(t,n,"formTarget",h.formTarget,h,null)):(Ze(t,n,"encType",h.encType,h,null),Ze(t,n,"method",h.method,h,null),Ze(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=sa(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Hn);break;case"onScroll":o!=null&&Ce("scroll",t);break;case"onScrollEnd":o!=null&&Ce("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=sa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Ce("beforetoggle",t),Ce("toggle",t),ta(t,"popover",o);break;case"xlinkActuate":Et(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Et(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Et(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Et(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Et(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Et(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Et(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Et(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Et(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ta(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=lc.get(a)||a,ta(t,a,o))}}function rf(t,n,a,o,h,d){switch(a){case"style":Ro(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?on(t,o):(typeof o=="number"||typeof o=="bigint")&&on(t,""+o);break;case"onScroll":o!=null&&Ce("scroll",t);break;case"onScrollEnd":o!=null&&Ce("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),d=t[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(n,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):ta(t,a,o)}}}function Yt(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",t),Ce("load",t);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ze(t,n,d,v,a,null)}}h&&Ze(t,n,"srcSet",a.srcSet,a,null),o&&Ze(t,n,"src",a.src,a,null);return;case"input":Ce("invalid",t);var x=d=v=h=null,C=null,P=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":v=G;break;case"checked":C=G;break;case"defaultChecked":P=G;break;case"value":d=G;break;case"defaultValue":x=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:Ze(t,n,o,G,a,null)}}rc(t,d,x,C,P,v,h,!1);return;case"select":Ce("invalid",t),o=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(x=a[h],x!=null))switch(h){case"value":d=x;break;case"defaultValue":v=x;break;case"multiple":o=x;default:Ze(t,n,h,x,a,null)}n=d,a=v,t.multiple=!!o,n!=null?cs(t,!!o,n,!1):a!=null&&cs(t,!!o,a,!0);return;case"textarea":Ce("invalid",t),d=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(x=a[v],x!=null))switch(v){case"value":o=x;break;case"defaultValue":h=x;break;case"children":d=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:Ze(t,n,v,x,a,null)}us(t,o,h,d);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ze(t,n,C,o,a,null)}return;case"dialog":Ce("beforetoggle",t),Ce("toggle",t),Ce("cancel",t),Ce("close",t);break;case"iframe":case"object":Ce("load",t);break;case"video":case"audio":for(o=0;o<cl.length;o++)Ce(cl[o],t);break;case"image":Ce("error",t),Ce("load",t);break;case"details":Ce("toggle",t);break;case"embed":case"source":case"link":Ce("error",t),Ce("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(o=a[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ze(t,n,P,o,a,null)}return;default:if(ia(n)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&rf(t,n,G,o,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(o=a[x],o!=null&&Ze(t,n,x,o,a,null))}function ex(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,x=null,C=null,P=null,G=null;for(H in a){var K=a[H];if(a.hasOwnProperty(H)&&K!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=K;default:o.hasOwnProperty(H)||Ze(t,n,H,null,o,K)}}for(var z in o){var H=o[z];if(K=a[z],o.hasOwnProperty(z)&&(H!=null||K!=null))switch(z){case"type":d=H;break;case"name":h=H;break;case"checked":P=H;break;case"defaultChecked":G=H;break;case"value":v=H;break;case"defaultValue":x=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==K&&Ze(t,n,z,H,o,K)}}na(t,v,x,C,P,G,d,h);return;case"select":H=v=x=z=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(d)||Ze(t,n,d,null,o,C)}for(h in o)if(d=o[h],C=a[h],o.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":z=d;break;case"defaultValue":x=d;break;case"multiple":v=d;default:d!==C&&Ze(t,n,h,d,o,C)}n=x,a=v,o=H,z!=null?cs(t,!!a,z,!1):!!o!=!!a&&(n!=null?cs(t,!!a,n,!0):cs(t,!!a,a?[]:"",!1));return;case"textarea":H=z=null;for(x in a)if(h=a[x],a.hasOwnProperty(x)&&h!=null&&!o.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Ze(t,n,x,null,o,h)}for(v in o)if(h=o[v],d=a[v],o.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&Ze(t,n,v,h,o,d)}ac(t,z,H);return;case"option":for(var le in a)if(z=a[le],a.hasOwnProperty(le)&&z!=null&&!o.hasOwnProperty(le))switch(le){case"selected":t.selected=!1;break;default:Ze(t,n,le,null,o,z)}for(C in o)if(z=o[C],H=a[C],o.hasOwnProperty(C)&&z!==H&&(z!=null||H!=null))switch(C){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Ze(t,n,C,z,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)z=a[ge],a.hasOwnProperty(ge)&&z!=null&&!o.hasOwnProperty(ge)&&Ze(t,n,ge,null,o,z);for(P in o)if(z=o[P],H=a[P],o.hasOwnProperty(P)&&z!==H&&(z!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,n));break;default:Ze(t,n,P,z,o,H)}return;default:if(ia(n)){for(var We in a)z=a[We],a.hasOwnProperty(We)&&z!==void 0&&!o.hasOwnProperty(We)&&rf(t,n,We,void 0,o,z);for(G in o)z=o[G],H=a[G],!o.hasOwnProperty(G)||z===H||z===void 0&&H===void 0||rf(t,n,G,z,o,H);return}}for(var V in a)z=a[V],a.hasOwnProperty(V)&&z!=null&&!o.hasOwnProperty(V)&&Ze(t,n,V,null,o,z);for(K in o)z=o[K],H=a[K],!o.hasOwnProperty(K)||z===H||z==null&&H==null||Ze(t,n,K,z,o,H)}function Wy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tx(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],d=h.transferSize,v=h.initiatorType,x=h.duration;if(d&&x&&Wy(v)){for(v=0,x=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],P=C.startTime;if(P>x)break;var G=C.transferSize,K=C.initiatorType;G&&Wy(K)&&(C=C.responseEnd,v+=G*(C<x?1:(x-P)/(C-P)))}if(--o,n+=8*(d+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var af=null,of=null;function cu(t){return t.nodeType===9?t:t.ownerDocument}function e0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function t0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function lf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var cf=null;function nx(){var t=window.event;return t&&t.type==="popstate"?t===cf?!1:(cf=t,!0):(cf=null,!1)}var n0=typeof setTimeout=="function"?setTimeout:void 0,ix=typeof clearTimeout=="function"?clearTimeout:void 0,i0=typeof Promise=="function"?Promise:void 0,sx=typeof queueMicrotask=="function"?queueMicrotask:typeof i0<"u"?function(t){return i0.resolve(null).then(t).catch(rx)}:n0;function rx(t){setTimeout(function(){throw t})}function Ms(t){return t==="head"}function s0(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),Ua(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")hl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,hl(a);for(var d=a.firstChild;d;){var v=d.nextSibling,x=d.nodeName;d[oi]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&hl(t.ownerDocument.body);a=h}while(a);Ua(n)}function r0(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function uf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":uf(a),ea(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function ax(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[oi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=On(t.nextSibling),t===null)break}return null}function ox(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=On(t.nextSibling),t===null))return null;return t}function a0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=On(t.nextSibling),t===null))return null;return t}function hf(t){return t.data==="$?"||t.data==="$~"}function df(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function lx(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function On(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var ff=null;function o0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return On(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function l0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function c0(t,n,a){switch(n=cu(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function hl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ea(t)}var Vn=new Map,u0=new Set;function uu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var $i=ne.d;ne.d={f:cx,r:ux,D:hx,C:dx,L:fx,m:mx,X:px,S:gx,M:yx};function cx(){var t=$i.f(),n=tu();return t||n}function ux(t){var n=Sn(t);n!==null&&n.tag===5&&n.type==="form"?Np(n):$i.r(t)}var Va=typeof document>"u"?null:document;function h0(t,n,a){var o=Va;if(o&&typeof n=="string"&&n){var h=an(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),u0.has(h)||(u0.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Yt(n,"link",t),bt(n),o.head.appendChild(n)))}}function hx(t){$i.D(t),h0("dns-prefetch",t,null)}function dx(t,n){$i.C(t,n),h0("preconnect",t,n)}function fx(t,n,a){$i.L(t,n,a);var o=Va;if(o&&t&&n){var h='link[rel="preload"][as="'+an(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+an(a.imageSizes)+'"]')):h+='[href="'+an(t)+'"]';var d=h;switch(n){case"style":d=ka(t);break;case"script":d=La(t)}Vn.has(d)||(t=T({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Vn.set(d,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(dl(d))||n==="script"&&o.querySelector(fl(d))||(n=o.createElement("link"),Yt(n,"link",t),bt(n),o.head.appendChild(n)))}}function mx(t,n){$i.m(t,n);var a=Va;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+an(o)+'"][href="'+an(t)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=La(t)}if(!Vn.has(d)&&(t=T({rel:"modulepreload",href:t},n),Vn.set(d,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(fl(d)))return}o=a.createElement("link"),Yt(o,"link",t),bt(o),a.head.appendChild(o)}}}function gx(t,n,a){$i.S(t,n,a);var o=Va;if(o&&t){var h=ci(o).hoistableStyles,d=ka(t);n=n||"default";var v=h.get(d);if(!v){var x={loading:0,preload:null};if(v=o.querySelector(dl(d)))x.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Vn.get(d))&&mf(t,a);var C=v=o.createElement("link");bt(C),Yt(C,"link",t),C._p=new Promise(function(P,G){C.onload=P,C.onerror=G}),C.addEventListener("load",function(){x.loading|=1}),C.addEventListener("error",function(){x.loading|=2}),x.loading|=4,hu(v,n,o)}v={type:"stylesheet",instance:v,count:1,state:x},h.set(d,v)}}}function px(t,n){$i.X(t,n);var a=Va;if(a&&t){var o=ci(a).hoistableScripts,h=La(t),d=o.get(h);d||(d=a.querySelector(fl(h)),d||(t=T({src:t,async:!0},n),(n=Vn.get(h))&&gf(t,n),d=a.createElement("script"),bt(d),Yt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function yx(t,n){$i.M(t,n);var a=Va;if(a&&t){var o=ci(a).hoistableScripts,h=La(t),d=o.get(h);d||(d=a.querySelector(fl(h)),d||(t=T({src:t,async:!0,type:"module"},n),(n=Vn.get(h))&&gf(t,n),d=a.createElement("script"),bt(d),Yt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function d0(t,n,a,o){var h=(h=Se.current)?uu(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ka(a.href),a=ci(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ka(a.href);var d=ci(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(dl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Vn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(t,a),d||_x(h,t,a,v.state))),n&&o===null)throw Error(r(528,""));return v}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=La(a),a=ci(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function ka(t){return'href="'+an(t)+'"'}function dl(t){return'link[rel="stylesheet"]['+t+"]"}function f0(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function _x(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Yt(n,"link",a),bt(n),t.head.appendChild(n))}function La(t){return'[src="'+an(t)+'"]'}function fl(t){return"script[async]"+t}function m0(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+an(a.href)+'"]');if(o)return n.instance=o,bt(o),o;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),bt(o),Yt(o,"style",h),hu(o,a.precedence,t),n.instance=o;case"stylesheet":h=ka(a.href);var d=t.querySelector(dl(h));if(d)return n.state.loading|=4,n.instance=d,bt(d),d;o=f0(a),(h=Vn.get(h))&&mf(o,h),d=(t.ownerDocument||t).createElement("link"),bt(d);var v=d;return v._p=new Promise(function(x,C){v.onload=x,v.onerror=C}),Yt(d,"link",o),n.state.loading|=4,hu(d,a.precedence,t),n.instance=d;case"script":return d=La(a.src),(h=t.querySelector(fl(d)))?(n.instance=h,bt(h),h):(o=a,(h=Vn.get(d))&&(o=T({},a),gf(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),bt(h),Yt(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,hu(o,a.precedence,t));return n.instance}function hu(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,v=0;v<o.length;v++){var x=o[v];if(x.dataset.precedence===n)d=x;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function mf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function gf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var du=null;function g0(t,n,a){if(du===null){var o=new Map,h=du=new Map;h.set(a,o)}else h=du,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[oi]||d[vt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(n)||"";v=t+v;var x=o.get(v);x?x.push(d):o.set(v,[d])}}return o}function p0(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function vx(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function y0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function bx(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=ka(o.href),d=n.querySelector(dl(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=fu.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=d,bt(d);return}d=n.ownerDocument||n,o=f0(o),(h=Vn.get(h))&&mf(o,h),d=d.createElement("link"),bt(d);var v=d;v._p=new Promise(function(x,C){v.onload=x,v.onerror=C}),Yt(d,"link",o),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=fu.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var pf=0;function Ex(t,n){return t.stylesheets&&t.count===0&&gu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&gu(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+n);0<t.imgBytes&&pf===0&&(pf=62500*tx());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&gu(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>pf?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function fu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var mu=null;function gu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,mu=new Map,n.forEach(xx,t),mu=null,fu.call(t))}function xx(t,n){if(!(n.state.loading&4)){var a=mu.get(t);if(a)var o=a.get(null);else{a=new Map,mu.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=n.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||o,d===o&&a.set(null,h),a.set(v,h),this.count++,o=fu.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var ml={$$typeof:he,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function Tx(t,n,a,o,h,d,v,x,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function _0(t,n,a,o,h,d,v,x,C,P,G,K){return t=new Tx(t,n,a,v,C,P,G,K,x),n=1,d===!0&&(n|=24),d=yn(3,null,null,n),t.current=d,d.stateNode=t,n=Kh(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:n},Zh(d),t}function v0(t){return t?(t=ma,t):ma}function b0(t,n,a,o,h,d){h=v0(h),o.context===null?o.context=h:o.pendingContext=h,o=xs(n),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=Ts(t,o,n),a!==null&&(dn(a,t,n),Qo(a,t,n))}function E0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function yf(t,n){E0(t,n),(t=t.alternate)&&E0(t,n)}function x0(t){if(t.tag===13||t.tag===31){var n=xr(t,67108864);n!==null&&dn(n,t,67108864),yf(t,67108864)}}function T0(t){if(t.tag===13||t.tag===31){var n=xn();n=ur(n);var a=xr(t,n);a!==null&&dn(a,t,n),yf(t,n)}}var pu=!0;function Sx(t,n,a,o){var h=Q.T;Q.T=null;var d=ne.p;try{ne.p=2,_f(t,n,a,o)}finally{ne.p=d,Q.T=h}}function Ax(t,n,a,o){var h=Q.T;Q.T=null;var d=ne.p;try{ne.p=8,_f(t,n,a,o)}finally{ne.p=d,Q.T=h}}function _f(t,n,a,o){if(pu){var h=vf(o);if(h===null)sf(t,n,o,yu,a),A0(t,o);else if(Nx(h,t,n,a,o))o.stopPropagation();else if(A0(t,o),n&4&&-1<wx.indexOf(t)){for(;h!==null;){var d=Sn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=ii(d.pendingLanes);if(v!==0){var x=d;for(x.pendingLanes|=2,x.entangledLanes|=2;v;){var C=1<<31-dt(v);x.entanglements[1]|=C,v&=~C}xi(d),(Be&6)===0&&(Wc=nn()+500,ll(0))}}break;case 31:case 13:x=xr(d,2),x!==null&&dn(x,d,2),tu(),yf(d,2)}if(d=vf(o),d===null&&sf(t,n,o,yu,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else sf(t,n,o,null,a)}}function vf(t){return t=An(t),bf(t)}var yu=null;function bf(t){if(yu=null,t=li(t),t!==null){var n=u(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=f(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return yu=t,null}function S0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ar()){case yo:return 2;case _o:return 8;case os:case Ah:return 32;case Xl:return 268435456;default:return 32}default:return 32}}var Ef=!1,Os=null,Vs=null,ks=null,gl=new Map,pl=new Map,Ls=[],wx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function A0(t,n){switch(t){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":gl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(n.pointerId)}}function yl(t,n,a,o,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},n!==null&&(n=Sn(n),n!==null&&x0(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Nx(t,n,a,o,h){switch(n){case"focusin":return Os=yl(Os,t,n,a,o,h),!0;case"dragenter":return Vs=yl(Vs,t,n,a,o,h),!0;case"mouseover":return ks=yl(ks,t,n,a,o,h),!0;case"pointerover":var d=h.pointerId;return gl.set(d,yl(gl.get(d)||null,t,n,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,pl.set(d,yl(pl.get(d)||null,t,n,a,o,h)),!0}return!1}function w0(t){var n=li(t.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=f(a),n!==null){t.blockedOn=n,qn(t.priority,function(){T0(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,qn(t.priority,function(){T0(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _u(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=vf(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Io=o,a.target.dispatchEvent(o),Io=null}else return n=Sn(a),n!==null&&x0(n),t.blockedOn=a,!1;n.shift()}return!0}function N0(t,n,a){_u(t)&&a.delete(n)}function Cx(){Ef=!1,Os!==null&&_u(Os)&&(Os=null),Vs!==null&&_u(Vs)&&(Vs=null),ks!==null&&_u(ks)&&(ks=null),gl.forEach(N0),pl.forEach(N0)}function vu(t,n){t.blockedOn===n&&(t.blockedOn=null,Ef||(Ef=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Cx)))}var bu=null;function C0(t){bu!==t&&(bu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){bu===t&&(bu=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(bf(o||a)===null)continue;break}var d=Sn(a);d!==null&&(t.splice(n,3),n-=3,_d(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Ua(t){function n(C){return vu(C,t)}Os!==null&&vu(Os,t),Vs!==null&&vu(Vs,t),ks!==null&&vu(ks,t),gl.forEach(n),pl.forEach(n);for(var a=0;a<Ls.length;a++){var o=Ls[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Ls.length&&(a=Ls[0],a.blockedOn===null);)w0(a),a.blockedOn===null&&Ls.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],v=h[Lt]||null;if(typeof d=="function")v||C0(a);else if(v){var x=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Lt]||null)x=v.formAction;else if(bf(h)!==null)continue}else x=v.action;typeof x=="function"?a[o+1]=x:(a.splice(o,3),o-=3),C0(a)}}}function R0(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function xf(t){this._internalRoot=t}Eu.prototype.render=xf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=xn();b0(a,o,t,n,null,null)},Eu.prototype.unmount=xf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;b0(t.current,2,null,t,null,null),tu(),n[ai]=null}};function Eu(t){this._internalRoot=t}Eu.prototype.unstable_scheduleHydration=function(t){if(t){var n=tc();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Ls.length&&n!==0&&n<Ls[a].priority;a++);Ls.splice(a,0,t),a===0&&w0(t)}};var I0=e.version;if(I0!=="19.2.0")throw Error(r(527,I0,"19.2.0"));ne.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var Rx={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xu.isDisabled&&xu.supportsFiber)try{Pn=xu.inject(Rx),Bt=xu}catch{}}return vl.createRoot=function(t,n){if(!l(t))throw Error(r(299));var a=!1,o="",h=Lp,d=Up,v=Pp;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError)),n=_0(t,1,!1,null,null,a,o,null,h,d,v,R0),t[ai]=n.current,nf(t),new xf(n)},vl.hydrateRoot=function(t,n,a){if(!l(t))throw Error(r(299));var o=!1,h="",d=Lp,v=Up,x=Pp,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=_0(t,1,!0,n,a??null,o,h,C,d,v,x,R0),n.context=v0(null),a=n.current,o=xn(),o=ur(o),h=xs(o),h.callback=null,Ts(a,h,o),a=o,n.current.lanes=a,lr(n,a),xi(n),t[ai]=n.current,nf(t),new Eu(n)},vl.version="19.2.0",vl}var z0;function zx(){if(z0)return Af.exports;z0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Af.exports=Px(),Af.exports}var qx=zx(),vv={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},q0=Lr.createContext&&Lr.createContext(vv),Bx=["attr","size","title"];function Hx(s,e){if(s==null)return{};var i=Fx(s,e),r,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(s);for(l=0;l<u.length;l++)r=u[l],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(s,r)&&(i[r]=s[r])}return i}function Fx(s,e){if(s==null)return{};var i={};for(var r in s)if(Object.prototype.hasOwnProperty.call(s,r)){if(e.indexOf(r)>=0)continue;i[r]=s[r]}return i}function zu(){return zu=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(s[r]=i[r])}return s},zu.apply(this,arguments)}function B0(s,e){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),i.push.apply(i,r)}return i}function qu(s){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?B0(Object(i),!0).forEach(function(r){Gx(s,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):B0(Object(i)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(i,r))})}return s}function Gx(s,e,i){return e=Qx(e),e in s?Object.defineProperty(s,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[e]=i,s}function Qx(s){var e=Yx(s,"string");return typeof e=="symbol"?e:e+""}function Yx(s,e){if(typeof s!="object"||!s)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var r=i.call(s,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(s)}function bv(s){return s&&s.map((e,i)=>Lr.createElement(e.tag,qu({key:i},e.attr),bv(e.child)))}function Xe(s){return e=>Lr.createElement(Kx,zu({attr:qu({},s.attr)},e),bv(s.child))}function Kx(s){var e=i=>{var{attr:r,size:l,title:u}=s,f=Hx(s,Bx),p=l||i.size||"1em",_;return i.className&&(_=i.className),s.className&&(_=(_?_+" ":"")+s.className),Lr.createElement("svg",zu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,r,f,{className:_,style:qu(qu({color:s.color||i.color},i.style),s.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),u&&Lr.createElement("title",null,u),s.children)};return q0!==void 0?Lr.createElement(q0.Consumer,null,i=>e(i)):e(vv)}function gm(s){return Xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(s)}function Ev(s){return Xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(s)}function Xx(s){return Xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"},child:[]},{tag:"path",attr:{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"},child:[]}]})(s)}function qf(s){return Xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"},child:[]}]})(s)}function $x(s){return Xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(s)}function Jx(s){return Xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(s)}function pm(s){return Xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(s)}function Zx(s){return Xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(s)}function Wx(s){return Xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16",y1:"13",x2:"16",y2:"21"},child:[]},{tag:"line",attr:{x1:"8",y1:"13",x2:"8",y2:"21"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"},child:[]}]})(s)}function eT(s){return Xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"},child:[]}]})(s)}function tT(s){return Xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"4",y:"4",width:"16",height:"16",rx:"2",ry:"2"},child:[]},{tag:"rect",attr:{x:"9",y:"9",width:"6",height:"6"},child:[]},{tag:"line",attr:{x1:"9",y1:"1",x2:"9",y2:"4"},child:[]},{tag:"line",attr:{x1:"15",y1:"1",x2:"15",y2:"4"},child:[]},{tag:"line",attr:{x1:"9",y1:"20",x2:"9",y2:"23"},child:[]},{tag:"line",attr:{x1:"15",y1:"20",x2:"15",y2:"23"},child:[]},{tag:"line",attr:{x1:"20",y1:"9",x2:"23",y2:"9"},child:[]},{tag:"line",attr:{x1:"20",y1:"14",x2:"23",y2:"14"},child:[]},{tag:"line",attr:{x1:"1",y1:"9",x2:"4",y2:"9"},child:[]},{tag:"line",attr:{x1:"1",y1:"14",x2:"4",y2:"14"},child:[]}]})(s)}function nT(s){return Xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"},child:[]}]})(s)}function xv(s){return Xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"},child:[]},{tag:"line",attr:{x1:"4",y1:"22",x2:"4",y2:"15"},child:[]}]})(s)}function iT(s){return Xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"9",x2:"20",y2:"9"},child:[]},{tag:"line",attr:{x1:"4",y1:"15",x2:"20",y2:"15"},child:[]},{tag:"line",attr:{x1:"10",y1:"3",x2:"8",y2:"21"},child:[]},{tag:"line",attr:{x1:"16",y1:"3",x2:"14",y2:"21"},child:[]}]})(s)}function sT(s){return Xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(s)}function rT(s){return Xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(s)}function aT(s){return Xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(s)}function Tv(s){return Xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(s)}function Sv(s){return Xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"},child:[]}]})(s)}function oT(s){return Xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"},child:[]},{tag:"path",attr:{d:"M19 10v2a7 7 0 0 1-14 0v-2"},child:[]},{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"8",y1:"23",x2:"16",y2:"23"},child:[]}]})(s)}function lT(s){return Xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M8 14s1.5 2 4 2 4-2 4-2"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"9.01",y2:"9"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"15.01",y2:"9"},child:[]}]})(s)}function Av(s){return Xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(s)}function cT(s){return Xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"},child:[]}]})(s)}function H0(s){return Xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"4 7 4 4 20 4 20 7"},child:[]},{tag:"line",attr:{x1:"9",y1:"20",x2:"15",y2:"20"},child:[]},{tag:"line",attr:{x1:"12",y1:"4",x2:"12",y2:"20"},child:[]}]})(s)}function Bf(s){return Xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(s)}function wv(s){return Xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(s)}function uT(s){return Xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9.59 4.59A2 2 0 1 1 11 8H2m10.59 11.41A2 2 0 1 0 14 16H2m15.73-8.27A2.5 2.5 0 1 1 19.5 12H2"},child:[]}]})(s)}function hT(s){return Xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(s)}const dT=()=>{};var F0={};const Nv=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},fT=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[i++];e[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[i++],f=s[i++],p=s[i++],_=((l&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(_>>10)),e[r++]=String.fromCharCode(56320+(_&1023))}else{const u=s[i++],f=s[i++];e[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},Cv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const u=s[l],f=l+1<s.length,p=f?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,E=u>>2,T=(u&3)<<4|p>>4;let A=(p&15)<<2|y>>6,q=y&63;_||(q=64,f||(A=64)),r.push(i[E],i[T],i[A],i[q])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Nv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):fT(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const u=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const T=l<s.length?i[s.charAt(l)]:64;if(++l,u==null||p==null||y==null||T==null)throw new mT;const A=u<<2|p>>4;if(r.push(A),y!==64){const q=p<<4&240|y>>2;if(r.push(q),T!==64){const F=y<<6&192|T;r.push(F)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class mT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gT=function(s){const e=Nv(s);return Cv.encodeByteArray(e,!0)},Bu=function(s){return gT(s).replace(/\./g,"")},Rv=function(s){try{return Cv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function pT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const yT=()=>pT().__FIREBASE_DEFAULTS__,_T=()=>{if(typeof process>"u"||typeof F0>"u")return;const s=F0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},vT=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Rv(s[1]);return e&&JSON.parse(e)},lh=()=>{try{return dT()||yT()||_T()||vT()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Iv=s=>lh()?.emulatorHosts?.[s],bT=s=>{const e=Iv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},Dv=()=>lh()?.config,jv=s=>lh()?.[`_${s}`];class ET{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function so(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Mv(s){return(await fetch(s,{credentials:"include"})).ok}function xT(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Bu(JSON.stringify(i)),Bu(JSON.stringify(f)),""].join(".")}const Tl={};function TT(){const s={prod:[],emulator:[]};for(const e of Object.keys(Tl))Tl[e]?s.emulator.push(e):s.prod.push(e);return s}function ST(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let G0=!1;function Ov(s,e){if(typeof window>"u"||typeof document>"u"||!so(window.location.host)||Tl[s]===e||Tl[s]||G0)return;Tl[s]=e;function i(A){return`__firebase__banner__${A}`}const r="__firebase__banner",u=TT().prod.length>0;function f(){const A=document.getElementById(r);A&&A.remove()}function p(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function _(A,q){A.setAttribute("width","24"),A.setAttribute("id",q),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function y(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{G0=!0,f()},A}function E(A,q){A.setAttribute("id",q),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=ST(r),q=i("text"),F=document.getElementById(q)||document.createElement("span"),Z=i("learnmore"),W=document.getElementById(Z)||document.createElement("a"),re=i("preprendIcon"),ce=document.getElementById(re)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const he=A.element;p(he),E(W,Z);const we=y();_(ce,re),he.append(ce,F,W,we),document.body.appendChild(he)}u?(F.innerText="Preview backend disconnected.",ce.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ce.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function wT(){const s=lh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CT(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function RT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IT(){const s=tn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function DT(){return!wT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jT(){try{return typeof indexedDB=="object"}catch{return!1}}function MT(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const OT="FirebaseError";class rs extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=OT,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ul.prototype.create)}}class Ul{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,u=this.errors[e],f=u?VT(u,r):"Error",p=`${this.serviceName}: ${f} (${l}).`;return new rs(l,p,r)}}function VT(s,e){return s.replace(kT,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const kT=/\{\$([^}]+)}/g;function LT(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Pr(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const u=s[l],f=e[l];if(Q0(u)&&Q0(f)){if(!Pr(u,f))return!1}else if(u!==f)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function Q0(s){return s!==null&&typeof s=="object"}function Pl(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function UT(s,e){const i=new PT(s,e);return i.subscribe.bind(i)}class PT{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let l;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");zT(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:r},l.next===void 0&&(l.next=Rf),l.error===void 0&&(l.error=Rf),l.complete===void 0&&(l.complete=Rf);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zT(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Rf(){}function Un(s){return s&&s._delegate?s._delegate:s}class zr{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Vr="[DEFAULT]";class qT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new ET;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HT(e))try{this.getOrInitializeService({instanceIdentifier:Vr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(e=Vr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vr){return this.instances.has(e)}getOptions(e=Vr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&f.resolve(l)}return l}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&e(u,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BT(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vr){return this.component?this.component.multipleInstances?e:Vr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BT(s){return s===Vr?void 0:s}function HT(s){return s.instantiationMode==="EAGER"}class FT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new qT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var De;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(De||(De={}));const GT={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},QT=De.INFO,YT={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},KT=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=YT[e];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ym{constructor(e){this.name=e,this._logLevel=QT,this._logHandler=KT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const XT=(s,e)=>e.some(i=>s instanceof i);let Y0,K0;function $T(){return Y0||(Y0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JT(){return K0||(K0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Vv=new WeakMap,Hf=new WeakMap,kv=new WeakMap,If=new WeakMap,_m=new WeakMap;function ZT(s){const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{i(Gs(s.result)),l()},f=()=>{r(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&Vv.set(i,s)}).catch(()=>{}),_m.set(e,s),e}function WT(s){if(Hf.has(s))return;const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{i(),l()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});Hf.set(s,e)}let Ff={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Hf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||kv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Gs(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function eS(s){Ff=s(Ff)}function tS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Df(this),e,...i);return kv.set(r,e.sort?e.sort():[e]),Gs(r)}:JT().includes(s)?function(...e){return s.apply(Df(this),e),Gs(Vv.get(this))}:function(...e){return Gs(s.apply(Df(this),e))}}function nS(s){return typeof s=="function"?tS(s):(s instanceof IDBTransaction&&WT(s),XT(s,$T())?new Proxy(s,Ff):s)}function Gs(s){if(s instanceof IDBRequest)return ZT(s);if(If.has(s))return If.get(s);const e=nS(s);return e!==s&&(If.set(s,e),_m.set(e,s)),e}const Df=s=>_m.get(s);function iS(s,e,{blocked:i,upgrade:r,blocking:l,terminated:u}={}){const f=indexedDB.open(s,e),p=Gs(f);return r&&f.addEventListener("upgradeneeded",_=>{r(Gs(f.result),_.oldVersion,_.newVersion,Gs(f.transaction),_)}),i&&f.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{u&&_.addEventListener("close",()=>u()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const sS=["get","getKey","getAll","getAllKeys","count"],rS=["put","add","delete","clear"],jf=new Map;function X0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(jf.get(e))return jf.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=rS.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||sS.includes(i)))return;const u=async function(f,...p){const _=this.transaction(f,l?"readwrite":"readonly");let y=_.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return jf.set(e,u),u}eS(s=>({...s,get:(e,i,r)=>X0(e,i)||s.get(e,i,r),has:(e,i)=>!!X0(e,i)||s.has(e,i)}));class aS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(oS(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function oS(s){return s.getComponent()?.type==="VERSION"}const Gf="@firebase/app",$0="0.14.6";const es=new ym("@firebase/app"),lS="@firebase/app-compat",cS="@firebase/analytics-compat",uS="@firebase/analytics",hS="@firebase/app-check-compat",dS="@firebase/app-check",fS="@firebase/auth",mS="@firebase/auth-compat",gS="@firebase/database",pS="@firebase/data-connect",yS="@firebase/database-compat",_S="@firebase/functions",vS="@firebase/functions-compat",bS="@firebase/installations",ES="@firebase/installations-compat",xS="@firebase/messaging",TS="@firebase/messaging-compat",SS="@firebase/performance",AS="@firebase/performance-compat",wS="@firebase/remote-config",NS="@firebase/remote-config-compat",CS="@firebase/storage",RS="@firebase/storage-compat",IS="@firebase/firestore",DS="@firebase/ai",jS="@firebase/firestore-compat",MS="firebase",OS="12.6.0";const Qf="[DEFAULT]",VS={[Gf]:"fire-core",[lS]:"fire-core-compat",[uS]:"fire-analytics",[cS]:"fire-analytics-compat",[dS]:"fire-app-check",[hS]:"fire-app-check-compat",[fS]:"fire-auth",[mS]:"fire-auth-compat",[gS]:"fire-rtdb",[pS]:"fire-data-connect",[yS]:"fire-rtdb-compat",[_S]:"fire-fn",[vS]:"fire-fn-compat",[bS]:"fire-iid",[ES]:"fire-iid-compat",[xS]:"fire-fcm",[TS]:"fire-fcm-compat",[SS]:"fire-perf",[AS]:"fire-perf-compat",[wS]:"fire-rc",[NS]:"fire-rc-compat",[CS]:"fire-gcs",[RS]:"fire-gcs-compat",[IS]:"fire-fst",[jS]:"fire-fst-compat",[DS]:"fire-vertex","fire-js":"fire-js",[MS]:"fire-js-all"};const Hu=new Map,kS=new Map,Yf=new Map;function J0(s,e){try{s.container.addComponent(e)}catch(i){es.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function $a(s){const e=s.name;if(Yf.has(e))return es.debug(`There were multiple attempts to register component ${e}.`),!1;Yf.set(e,s);for(const i of Hu.values())J0(i,s);for(const i of kS.values())J0(i,s);return!0}function vm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Si(s){return s==null?!1:s.settings!==void 0}const LS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qs=new Ul("app","Firebase",LS);class US{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}}const ro=OS;function Lv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:Qf,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw Qs.create("bad-app-name",{appName:String(l)});if(i||(i=Dv()),!i)throw Qs.create("no-options");const u=Hu.get(l);if(u){if(Pr(i,u.options)&&Pr(r,u.config))return u;throw Qs.create("duplicate-app",{appName:l})}const f=new FT(l);for(const _ of Yf.values())f.addComponent(_);const p=new US(i,r,f);return Hu.set(l,p),p}function Uv(s=Qf){const e=Hu.get(s);if(!e&&s===Qf&&Dv())return Lv();if(!e)throw Qs.create("no-app",{appName:s});return e}function Ys(s,e,i){let r=VS[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${r}" with version "${e}":`];l&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),es.warn(f.join(" "));return}$a(new zr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const PS="firebase-heartbeat-database",zS=1,Rl="firebase-heartbeat-store";let Mf=null;function Pv(){return Mf||(Mf=iS(PS,zS,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Rl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Qs.create("idb-open",{originalErrorMessage:s.message})})),Mf}async function qS(s){try{const i=(await Pv()).transaction(Rl),r=await i.objectStore(Rl).get(zv(s));return await i.done,r}catch(e){if(e instanceof rs)es.warn(e.message);else{const i=Qs.create("idb-get",{originalErrorMessage:e?.message});es.warn(i.message)}}}async function Z0(s,e){try{const r=(await Pv()).transaction(Rl,"readwrite");await r.objectStore(Rl).put(e,zv(s)),await r.done}catch(i){if(i instanceof rs)es.warn(i.message);else{const r=Qs.create("idb-set",{originalErrorMessage:i?.message});es.warn(r.message)}}}function zv(s){return`${s.name}!${s.options.appId}`}const BS=1024,HS=30;class FS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new QS(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=W0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>HS){const l=YS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){es.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=W0(),{heartbeatsToSend:i,unsentEntries:r}=GS(this._heartbeatsCache.heartbeats),l=Bu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return es.warn(e),""}}}function W0(){return new Date().toISOString().substring(0,10)}function GS(s,e=BS){const i=[];let r=s.slice();for(const l of s){const u=i.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),e_(i)>e){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),e_(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class QS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jT()?MT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await qS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Z0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Z0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function e_(s){return Bu(JSON.stringify({version:2,heartbeats:s})).length}function YS(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function KS(s){$a(new zr("platform-logger",e=>new aS(e),"PRIVATE")),$a(new zr("heartbeat",e=>new FS(e),"PRIVATE")),Ys(Gf,$0,s),Ys(Gf,$0,"esm2020"),Ys("fire-js","")}KS("");var XS="firebase",$S="12.6.0";Ys(XS,$S,"app");var t_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ks,qv;(function(){var s;function e(I,w){function R(){}R.prototype=w.prototype,I.F=w.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(O,j,k){for(var N=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)N[rt-2]=arguments[rt];return w.prototype[j].apply(O,N)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,w,R){R||(R=0);const O=Array(16);if(typeof w=="string")for(var j=0;j<16;++j)O[j]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(j=0;j<16;++j)O[j]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=I.g[0],R=I.g[1],j=I.g[2];let k=I.g[3],N;N=w+(k^R&(j^k))+O[0]+3614090360&4294967295,w=R+(N<<7&4294967295|N>>>25),N=k+(j^w&(R^j))+O[1]+3905402710&4294967295,k=w+(N<<12&4294967295|N>>>20),N=j+(R^k&(w^R))+O[2]+606105819&4294967295,j=k+(N<<17&4294967295|N>>>15),N=R+(w^j&(k^w))+O[3]+3250441966&4294967295,R=j+(N<<22&4294967295|N>>>10),N=w+(k^R&(j^k))+O[4]+4118548399&4294967295,w=R+(N<<7&4294967295|N>>>25),N=k+(j^w&(R^j))+O[5]+1200080426&4294967295,k=w+(N<<12&4294967295|N>>>20),N=j+(R^k&(w^R))+O[6]+2821735955&4294967295,j=k+(N<<17&4294967295|N>>>15),N=R+(w^j&(k^w))+O[7]+4249261313&4294967295,R=j+(N<<22&4294967295|N>>>10),N=w+(k^R&(j^k))+O[8]+1770035416&4294967295,w=R+(N<<7&4294967295|N>>>25),N=k+(j^w&(R^j))+O[9]+2336552879&4294967295,k=w+(N<<12&4294967295|N>>>20),N=j+(R^k&(w^R))+O[10]+4294925233&4294967295,j=k+(N<<17&4294967295|N>>>15),N=R+(w^j&(k^w))+O[11]+2304563134&4294967295,R=j+(N<<22&4294967295|N>>>10),N=w+(k^R&(j^k))+O[12]+1804603682&4294967295,w=R+(N<<7&4294967295|N>>>25),N=k+(j^w&(R^j))+O[13]+4254626195&4294967295,k=w+(N<<12&4294967295|N>>>20),N=j+(R^k&(w^R))+O[14]+2792965006&4294967295,j=k+(N<<17&4294967295|N>>>15),N=R+(w^j&(k^w))+O[15]+1236535329&4294967295,R=j+(N<<22&4294967295|N>>>10),N=w+(j^k&(R^j))+O[1]+4129170786&4294967295,w=R+(N<<5&4294967295|N>>>27),N=k+(R^j&(w^R))+O[6]+3225465664&4294967295,k=w+(N<<9&4294967295|N>>>23),N=j+(w^R&(k^w))+O[11]+643717713&4294967295,j=k+(N<<14&4294967295|N>>>18),N=R+(k^w&(j^k))+O[0]+3921069994&4294967295,R=j+(N<<20&4294967295|N>>>12),N=w+(j^k&(R^j))+O[5]+3593408605&4294967295,w=R+(N<<5&4294967295|N>>>27),N=k+(R^j&(w^R))+O[10]+38016083&4294967295,k=w+(N<<9&4294967295|N>>>23),N=j+(w^R&(k^w))+O[15]+3634488961&4294967295,j=k+(N<<14&4294967295|N>>>18),N=R+(k^w&(j^k))+O[4]+3889429448&4294967295,R=j+(N<<20&4294967295|N>>>12),N=w+(j^k&(R^j))+O[9]+568446438&4294967295,w=R+(N<<5&4294967295|N>>>27),N=k+(R^j&(w^R))+O[14]+3275163606&4294967295,k=w+(N<<9&4294967295|N>>>23),N=j+(w^R&(k^w))+O[3]+4107603335&4294967295,j=k+(N<<14&4294967295|N>>>18),N=R+(k^w&(j^k))+O[8]+1163531501&4294967295,R=j+(N<<20&4294967295|N>>>12),N=w+(j^k&(R^j))+O[13]+2850285829&4294967295,w=R+(N<<5&4294967295|N>>>27),N=k+(R^j&(w^R))+O[2]+4243563512&4294967295,k=w+(N<<9&4294967295|N>>>23),N=j+(w^R&(k^w))+O[7]+1735328473&4294967295,j=k+(N<<14&4294967295|N>>>18),N=R+(k^w&(j^k))+O[12]+2368359562&4294967295,R=j+(N<<20&4294967295|N>>>12),N=w+(R^j^k)+O[5]+4294588738&4294967295,w=R+(N<<4&4294967295|N>>>28),N=k+(w^R^j)+O[8]+2272392833&4294967295,k=w+(N<<11&4294967295|N>>>21),N=j+(k^w^R)+O[11]+1839030562&4294967295,j=k+(N<<16&4294967295|N>>>16),N=R+(j^k^w)+O[14]+4259657740&4294967295,R=j+(N<<23&4294967295|N>>>9),N=w+(R^j^k)+O[1]+2763975236&4294967295,w=R+(N<<4&4294967295|N>>>28),N=k+(w^R^j)+O[4]+1272893353&4294967295,k=w+(N<<11&4294967295|N>>>21),N=j+(k^w^R)+O[7]+4139469664&4294967295,j=k+(N<<16&4294967295|N>>>16),N=R+(j^k^w)+O[10]+3200236656&4294967295,R=j+(N<<23&4294967295|N>>>9),N=w+(R^j^k)+O[13]+681279174&4294967295,w=R+(N<<4&4294967295|N>>>28),N=k+(w^R^j)+O[0]+3936430074&4294967295,k=w+(N<<11&4294967295|N>>>21),N=j+(k^w^R)+O[3]+3572445317&4294967295,j=k+(N<<16&4294967295|N>>>16),N=R+(j^k^w)+O[6]+76029189&4294967295,R=j+(N<<23&4294967295|N>>>9),N=w+(R^j^k)+O[9]+3654602809&4294967295,w=R+(N<<4&4294967295|N>>>28),N=k+(w^R^j)+O[12]+3873151461&4294967295,k=w+(N<<11&4294967295|N>>>21),N=j+(k^w^R)+O[15]+530742520&4294967295,j=k+(N<<16&4294967295|N>>>16),N=R+(j^k^w)+O[2]+3299628645&4294967295,R=j+(N<<23&4294967295|N>>>9),N=w+(j^(R|~k))+O[0]+4096336452&4294967295,w=R+(N<<6&4294967295|N>>>26),N=k+(R^(w|~j))+O[7]+1126891415&4294967295,k=w+(N<<10&4294967295|N>>>22),N=j+(w^(k|~R))+O[14]+2878612391&4294967295,j=k+(N<<15&4294967295|N>>>17),N=R+(k^(j|~w))+O[5]+4237533241&4294967295,R=j+(N<<21&4294967295|N>>>11),N=w+(j^(R|~k))+O[12]+1700485571&4294967295,w=R+(N<<6&4294967295|N>>>26),N=k+(R^(w|~j))+O[3]+2399980690&4294967295,k=w+(N<<10&4294967295|N>>>22),N=j+(w^(k|~R))+O[10]+4293915773&4294967295,j=k+(N<<15&4294967295|N>>>17),N=R+(k^(j|~w))+O[1]+2240044497&4294967295,R=j+(N<<21&4294967295|N>>>11),N=w+(j^(R|~k))+O[8]+1873313359&4294967295,w=R+(N<<6&4294967295|N>>>26),N=k+(R^(w|~j))+O[15]+4264355552&4294967295,k=w+(N<<10&4294967295|N>>>22),N=j+(w^(k|~R))+O[6]+2734768916&4294967295,j=k+(N<<15&4294967295|N>>>17),N=R+(k^(j|~w))+O[13]+1309151649&4294967295,R=j+(N<<21&4294967295|N>>>11),N=w+(j^(R|~k))+O[4]+4149444226&4294967295,w=R+(N<<6&4294967295|N>>>26),N=k+(R^(w|~j))+O[11]+3174756917&4294967295,k=w+(N<<10&4294967295|N>>>22),N=j+(w^(k|~R))+O[2]+718787259&4294967295,j=k+(N<<15&4294967295|N>>>17),N=R+(k^(j|~w))+O[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(j+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+j&4294967295,I.g[3]=I.g[3]+k&4294967295}r.prototype.v=function(I,w){w===void 0&&(w=I.length);const R=w-this.blockSize,O=this.C;let j=this.h,k=0;for(;k<w;){if(j==0)for(;k<=R;)l(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<w;)if(O[j++]=I.charCodeAt(k++),j==this.blockSize){l(this,O),j=0;break}}else for(;k<w;)if(O[j++]=I[k++],j==this.blockSize){l(this,O),j=0;break}}this.h=j,this.o+=w},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;w=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=w&255,w/=256;for(this.v(I),I=Array(16),w=0,R=0;R<4;++R)for(let O=0;O<32;O+=8)I[w++]=this.g[R]>>>O&255;return I};function u(I,w){var R=p;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=w(I)}function f(I,w){this.h=w;const R=[];let O=!0;for(let j=I.length-1;j>=0;j--){const k=I[j]|0;O&&k==w||(R[j]=k,O=!1)}this.g=R}var p={};function _(I){return-128<=I&&I<128?u(I,function(w){return new f([w|0],w<0?-1:0)}):new f([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return T;if(I<0)return W(y(-I));const w=[];let R=1;for(let O=0;I>=R;O++)w[O]=I/R|0,R*=4294967296;return new f(w,0)}function E(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return W(E(I.substring(1),w));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(w,8));let O=T;for(let k=0;k<I.length;k+=8){var j=Math.min(8,I.length-k);const N=parseInt(I.substring(k,k+j),w);j<8?(j=y(Math.pow(w,j)),O=O.j(j).add(y(N))):(O=O.j(R),O=O.add(y(N)))}return O}var T=_(0),A=_(1),q=_(16777216);s=f.prototype,s.m=function(){if(Z(this))return-W(this).m();let I=0,w=1;for(let R=0;R<this.g.length;R++){const O=this.i(R);I+=(O>=0?O:4294967296+O)*w,w*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(F(this))return"0";if(Z(this))return"-"+W(this).toString(I);const w=y(Math.pow(I,6));var R=this;let O="";for(;;){const j=we(R,w).g;R=re(R,j.j(w));let k=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=j,F(R))return k+O;for(;k.length<6;)k="0"+k;O=k+O}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function F(I){if(I.h!=0)return!1;for(let w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function Z(I){return I.h==-1}s.l=function(I){return I=re(this,I),Z(I)?-1:F(I)?0:1};function W(I){const w=I.g.length,R=[];for(let O=0;O<w;O++)R[O]=~I.g[O];return new f(R,~I.h).add(A)}s.abs=function(){return Z(this)?W(this):this},s.add=function(I){const w=Math.max(this.g.length,I.g.length),R=[];let O=0;for(let j=0;j<=w;j++){let k=O+(this.i(j)&65535)+(I.i(j)&65535),N=(k>>>16)+(this.i(j)>>>16)+(I.i(j)>>>16);O=N>>>16,k&=65535,N&=65535,R[j]=N<<16|k}return new f(R,R[R.length-1]&-2147483648?-1:0)};function re(I,w){return I.add(W(w))}s.j=function(I){if(F(this)||F(I))return T;if(Z(this))return Z(I)?W(this).j(W(I)):W(W(this).j(I));if(Z(I))return W(this.j(W(I)));if(this.l(q)<0&&I.l(q)<0)return y(this.m()*I.m());const w=this.g.length+I.g.length,R=[];for(var O=0;O<2*w;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(let j=0;j<I.g.length;j++){const k=this.i(O)>>>16,N=this.i(O)&65535,rt=I.i(j)>>>16,Dt=I.i(j)&65535;R[2*O+2*j]+=N*Dt,ce(R,2*O+2*j),R[2*O+2*j+1]+=k*Dt,ce(R,2*O+2*j+1),R[2*O+2*j+1]+=N*rt,ce(R,2*O+2*j+1),R[2*O+2*j+2]+=k*rt,ce(R,2*O+2*j+2)}for(I=0;I<w;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=w;I<2*w;I++)R[I]=0;return new f(R,0)};function ce(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function he(I,w){this.g=I,this.h=w}function we(I,w){if(F(w))throw Error("division by zero");if(F(I))return new he(T,T);if(Z(I))return w=we(W(I),w),new he(W(w.g),W(w.h));if(Z(w))return w=we(I,W(w)),new he(W(w.g),w.h);if(I.g.length>30){if(Z(I)||Z(w))throw Error("slowDivide_ only works with positive integers.");for(var R=A,O=w;O.l(I)<=0;)R=Fe(R),O=Fe(O);var j=Oe(R,1),k=Oe(O,1);for(O=Oe(O,2),R=Oe(R,2);!F(O);){var N=k.add(O);N.l(I)<=0&&(j=j.add(R),k=N),O=Oe(O,1),R=Oe(R,1)}return w=re(I,j.j(w)),new he(j,w)}for(j=T;I.l(w)>=0;){for(R=Math.max(1,Math.floor(I.m()/w.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),k=y(R),N=k.j(w);Z(N)||N.l(I)>0;)R-=O,k=y(R),N=k.j(w);F(k)&&(k=A),j=j.add(k),I=re(I,N)}return new he(j,I)}s.B=function(I){return we(this,I).h},s.and=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let O=0;O<w;O++)R[O]=this.i(O)&I.i(O);return new f(R,this.h&I.h)},s.or=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let O=0;O<w;O++)R[O]=this.i(O)|I.i(O);return new f(R,this.h|I.h)},s.xor=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let O=0;O<w;O++)R[O]=this.i(O)^I.i(O);return new f(R,this.h^I.h)};function Fe(I){const w=I.g.length+1,R=[];for(let O=0;O<w;O++)R[O]=I.i(O)<<1|I.i(O-1)>>>31;return new f(R,I.h)}function Oe(I,w){const R=w>>5;w%=32;const O=I.g.length-R,j=[];for(let k=0;k<O;k++)j[k]=w>0?I.i(k+R)>>>w|I.i(k+R+1)<<32-w:I.i(k+R);return new f(j,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,qv=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Ks=f}).apply(typeof t_<"u"?t_:typeof self<"u"?self:typeof window<"u"?window:{});var Tu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Bv,bl,Hv,Iu,Kf,Fv,Gv,Qv;(function(){var s,e=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tu=="object"&&Tu];for(var g=0;g<c.length;++g){var b=c[g];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=i(this);function l(c,g){if(g)e:{var b=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var L=c[S];if(!(L in b))break e;b=b[L]}c=c[c.length-1],S=b[c],g=g(S),g!=S&&g!=null&&e(b,c,{configurable:!0,writable:!0,value:g})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(g){var b=[],S;for(S in g)Object.prototype.hasOwnProperty.call(g,S)&&b.push([S,g[S]]);return b}});var u=u||{},f=this||self;function p(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function _(c,g,b){return c.call.apply(c.bind,arguments)}function y(c,g,b){return y=_,y.apply(null,arguments)}function E(c,g){var b=Array.prototype.slice.call(arguments,1);return function(){var S=b.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function T(c,g){function b(){}b.prototype=g.prototype,c.Z=g.prototype,c.prototype=new b,c.prototype.constructor=c,c.Ob=function(S,L,B){for(var te=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)te[xe-2]=arguments[xe];return g.prototype[L].apply(S,te)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function q(c){const g=c.length;if(g>0){const b=Array(g);for(let S=0;S<g;S++)b[S]=c[S];return b}return[]}function F(c,g){for(let S=1;S<arguments.length;S++){const L=arguments[S];var b=typeof L;if(b=b!="object"?b:L?Array.isArray(L)?"array":b:"null",b=="array"||b=="object"&&typeof L.length=="number"){b=c.length||0;const B=L.length||0;c.length=b+B;for(let te=0;te<B;te++)c[b+te]=L[te]}else c.push(L)}}class Z{constructor(g,b){this.i=g,this.j=b,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function W(c){f.setTimeout(()=>{throw c},0)}function re(){var c=I;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class ce{constructor(){this.h=this.g=null}add(g,b){const S=he.get();S.set(g,b),this.h?this.h.next=S:this.g=S,this.h=S}}var he=new Z(()=>new we,c=>c.reset());class we{constructor(){this.next=this.g=this.h=null}set(g,b){this.h=g,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let Fe,Oe=!1,I=new ce,w=()=>{const c=Promise.resolve(void 0);Fe=()=>{c.then(R)}};function R(){for(var c;c=re();){try{c.h.call(c.g)}catch(b){W(b)}var g=he;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}Oe=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};f.addEventListener("test",b,g),f.removeEventListener("test",b,g)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function rt(c,g){j.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}T(rt,j),rt.prototype.init=function(c,g){const b=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(b=="mouseover"?g=c.fromElement:b=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&rt.Z.h.call(this)},rt.prototype.h=function(){rt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Dt="closure_listenable_"+(Math.random()*1e6|0),Q=0;function ne(c,g,b,S,L){this.listener=c,this.proxy=null,this.src=g,this.type=b,this.capture=!!S,this.ha=L,this.key=++Q,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ue(c,g,b){for(const S in c)g.call(b,c[S],S,c)}function Ge(c,g){for(const b in c)g.call(void 0,c[b],b,c)}function M(c){const g={};for(const b in c)g[b]=c[b];return g}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(c,g){let b,S;for(let L=1;L<arguments.length;L++){S=arguments[L];for(b in S)c[b]=S[b];for(let B=0;B<X.length;B++)b=X[B],Object.prototype.hasOwnProperty.call(S,b)&&(c[b]=S[b])}}function oe(c){this.src=c,this.g={},this.h=0}oe.prototype.add=function(c,g,b,S,L){const B=c.toString();c=this.g[B],c||(c=this.g[B]=[],this.h++);const te=Se(c,g,S,L);return te>-1?(g=c[te],b||(g.fa=!1)):(g=new ne(g,this.src,B,!!S,L),g.fa=b,c.push(g)),g};function _e(c,g){const b=g.type;if(b in c.g){var S=c.g[b],L=Array.prototype.indexOf.call(S,g,void 0),B;(B=L>=0)&&Array.prototype.splice.call(S,L,1),B&&(me(g),c.g[b].length==0&&(delete c.g[b],c.h--))}}function Se(c,g,b,S){for(let L=0;L<c.length;++L){const B=c[L];if(!B.da&&B.listener==g&&B.capture==!!b&&B.ha==S)return L}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),jt={};function at(c,g,b,S,L){if(Array.isArray(g)){for(let B=0;B<g.length;B++)at(c,g[B],b,S,L);return null}return b=po(b),c&&c[Dt]?c.J(g,b,p(S)?!!S.capture:!1,L):sr(c,g,b,!1,S,L)}function sr(c,g,b,S,L,B){if(!g)throw Error("Invalid event type");const te=p(L)?!!L.capture:!!L;let xe=rr(c);if(xe||(c[ke]=xe=new oe(c)),b=xe.add(g,b,S,te,B),b.proxy)return b;if(S=Xr(),b.proxy=S,S.src=c,S.listener=b,c.addEventListener)k||(L=te),L===void 0&&(L=!1),c.addEventListener(g.toString(),S,L);else if(c.attachEvent)c.attachEvent(ti(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Xr(){function c(b){return g.call(c.src,c.listener,b)}const g=mo;return c}function $r(c,g,b,S,L){if(Array.isArray(g))for(var B=0;B<g.length;B++)$r(c,g[B],b,S,L);else S=p(S)?!!S.capture:!!S,b=po(b),c&&c[Dt]?(c=c.i,B=String(g).toString(),B in c.g&&(g=c.g[B],b=Se(g,b,S,L),b>-1&&(me(g[b]),Array.prototype.splice.call(g,b,1),g.length==0&&(delete c.g[B],c.h--)))):c&&(c=rr(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Se(g,b,S,L)),(b=c>-1?g[c]:null)&&Jr(b))}function Jr(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Dt])_e(g.i,c);else{var b=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(b,S,c.capture):g.detachEvent?g.detachEvent(ti(b),S):g.addListener&&g.removeListener&&g.removeListener(S),(b=rr(g))?(_e(b,c),b.h==0&&(b.src=null,g[ke]=null)):me(c)}}}function ti(c){return c in jt?jt[c]:jt[c]="on"+c}function mo(c,g){if(c.da)c=!0;else{g=new rt(g,this);const b=c.listener,S=c.ha||c.src;c.fa&&Jr(c),c=b.call(S,g)}return c}function rr(c){return c=c[ke],c instanceof oe?c:null}var go="__closure_events_fn_"+(Math.random()*1e9>>>0);function po(c){return typeof c=="function"?c:(c[go]||(c[go]=function(g){return c.handleEvent(g)}),c[go])}function yt(){O.call(this),this.i=new oe(this),this.M=this,this.G=null}T(yt,O),yt.prototype[Dt]=!0,yt.prototype.removeEventListener=function(c,g,b,S){$r(this,c,g,b,S)};function Mt(c,g){var b,S=c.G;if(S)for(b=[];S;S=S.G)b.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new j(g,c);else if(g instanceof j)g.target=g.target||c;else{var L=g;g=new j(S,c),ie(g,L)}L=!0;let B,te;if(b)for(te=b.length-1;te>=0;te--)B=g.g=b[te],L=as(B,S,!0,g)&&L;if(B=g.g=c,L=as(B,S,!0,g)&&L,L=as(B,S,!1,g)&&L,b)for(te=0;te<b.length;te++)B=g.g=b[te],L=as(B,S,!1,g)&&L}yt.prototype.N=function(){if(yt.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const b=c.g[g];for(let S=0;S<b.length;S++)me(b[S]);delete c.g[g],c.h--}}this.G=null},yt.prototype.J=function(c,g,b,S){return this.i.add(String(c),g,!1,b,S)},yt.prototype.K=function(c,g,b,S){return this.i.add(String(c),g,!0,b,S)};function as(c,g,b,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let L=!0;for(let B=0;B<g.length;++B){const te=g[B];if(te&&!te.da&&te.capture==b){const xe=te.listener,ft=te.ha||te.src;te.fa&&_e(c.i,te),L=xe.call(ft,S)!==!1&&L}}return L&&!S.defaultPrevented}function Sh(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function Kl(c){c.g=Sh(()=>{c.g=null,c.i&&(c.i=!1,Kl(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class nn extends O{constructor(g,b){super(),this.m=g,this.l=b,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Kl(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ar(c){O.call(this),this.h=c,this.g={}}T(ar,O);var yo=[];function _o(c){Ue(c.g,function(g,b){this.g.hasOwnProperty(b)&&Jr(g)},c),c.g={}}ar.prototype.N=function(){ar.Z.N.call(this),_o(this)},ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var os=f.JSON.stringify,Ah=f.JSON.parse,Xl=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function $l(){}function Jl(){}var Pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){j.call(this,"d")}T(Bt,j);function Tn(){j.call(this,"c")}T(Tn,j);var dt={},Zl=null;function Zr(){return Zl=Zl||new yt}dt.Ia="serverreachability";function Wl(c){j.call(this,dt.Ia,c)}T(Wl,j);function ni(c){const g=Zr();Mt(g,new Wl(g))}dt.STAT_EVENT="statevent";function or(c,g){j.call(this,dt.STAT_EVENT,c),this.stat=g}T(or,j);function _t(c){const g=Zr();Mt(g,new or(g,c))}dt.Ja="timingevent";function ii(c,g){j.call(this,dt.Ja,c),this.size=g}T(ii,j);function si(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function wh(c,g,b,S,L,B){c.info(function(){if(c.g)if(B){var te="",xe=B.split("&");for(let qe=0;qe<xe.length;qe++){var ft=xe[qe].split("=");if(ft.length>1){const ot=ft[0];ft=ft[1];const Nn=ot.split("_");te=Nn.length>=2&&Nn[1]=="type"?te+(ot+"="+ft+"&"):te+(ot+"=redacted&")}}}else te=null;else te=B;return"XMLHTTP REQ ("+S+") [attempt "+L+"]: "+g+`
`+b+`
`+te})}function ec(c,g,b,S,L,B,te){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+L+"]: "+g+`
`+b+`
`+B+" "+te})}function ri(c,g,b,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Nh(c,b)+(S?" "+S:"")})}function lr(c,g){c.info(function(){return"TIMEOUT: "+g})}zn.prototype.info=function(){};function Nh(c,g){if(!c.g)return g;if(!g)return null;try{const B=JSON.parse(g);if(B){for(c=0;c<B.length;c++)if(Array.isArray(B[c])){var b=B[c];if(!(b.length<2)){var S=b[1];if(Array.isArray(S)&&!(S.length<1)){var L=S[0];if(L!="noop"&&L!="stop"&&L!="close")for(let te=1;te<S.length;te++)S[te]=""}}}}return os(B)}catch{return g}}var cr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bo;function ur(){}T(ur,$l),ur.prototype.g=function(){return new XMLHttpRequest},bo=new ur;function ji(c){return encodeURIComponent(String(c))}function tc(c){var g=1;c=c.split(":");const b=[];for(;g>0&&c.length;)b.push(c.shift()),g--;return c.length&&b.push(c.join(":")),b}function qn(c,g,b,S){this.j=c,this.i=g,this.l=b,this.S=S||1,this.V=new ar(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var vt={},Lt={};function ai(c,g,b){c.M=1,c.A=hr(Et(g)),c.u=b,c.R=!0,Wr(c,null)}function Wr(c,g){c.F=Date.now(),oi(c),c.B=Et(c.A);var b=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),ia(b.i,"t",S),c.C=0,b=c.j.L,c.h=new Bn,c.g=pc(c.j,b?g:null,!c.u),c.P>0&&(c.O=new nn(y(c.Y,c,c.g),c.P)),g=c.V,b=c.g,S=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(yo[0]=L.toString()),L=yo);for(let B=0;B<L.length;B++){const te=at(b,L[B],S||g.handleEvent,!1,g.h||g);if(!te)break;g.g[te.key]=te}g=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),ni(),wh(c.i,c.v,c.B,c.l,c.S,c.u)}qn.prototype.ba=function(c){c=c.target;const g=this.O;g&&Gn(c)==3?g.j():this.Y(c)},qn.prototype.Y=function(c){try{if(c==this.g)e:{const xe=Gn(this.g),ft=this.g.ya(),qe=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||xe!=4||ft==7||(ft==8||qe<=0?ni(3):ni(2)),li(this);var g=this.g.ca();this.X=g;var b=Ch(this);if(this.o=g==200,ec(this.i,this.v,this.B,this.l,this.S,xe,g),this.o){if(this.U&&!this.L){t:{if(this.g){var S,L=this.g;if((S=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(S)){var B=S;break t}}B=null}if(c=B)ri(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ci(this,c);else{this.o=!1,this.m=3,_t(12),mn(this),Sn(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<b.length;)if(ot=ic(this,b),ot==Lt){xe==4&&(this.m=4,_t(14),c=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==vt){this.m=4,_t(15),ri(this.i,this.l,b,"[Invalid Chunk]"),c=!1;break}else ri(this.i,this.l,ot,null),ci(this,ot);if(nc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||b.length!=0||this.h.h||(this.m=1,_t(16),c=!1),this.o=this.o&&c,!c)ri(this.i,this.l,b,"[Invalid Chunked Response]"),mn(this),Sn(this);else if(b.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Vo(te),te.P=!0,_t(11))}}else ri(this.i,this.l,b,null),ci(this,b);xe==4&&mn(this),this.o&&!this.K&&(xe==4?dc(this.j,this):(this.o=!1,oi(this)))}else Oi(this.g),g==400&&b.indexOf("Unknown SID")>0?(this.m=3,_t(12)):(this.m=0,_t(13)),mn(this),Sn(this)}}}catch{}finally{}};function Ch(c){if(!nc(c))return c.g.la();const g=Ht(c.g);if(g==="")return"";let b="";const S=g.length,L=Gn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return mn(c),Sn(c),"";c.h.i=new f.TextDecoder}for(let B=0;B<S;B++)c.h.h=!0,b+=c.h.i.decode(g[B],{stream:!(L&&B==S-1)});return g.length=0,c.h.g+=b,c.C=0,c.h.g}function nc(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function ic(c,g){var b=c.C,S=g.indexOf(`
`,b);return S==-1?Lt:(b=Number(g.substring(b,S)),isNaN(b)?vt:(S+=1,S+b>g.length?Lt:(g=g.slice(S,S+b),c.C=S+b,g)))}qn.prototype.cancel=function(){this.K=!0,mn(this)};function oi(c){c.T=Date.now()+c.H,ea(c,c.H)}function ea(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=si(y(c.aa,c),g)}function li(c){c.D&&(f.clearTimeout(c.D),c.D=null)}qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(lr(this.i,this.B),this.M!=2&&(ni(),_t(17)),mn(this),this.m=2,Sn(this)):ea(this,this.T-c)};function Sn(c){c.j.I==0||c.K||dc(c.j,c)}function mn(c){li(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,_o(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function ci(c,g){try{var b=c.j;if(b.I!=0&&(b.g==c||hi(b.h,c))){if(!c.L&&hi(b.h,c)&&b.I==3){try{var S=b.Ba.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var L=S;if(L[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<c.F)la(b),gs(b);else break e;_r(b),_t(18)}}else b.xa=L[1],0<b.xa-b.K&&L[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=si(y(b.Va,b),6e3));ui(b.h)<=1&&b.ta&&(b.ta=void 0)}else yi(b,11)}else if((c.L||b.g==c)&&la(b),!N(g))for(L=b.Ba.g.parse(g),g=0;g<L.length;g++){let qe=L[g];const ot=qe[0];if(!(ot<=b.K))if(b.K=ot,qe=qe[1],b.I==2)if(qe[0]=="c"){b.M=qe[1],b.ba=qe[2];const Nn=qe[3];Nn!=null&&(b.ka=Nn,b.j.info("VER="+b.ka));const _i=qe[4];_i!=null&&(b.za=_i,b.j.info("SVER="+b.za));const Qn=qe[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(S=1.5*Qn,b.O=S,b.j.info("backChannelRequestTimeoutMs_="+S)),S=b;const Yn=c.g;if(Yn){const vr=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vr){var B=S.h;B.g||vr.indexOf("spdy")==-1&&vr.indexOf("quic")==-1&&vr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(To(B,B.h),B.h=null))}if(S.G){const ca=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;ca&&(S.wa=ca,Qe(S.J,S.G,ca))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-c.F,b.j.info("Handshake RTT: "+b.T+"ms")),S=b;var te=c;if(S.na=gc(S,S.L?S.ba:null,S.W),te.L){So(S.h,te);var xe=te,ft=S.O;ft&&(xe.H=ft),xe.D&&(li(xe),oi(xe)),S.g=te}else uc(S);b.i.length>0&&pi(b)}else qe[0]!="stop"&&qe[0]!="close"||yi(b,7);else b.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?yi(b,7):Mo(b):qe[0]!="noop"&&b.l&&b.l.qa(qe),b.A=0)}}ni(4)}catch{}}var bt=class{constructor(c,g){this.g=c,this.map=g}};function Eo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function xo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ui(c){return c.h?1:c.g?c.g.size:0}function hi(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function To(c,g){c.g?c.g.add(g):c.h=g}function So(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Eo.prototype.cancel=function(){if(this.i=Ao(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ao(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const b of c.g.values())g=g.concat(b.G);return g}return q(c.i)}var sc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ta(c,g){if(c){c=c.split("&");for(let b=0;b<c.length;b++){const S=c[b].indexOf("=");let L,B=null;S>=0?(L=c[b].substring(0,S),B=c[b].substring(S+1)):L=c[b],g(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function gn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof gn?(this.l=c.l,Ut(this,c.j),this.o=c.o,this.g=c.g,ls(this,c.u),this.h=c.h,wo(this,lc(c.i)),this.m=c.m):c&&(g=String(c).match(sc))?(this.l=!1,Ut(this,g[1]||"",!0),this.o=di(g[2]||""),this.g=di(g[3]||"",!0),ls(this,g[4]),this.h=di(g[5]||"",!0),wo(this,g[6]||"",!0),this.m=di(g[7]||"")):(this.l=!1,this.i=new us(null,this.l))}gn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(dr(g,na,!0),":");var b=this.g;return(b||g=="file")&&(c.push("//"),(g=this.o)&&c.push(dr(g,na,!0),"@"),c.push(ji(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&c.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(dr(b,b.charAt(0)=="/"?No:rc,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",dr(b,ac)),c.join("")},gn.prototype.resolve=function(c){const g=Et(this);let b=!!c.j;b?Ut(g,c.j):b=!!c.o,b?g.o=c.o:b=!!c.g,b?g.g=c.g:b=c.u!=null;var S=c.h;if(b)ls(g,c.u);else if(b=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var L=g.h.lastIndexOf("/");L!=-1&&(S=g.h.slice(0,L+1)+S)}if(L=S,L==".."||L==".")S="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){S=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let te=0;te<L.length;){const xe=L[te++];xe=="."?S&&te==L.length&&B.push(""):xe==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),S&&te==L.length&&B.push("")):(B.push(xe),S=!0)}S=B.join("/")}else S=L}return b?g.h=S:b=c.i.toString()!=="",b?wo(g,lc(c.i)):b=!!c.m,b&&(g.m=c.m),g};function Et(c){return new gn(c)}function Ut(c,g,b){c.j=b?di(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ls(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function wo(c,g,b){g instanceof us?(c.i=g,sa(c.i,c.l)):(b||(g=dr(g,cs)),c.i=new us(g,c.l))}function Qe(c,g,b){c.i.set(g,b)}function hr(c){return Qe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function di(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function dr(c,g,b){return typeof c=="string"?(c=encodeURI(c).replace(g,an),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function an(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var na=/[#\/\?@]/g,rc=/[#\?:]/g,No=/[#\?]/g,cs=/[#\?@]/g,ac=/#/g;function us(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function on(c){c.g||(c.g=new Map,c.h=0,c.i&&ta(c.i,function(g,b){c.add(decodeURIComponent(g.replace(/\+/g," ")),b)}))}s=us.prototype,s.add=function(c,g){on(this),this.i=null,c=hs(this,c);let b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(g),this.h+=1,this};function oc(c,g){on(c),g=hs(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Co(c,g){return on(c),g=hs(c,g),c.g.has(g)}s.forEach=function(c,g){on(this),this.g.forEach(function(b,S){b.forEach(function(L){c.call(g,L,S,this)},this)},this)};function Ro(c,g){on(c);let b=[];if(typeof g=="string")Co(c,g)&&(b=b.concat(c.g.get(hs(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)b=b.concat(c[g]);return b}s.set=function(c,g){return on(this),this.i=null,c=hs(this,c),Co(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},s.get=function(c,g){return c?(c=Ro(this,c),c.length>0?String(c[0]):g):g};function ia(c,g,b){oc(c,g),b.length>0&&(c.i=null,c.g.set(hs(c,g),q(b)),c.h+=b.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let S=0;S<g.length;S++){var b=g[S];const L=ji(b);b=Ro(this,b);for(let B=0;B<b.length;B++){let te=L;b[B]!==""&&(te+="="+ji(b[B])),c.push(te)}}return this.i=c.join("&")};function lc(c){const g=new us;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function hs(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function sa(c,g){g&&!c.j&&(on(c),c.i=null,c.g.forEach(function(b,S){const L=S.toLowerCase();S!=L&&(oc(this,S),ia(this,L,b))},c)),c.j=g}function Hn(c,g){const b=new zn;if(f.Image){const S=new Image;S.onload=E(An,b,"TestLoadImage: loaded",!0,g,S),S.onerror=E(An,b,"TestLoadImage: error",!1,g,S),S.onabort=E(An,b,"TestLoadImage: abort",!1,g,S),S.ontimeout=E(An,b,"TestLoadImage: timeout",!1,g,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function Io(c,g){const b=new zn,S=new AbortController,L=setTimeout(()=>{S.abort(),An(b,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(B=>{clearTimeout(L),B.ok?An(b,"TestPingServer: ok",!0,g):An(b,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(L),An(b,"TestPingServer: error",!1,g)})}function An(c,g,b,S,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),S(b)}catch{}}function ds(){this.g=new Xl}function fi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(fi,$l),fi.prototype.g=function(){return new fr(this.i,this.h)};function fr(c,g){yt.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(fr,yt),s=fr.prototype,s.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,Fn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fs(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ra(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ra(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?fs(this):Fn(this),this.readyState==3&&ra(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,fs(this))},s.Na=function(c){this.g&&(this.response=c,fs(this))},s.ga=function(){this.g&&fs(this)};function fs(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Fn(c)}s.setRequestHeader=function(c,g){this.A.append(c,g)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var b=g.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=g.next();return c.join(`\r
`)};function Fn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(fr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function wn(c){let g="";return Ue(c,function(b,S){g+=S,g+=":",g+=b,g+=`\r
`}),g}function mr(c,g,b){e:{for(S in b){var S=!1;break e}S=!0}S||(b=wn(b),typeof c=="string"?b!=null&&ji(b):Qe(c,g,b))}function $e(c){yt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T($e,yt);var mi=/^https?$/i,Do=["POST","PUT"];s=$e.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,g,b,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bo.g(),this.g.onreadystatechange=A(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(B){gr(this,B);return}if(c=b||"",b=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var L in S)b.set(L,S[L]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const B of S.keys())b.set(B,S.get(B));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(b.keys()).find(B=>B.toLowerCase()=="content-type"),L=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Do,g,void 0)>=0)||S||L||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,te]of b)this.g.setRequestHeader(B,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(B){gr(this,B)}};function gr(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,jo(c),Mi(c)}function jo(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Mt(this,"complete"),Mt(this,"abort"),Mi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mi(this,!0)),$e.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?pr(this):this.Xa())},s.Xa=function(){pr(this)};function pr(c){if(c.h&&typeof u<"u"){if(c.v&&Gn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Mt(c,"readystatechange"),Gn(c)==4){c.h=!1;try{const B=c.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var b;if(!(b=g)){var S;if(S=B===0){let te=String(c.D).match(sc)[1]||null;!te&&f.self&&f.self.location&&(te=f.self.location.protocol.slice(0,-1)),S=!mi.test(te?te.toLowerCase():"")}b=S}if(b)Mt(c,"complete"),Mt(c,"success");else{c.o=6;try{var L=Gn(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",jo(c)}}finally{Mi(c)}}}}function Mi(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const b=c.g;c.g=null,g||Mt(c,"ready");try{b.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Gn(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Ah(g)}};function Ht(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Oi(c){const g={};c=(c.g&&Gn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(N(c[S]))continue;var b=tc(c[S]);const L=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const B=g[L]||[];g[L]=B,B.push(b)}Ge(g,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function gi(c,g,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||g}function ms(c){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=gi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=gi("baseRetryDelayMs",5e3,c),this.Za=gi("retryDelaySeedMs",1e4,c),this.Ta=gi("forwardChannelMaxRetries",2,c),this.va=gi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Eo(c&&c.concurrentRequestLimit),this.Ba=new ds,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ms.prototype,s.ka=8,s.I=1,s.connect=function(c,g,b,S){_t(0),this.W=c,this.H=g||{},b&&S!==void 0&&(this.H.OSID=b,this.H.OAID=S),this.F=this.X,this.J=gc(this,null,this.W),pi(this)};function Mo(c){if(aa(c),c.I==3){var g=c.V++,b=Et(c.J);if(Qe(b,"SID",c.M),Qe(b,"RID",g),Qe(b,"TYPE","terminate"),yr(c,b),g=new qn(c,c.j,g),g.M=2,g.A=hr(Et(b)),b=!1,f.navigator&&f.navigator.sendBeacon)try{b=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!b&&f.Image&&(new Image().src=g.A,b=!0),b||(g.g=pc(g.j,null),g.g.ea(g.A)),g.F=Date.now(),oi(g)}mc(c)}function gs(c){c.g&&(Vo(c),c.g.cancel(),c.g=null)}function aa(c){gs(c),c.v&&(f.clearTimeout(c.v),c.v=null),la(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function pi(c){if(!xo(c.h)&&!c.m){c.m=!0;var g=c.Ea;Fe||w(),Oe||(Fe(),Oe=!0),I.add(g,c),c.D=0}}function oa(c,g){return ui(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=si(y(c.Ea,c,g),fc(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new qn(this,this.j,c);let B=this.o;if(this.U&&(B?(B=M(B),ie(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)e:{for(var g=0,b=0;b<this.i.length;b++){t:{var S=this.i[b];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,g>4096){g=b;break e}if(g===4096||b===this.i.length-1){g=b+1;break e}}g=1e3}else g=1e3;g=cc(this,L,g),b=Et(this.J),Qe(b,"RID",c),Qe(b,"CVER",22),this.G&&Qe(b,"X-HTTP-Session-Id",this.G),yr(this,b),B&&(this.R?g="headers="+ji(wn(B))+"&"+g:this.u&&mr(b,this.u,B)),To(this.h,L),this.Ra&&Qe(b,"TYPE","init"),this.S?(Qe(b,"$req",g),Qe(b,"SID","null"),L.U=!0,ai(L,b,null)):ai(L,b,g),this.I=2}}else this.I==3&&(c?Oo(this,c):this.i.length==0||xo(this.h)||Oo(this))};function Oo(c,g){var b;g?b=g.l:b=c.V++;const S=Et(c.J);Qe(S,"SID",c.M),Qe(S,"RID",b),Qe(S,"AID",c.K),yr(c,S),c.u&&c.o&&mr(S,c.u,c.o),b=new qn(c,c.j,b,c.D+1),c.u===null&&(b.J=c.o),g&&(c.i=g.G.concat(c.i)),g=cc(c,b,1e3),b.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),To(c.h,b),ai(b,S,g)}function yr(c,g){c.H&&Ue(c.H,function(b,S){Qe(g,S,b)}),c.l&&Ue({},function(b,S){Qe(g,S,b)})}function cc(c,g,b){b=Math.min(c.i.length,b);const S=c.l?y(c.l.Ka,c.l,c):null;e:{var L=c.i;let xe=-1;for(;;){const ft=["count="+b];xe==-1?b>0?(xe=L[0].g,ft.push("ofs="+xe)):xe=0:ft.push("ofs="+xe);let qe=!0;for(let ot=0;ot<b;ot++){var B=L[ot].g;const Nn=L[ot].map;if(B-=xe,B<0)xe=Math.max(0,L[ot].g-100),qe=!1;else try{B="req"+B+"_"||"";try{var te=Nn instanceof Map?Nn:Object.entries(Nn);for(const[_i,Qn]of te){let Yn=Qn;p(Qn)&&(Yn=os(Qn)),ft.push(B+_i+"="+encodeURIComponent(Yn))}}catch(_i){throw ft.push(B+"type="+encodeURIComponent("_badmap")),_i}}catch{S&&S(Nn)}}if(qe){te=ft.join("&");break e}}te=void 0}return c=c.i.splice(0,b),g.G=c,te}function uc(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;Fe||w(),Oe||(Fe(),Oe=!0),I.add(g,c),c.A=0}}function _r(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=si(y(c.Da,c),fc(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,hc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=si(y(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_t(10),gs(this),hc(this))};function Vo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function hc(c){c.g=new qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=Et(c.na);Qe(g,"RID","rpc"),Qe(g,"SID",c.M),Qe(g,"AID",c.K),Qe(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qe(g,"TO",c.ia),Qe(g,"TYPE","xmlhttp"),yr(c,g),c.u&&c.o&&mr(g,c.u,c.o),c.O&&(c.g.H=c.O);var b=c.g;c=c.ba,b.M=1,b.A=hr(Et(g)),b.u=null,b.R=!0,Wr(b,c)}s.Va=function(){this.C!=null&&(this.C=null,gs(this),_r(this),_t(19))};function la(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function dc(c,g){var b=null;if(c.g==g){la(c),Vo(c),c.g=null;var S=2}else if(hi(c.h,g))b=g.G,So(c.h,g),S=1;else return;if(c.I!=0){if(g.o)if(S==1){b=g.u?g.u.length:0,g=Date.now()-g.F;var L=c.D;S=Zr(),Mt(S,new ii(S,b)),pi(c)}else uc(c);else if(L=g.m,L==3||L==0&&g.X>0||!(S==1&&oa(c,g)||S==2&&_r(c)))switch(b&&b.length>0&&(g=c.h,g.i=g.i.concat(b)),L){case 1:yi(c,5);break;case 4:yi(c,10);break;case 3:yi(c,6);break;default:yi(c,2)}}}function fc(c,g){let b=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(b*=2),b*g}function yi(c,g){if(c.j.info("Error code "+g),g==2){var b=y(c.bb,c),S=c.Ua;const L=!S;S=new gn(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ut(S,"https"),hr(S),L?Hn(S.toString(),b):Io(S.toString(),b)}else _t(2);c.I=0,c.l&&c.l.pa(g),mc(c),aa(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function mc(c){if(c.I=0,c.ja=[],c.l){const g=Ao(c.h);(g.length!=0||c.i.length!=0)&&(F(c.ja,g),F(c.ja,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.oa()}}function gc(c,g,b){var S=b instanceof gn?Et(b):new gn(b);if(S.g!="")g&&(S.g=g+"."+S.g),ls(S,S.u);else{var L=f.location;S=L.protocol,g=g?g+"."+L.hostname:L.hostname,L=+L.port;const B=new gn(null);S&&Ut(B,S),g&&(B.g=g),L&&ls(B,L),b&&(B.h=b),S=B}return b=c.G,g=c.wa,b&&g&&Qe(S,b,g),Qe(S,"VER",c.ka),yr(c,S),S}function pc(c,g,b){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new $e(new fi({ab:b})):new $e(c.ma),g.Fa(c.L),g}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function yc(){}s=yc.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ps(){}ps.prototype.g=function(c,g){return new sn(c,g)};function sn(c,g){yt.call(this),this.g=new ms(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!N(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!N(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Vi(this)}T(sn,yt),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Mo(this.g)},sn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.v&&(b={},b.__data__=os(c),c=b);g.i.push(new bt(g.Ya++,c)),g.I==3&&pi(g)},sn.prototype.N=function(){this.g.l=null,delete this.j,Mo(this.g),delete this.g,sn.Z.N.call(this)};function _c(c){Bt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const b in g){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}T(_c,Bt);function vc(){Tn.call(this),this.status=1}T(vc,Tn);function Vi(c){this.g=c}T(Vi,yc),Vi.prototype.ra=function(){Mt(this.g,"a")},Vi.prototype.qa=function(c){Mt(this.g,new _c(c))},Vi.prototype.pa=function(c){Mt(this.g,new vc)},Vi.prototype.oa=function(){Mt(this.g,"b")},ps.prototype.createWebChannel=ps.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,Qv=function(){return new ps},Gv=function(){return Zr()},Fv=dt,Kf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},cr.NO_ERROR=0,cr.TIMEOUT=8,cr.HTTP_ERROR=6,Iu=cr,vo.COMPLETE="complete",Hv=vo,Jl.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",yt.prototype.listen=yt.prototype.J,bl=Jl,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,Bv=$e}).apply(typeof Tu<"u"?Tu:typeof self<"u"?self:typeof window<"u"?window:{});const n_="@firebase/firestore",i_="4.9.2";class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");let ao="12.3.0";const qr=new ym("@firebase/firestore");function Pa(){return qr.logLevel}function ae(s,...e){if(qr.logLevel<=De.DEBUG){const i=e.map(bm);qr.debug(`Firestore (${ao}): ${s}`,...i)}}function ts(s,...e){if(qr.logLevel<=De.ERROR){const i=e.map(bm);qr.error(`Firestore (${ao}): ${s}`,...i)}}function Ja(s,...e){if(qr.logLevel<=De.WARN){const i=e.map(bm);qr.warn(`Firestore (${ao}): ${s}`,...i)}}function bm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function pe(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,Yv(s,r,i)}function Yv(s,e,i){let r=`FIRESTORE (${ao}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ts(r),new Error(r)}function He(s,e,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||Yv(e,l,r)}function Ee(s,e){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends rs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xs{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class Kv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Wt.UNAUTHENTICATED)))}shutdown(){}}class ZS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class WS{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){He(this.o===void 0,42304);let r=this.i;const l=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let u=new Xs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Xs,e.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const _=u;e.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Xs)}}),0),f()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string",31837,{l:r}),new Kv(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class e2{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class t2{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new e2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class s_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class n2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Si(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){He(this.o===void 0,3512);const r=u=>{u.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ae("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const l=u=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new s_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(He(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new s_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function i2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Em{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=i2(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<i&&(r+=e.charAt(l[u]%62))}return r}}function je(s,e){return s<e?-1:s>e?1:0}function Xf(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const l=s.charAt(r),u=e.charAt(r);if(l!==u)return Of(l)===Of(u)?je(l,u):Of(l)?1:-1}return je(s.length,e.length)}const s2=55296,r2=57343;function Of(s){const e=s.charCodeAt(0);return e>=s2&&e<=r2}function Za(s,e,i){return s.length===e.length&&s.every(((r,l)=>i(r,e[l])))}const r_="__name__";class Ti{constructor(e,i,r){i===void 0?i=0:i>e.length&&pe(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&pe(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Ti.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ti?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let l=0;l<r;l++){const u=Ti.compareSegments(e.get(l),i.get(l));if(u!==0)return u}return je(e.length,i.length)}static compareSegments(e,i){const r=Ti.isNumericId(e),l=Ti.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Ti.extractNumericId(e).compare(Ti.extractNumericId(i)):Xf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ks.fromString(e.substring(4,e.length-2))}}class tt extends Ti{construct(e,i,r){return new tt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new se($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new tt(i)}static emptyPath(){return new tt([])}}const a2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Ti{construct(e,i,r){return new Xt(e,i,r)}static isValidIdentifier(e){return a2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===r_}static keyField(){return new Xt([r_])}static fromServerFormat(e){const i=[];let r="",l=0;const u=()=>{if(r.length===0)throw new se($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let f=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new se($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new se($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,l+=2}else p==="`"?(f=!f,l++):p!=="."||f?(r+=p,l++):(u(),l++)}if(u(),f)throw new se($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(i)}static emptyPath(){return new Xt([])}}class fe{constructor(e){this.path=e}static fromPath(e){return new fe(tt.fromString(e))}static fromName(e){return new fe(tt.fromString(e).popFirst(5))}static empty(){return new fe(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return tt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new tt(e.slice()))}}function Xv(s,e,i){if(!i)throw new se($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function o2(s,e,i,r){if(e===!0&&r===!0)throw new se($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function a_(s){if(!fe.isDocumentKey(s))throw new se($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function o_(s){if(fe.isDocumentKey(s))throw new se($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function $v(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function ch(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":pe(12329,{type:typeof s})}function Fu(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new se($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ch(s);throw new se($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Ct(s,e){const i={typeString:s};return e&&(i.value=e),i}function zl(s,e){if(!$v(s))throw new se($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const l=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const f=s[r];if(l&&typeof f!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&f!==u.value){i=`Expected '${r}' field to equal '${u.value}'`;break}}if(i)throw new se($.INVALID_ARGUMENT,i);return!0}const l_=-62135596800,c_=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*c_);return new st(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new se($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new se($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<l_)throw new se($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/c_}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zl(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-l_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:Ct("string",st._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};class ve{static fromTimestamp(e){return new ve(e)}static min(){return new ve(new st(0,0))}static max(){return new ve(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Il=-1;function l2(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=ve.fromTimestamp(r===1e9?new st(i+1,0):new st(i,r));return new Js(l,fe.empty(),e)}function c2(s){return new Js(s.readTime,s.key,Il)}class Js{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Js(ve.min(),fe.empty(),Il)}static max(){return new Js(ve.max(),fe.empty(),Il)}}function u2(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=fe.comparator(s.documentKey,e.documentKey),i!==0?i:je(s.largestBatchId,e.largestBatchId))}const h2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class d2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function oo(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==h2)throw s;ae("LocalStore","Unexpectedly lost primary lease")}class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new J(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):J.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):J.reject(i)}static resolve(e){return new J(((i,r)=>{i(e)}))}static reject(e){return new J(((i,r)=>{r(e)}))}static waitFor(e){return new J(((i,r)=>{let l=0,u=0,f=!1;e.forEach((p=>{++l,p.next((()=>{++u,f&&u===l&&i()}),(_=>r(_)))})),f=!0,u===l&&i()}))}static or(e){let i=J.resolve(!1);for(const r of e)i=i.next((l=>l?J.resolve(l):r()));return i}static forEach(e,i){const r=[];return e.forEach(((l,u)=>{r.push(i.call(this,l,u))})),this.waitFor(r)}static mapArray(e,i){return new J(((r,l)=>{const u=e.length,f=new Array(u);let p=0;for(let _=0;_<u;_++){const y=_;i(e[y]).next((E=>{f[y]=E,++p,p===u&&r(f)}),(E=>l(E)))}}))}static doWhile(e,i){return new J(((r,l)=>{const u=()=>{e()===!0?i().next((()=>{u()}),l):r()};u()}))}}function f2(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function lo(s){return s.name==="IndexedDbTransactionError"}class uh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}uh.ce=-1;const xm=-1;function hh(s){return s==null}function Gu(s){return s===0&&1/s==-1/0}function m2(s){return typeof s=="number"&&Number.isInteger(s)&&!Gu(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const Jv="";function g2(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=u_(e)),e=p2(s.get(i),e);return u_(e)}function p2(s,e){let i=e;const r=s.length;for(let l=0;l<r;l++){const u=s.charAt(l);switch(u){case"\0":i+="";break;case Jv:i+="";break;default:i+=u}}return i}function u_(s){return s+Jv+""}function h_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Fr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function Zv(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ct{constructor(e,i){this.comparator=e,this.root=i||Kt.EMPTY}insert(e,i){return new ct(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Su(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Su(this.root,e,this.comparator,!1)}getReverseIterator(){return new Su(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Su(this.root,e,this.comparator,!0)}}class Su{constructor(e,i,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=i?r(e.key,i):1,i&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,i,r,l,u){this.key=e,this.value=i,this.color=r??Kt.RED,this.left=l??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,l,u){return new Kt(e??this.key,i??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const u=r(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,i,r),null):u===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Kt.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pe(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw pe(57766)}get value(){throw pe(16141)}get color(){throw pe(16727)}get left(){throw pe(29726)}get right(){throw pe(36894)}copy(e,i,r,l,u){return this}insert(e,i,r){return new Kt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new d_(this.data.getIterator())}getIteratorFrom(e){return new d_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Vt(this.comparator);return i.data=e,i}}class d_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Jn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Jn([])}unionWith(e){let i=new Vt(Xt.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Jn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Za(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class Wv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Wv("Invalid base64 string: "+u):u}})(e);return new $t(i)}static fromUint8Array(e){const i=(function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u})(e);return new $t(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const y2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zs(s){if(He(!!s,39018),typeof s=="string"){let e=0;const i=y2.exec(s);if(He(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pt(s.seconds),nanos:pt(s.nanos)}}function pt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ws(s){return typeof s=="string"?$t.fromBase64String(s):$t.fromUint8Array(s)}const eb="server_timestamp",tb="__type__",nb="__previous_value__",ib="__local_write_time__";function Tm(s){return(s?.mapValue?.fields||{})[tb]?.stringValue===eb}function dh(s){const e=s.mapValue.fields[nb];return Tm(e)?dh(e):e}function Dl(s){const e=Zs(s.mapValue.fields[ib].timestampValue);return new st(e.seconds,e.nanos)}class _2{constructor(e,i,r,l,u,f,p,_,y,E){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=E}}const Qu="(default)";class jl{constructor(e,i){this.projectId=e,this.database=i||Qu}static empty(){return new jl("","")}get isDefaultDatabase(){return this.database===Qu}isEqual(e){return e instanceof jl&&e.projectId===this.projectId&&e.database===this.database}}const sb="__type__",v2="__max__",Au={mapValue:{}},rb="__vector__",Yu="value";function er(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Tm(s)?4:E2(s)?9007199254740991:b2(s)?10:11:pe(28295,{value:s})}function Di(s,e){if(s===e)return!0;const i=er(s);if(i!==er(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Dl(s).isEqual(Dl(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=Zs(l.timestampValue),p=Zs(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,u){return Ws(l.bytesValue).isEqual(Ws(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,u){return pt(l.geoPointValue.latitude)===pt(u.geoPointValue.latitude)&&pt(l.geoPointValue.longitude)===pt(u.geoPointValue.longitude)})(s,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return pt(l.integerValue)===pt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=pt(l.doubleValue),p=pt(u.doubleValue);return f===p?Gu(f)===Gu(p):isNaN(f)&&isNaN(p)}return!1})(s,e);case 9:return Za(s.arrayValue.values||[],e.arrayValue.values||[],Di);case 10:case 11:return(function(l,u){const f=l.mapValue.fields||{},p=u.mapValue.fields||{};if(h_(f)!==h_(p))return!1;for(const _ in f)if(f.hasOwnProperty(_)&&(p[_]===void 0||!Di(f[_],p[_])))return!1;return!0})(s,e);default:return pe(52216,{left:s})}}function Ml(s,e){return(s.values||[]).find((i=>Di(i,e)))!==void 0}function Wa(s,e){if(s===e)return 0;const i=er(s),r=er(e);if(i!==r)return je(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return je(s.booleanValue,e.booleanValue);case 2:return(function(u,f){const p=pt(u.integerValue||u.doubleValue),_=pt(f.integerValue||f.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(s,e);case 3:return f_(s.timestampValue,e.timestampValue);case 4:return f_(Dl(s),Dl(e));case 5:return Xf(s.stringValue,e.stringValue);case 6:return(function(u,f){const p=Ws(u),_=Ws(f);return p.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(u,f){const p=u.split("/"),_=f.split("/");for(let y=0;y<p.length&&y<_.length;y++){const E=je(p[y],_[y]);if(E!==0)return E}return je(p.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,f){const p=je(pt(u.latitude),pt(f.latitude));return p!==0?p:je(pt(u.longitude),pt(f.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return m_(s.arrayValue,e.arrayValue);case 10:return(function(u,f){const p=u.fields||{},_=f.fields||{},y=p[Yu]?.arrayValue,E=_[Yu]?.arrayValue,T=je(y?.values?.length||0,E?.values?.length||0);return T!==0?T:m_(y,E)})(s.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Au.mapValue&&f===Au.mapValue)return 0;if(u===Au.mapValue)return 1;if(f===Au.mapValue)return-1;const p=u.fields||{},_=Object.keys(p),y=f.fields||{},E=Object.keys(y);_.sort(),E.sort();for(let T=0;T<_.length&&T<E.length;++T){const A=Xf(_[T],E[T]);if(A!==0)return A;const q=Wa(p[_[T]],y[E[T]]);if(q!==0)return q}return je(_.length,E.length)})(s.mapValue,e.mapValue);default:throw pe(23264,{he:i})}}function f_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return je(s,e);const i=Zs(s),r=Zs(e),l=je(i.seconds,r.seconds);return l!==0?l:je(i.nanos,r.nanos)}function m_(s,e){const i=s.values||[],r=e.values||[];for(let l=0;l<i.length&&l<r.length;++l){const u=Wa(i[l],r[l]);if(u)return u}return je(i.length,r.length)}function eo(s){return $f(s)}function $f(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Zs(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Ws(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return fe.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const u of i.values||[])l?l=!1:r+=",",r+=$f(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",u=!0;for(const f of r)u?u=!1:l+=",",l+=`${f}:${$f(i.fields[f])}`;return l+"}"})(s.mapValue):pe(61005,{value:s})}function Du(s){switch(er(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dh(s);return e?16+Du(e):16;case 5:return 2*s.stringValue.length;case 6:return Ws(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+Du(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return Fr(r.fields,((u,f)=>{l+=u.length+Du(f)})),l})(s.mapValue);default:throw pe(13486,{value:s})}}function g_(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Jf(s){return!!s&&"integerValue"in s}function Sm(s){return!!s&&"arrayValue"in s}function p_(s){return!!s&&"nullValue"in s}function y_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function ju(s){return!!s&&"mapValue"in s}function b2(s){return(s?.mapValue?.fields||{})[sb]?.stringValue===rb}function Sl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Fr(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Sl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Sl(s.arrayValue.values[i]);return e}return{...s}}function E2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===v2}class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!ju(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sl(i)}setAll(e){let i=Xt.emptyPath(),r={},l=[];e.forEach(((f,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,r,l),r={},l=[],i=p.popLast()}f?r[p.lastSegment()]=Sl(f):l.push(p.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,r,l)}delete(e){const i=this.field(e.popLast());ju(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Di(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=i.mapValue.fields[e.get(r)];ju(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,r){Fr(i,((l,u)=>e[l]=u));for(const l of r)delete e[l]}clone(){return new kn(Sl(this.value))}}function ab(s){const e=[];return Fr(s.fields,((i,r)=>{const l=new Xt([i]);if(ju(r)){const u=ab(r.mapValue).fields;if(u.length===0)e.push(l);else for(const f of u)e.push(l.child(f))}else e.push(l)})),new Jn(e)}class en{constructor(e,i,r,l,u,f,p){this.key=e,this.documentType=i,this.version=r,this.readTime=l,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(e){return new en(e,0,ve.min(),ve.min(),ve.min(),kn.empty(),0)}static newFoundDocument(e,i,r,l){return new en(e,1,i,ve.min(),r,l,0)}static newNoDocument(e,i){return new en(e,2,i,ve.min(),ve.min(),kn.empty(),0)}static newUnknownDocument(e,i){return new en(e,3,i,ve.min(),ve.min(),kn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ku{constructor(e,i){this.position=e,this.inclusive=i}}function __(s,e,i){let r=0;for(let l=0;l<s.position.length;l++){const u=e[l],f=s.position[l];if(u.field.isKeyField()?r=fe.comparator(fe.fromName(f.referenceValue),i.key):r=Wa(f,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function v_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Di(s.position[i],e.position[i]))return!1;return!0}class Ol{constructor(e,i="asc"){this.field=e,this.dir=i}}function x2(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class ob{}class Nt extends ob{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new S2(e,i,r):i==="array-contains"?new N2(e,r):i==="in"?new C2(e,r):i==="not-in"?new R2(e,r):i==="array-contains-any"?new I2(e,r):new Nt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new A2(e,r):new w2(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Wa(i,this.value)):i!==null&&er(this.value)===er(i)&&this.matchesComparison(Wa(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends ob{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Wn(e,i)}matches(e){return lb(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function lb(s){return s.op==="and"}function cb(s){return T2(s)&&lb(s)}function T2(s){for(const e of s.filters)if(e instanceof Wn)return!1;return!0}function Zf(s){if(s instanceof Nt)return s.field.canonicalString()+s.op.toString()+eo(s.value);if(cb(s))return s.filters.map((e=>Zf(e))).join(",");{const e=s.filters.map((i=>Zf(i))).join(",");return`${s.op}(${e})`}}function ub(s,e){return s instanceof Nt?(function(r,l){return l instanceof Nt&&r.op===l.op&&r.field.isEqual(l.field)&&Di(r.value,l.value)})(s,e):s instanceof Wn?(function(r,l){return l instanceof Wn&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,f,p)=>u&&ub(f,l.filters[p])),!0):!1})(s,e):void pe(19439)}function hb(s){return s instanceof Nt?(function(i){return`${i.field.canonicalString()} ${i.op} ${eo(i.value)}`})(s):s instanceof Wn?(function(i){return i.op.toString()+" {"+i.getFilters().map(hb).join(" ,")+"}"})(s):"Filter"}class S2 extends Nt{constructor(e,i,r){super(e,i,r),this.key=fe.fromName(r.referenceValue)}matches(e){const i=fe.comparator(e.key,this.key);return this.matchesComparison(i)}}class A2 extends Nt{constructor(e,i){super(e,"in",i),this.keys=db("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class w2 extends Nt{constructor(e,i){super(e,"not-in",i),this.keys=db("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function db(s,e){return(e.arrayValue?.values||[]).map((i=>fe.fromName(i.referenceValue)))}class N2 extends Nt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Sm(i)&&Ml(i.arrayValue,this.value)}}class C2 extends Nt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Ml(this.value.arrayValue,i)}}class R2 extends Nt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ml(this.value.arrayValue,i)}}class I2 extends Nt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Sm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Ml(this.value.arrayValue,r)))}}class D2{constructor(e,i=null,r=[],l=[],u=null,f=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function b_(s,e=null,i=[],r=[],l=null,u=null,f=null){return new D2(s,e,i,r,l,u,f)}function Am(s){const e=Ee(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>Zf(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),hh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>eo(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>eo(r))).join(",")),e.Te=i}return e.Te}function wm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!x2(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!ub(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!v_(s.startAt,e.startAt)&&v_(s.endAt,e.endAt)}function Wf(s){return fe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class co{constructor(e,i=null,r=[],l=[],u=null,f="F",p=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function j2(s,e,i,r,l,u,f,p){return new co(s,e,i,r,l,u,f,p)}function fb(s){return new co(s)}function E_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function mb(s){return s.collectionGroup!==null}function Al(s){const e=Ee(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),i.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Vt(Xt.comparator);return f.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Ol(u,r))})),i.has(Xt.keyField().canonicalString())||e.Ie.push(new Ol(Xt.keyField(),r))}return e.Ie}function Ai(s){const e=Ee(s);return e.Ee||(e.Ee=M2(e,Al(s))),e.Ee}function M2(s,e){if(s.limitType==="F")return b_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Ol(l.field,u)}));const i=s.endAt?new Ku(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Ku(s.startAt.position,s.startAt.inclusive):null;return b_(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function em(s,e){const i=s.filters.concat([e]);return new co(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function tm(s,e,i){return new co(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function fh(s,e){return wm(Ai(s),Ai(e))&&s.limitType===e.limitType}function gb(s){return`${Am(Ai(s))}|lt:${s.limitType}`}function za(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>hb(l))).join(", ")}]`),hh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>eo(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>eo(l))).join(",")),`Target(${r})`})(Ai(s))}; limitType=${s.limitType})`}function mh(s,e){return e.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):fe.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,l){for(const u of Al(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(f,p,_){const y=__(f,p,_);return f.inclusive?y<=0:y<0})(r.startAt,Al(r),l)||r.endAt&&!(function(f,p,_){const y=__(f,p,_);return f.inclusive?y>=0:y>0})(r.endAt,Al(r),l))})(s,e)}function O2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function pb(s){return(e,i)=>{let r=!1;for(const l of Al(s)){const u=V2(l,e,i);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function V2(s,e,i){const r=s.field.isKeyField()?fe.comparator(e.key,i.key):(function(u,f,p){const _=f.data.field(u),y=p.data.field(u);return _!==null&&y!==null?Wa(_,y):pe(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return pe(19790,{direction:s.dir})}}class Gr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Fr(this.inner,((i,r)=>{for(const[l,u]of r)e(l,u)}))}isEmpty(){return Zv(this.inner)}size(){return this.innerSize}}const k2=new ct(fe.comparator);function ns(){return k2}const yb=new ct(fe.comparator);function El(...s){let e=yb;for(const i of s)e=e.insert(i.key,i);return e}function _b(s){let e=yb;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function kr(){return wl()}function vb(){return wl()}function wl(){return new Gr((s=>s.toString()),((s,e)=>s.isEqual(e)))}const L2=new ct(fe.comparator),U2=new Vt(fe.comparator);function Me(...s){let e=U2;for(const i of s)e=e.add(i);return e}const P2=new Vt(je);function z2(){return P2}function Nm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gu(e)?"-0":e}}function bb(s){return{integerValue:""+s}}function q2(s,e){return m2(e)?bb(e):Nm(s,e)}class gh{constructor(){this._=void 0}}function B2(s,e,i){return s instanceof Xu?(function(l,u){const f={fields:{[tb]:{stringValue:eb},[ib]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Tm(u)&&(u=dh(u)),u&&(f.fields[nb]=u),{mapValue:f}})(i,e):s instanceof Vl?xb(s,e):s instanceof kl?Tb(s,e):(function(l,u){const f=Eb(l,u),p=x_(f)+x_(l.Ae);return Jf(f)&&Jf(l.Ae)?bb(p):Nm(l.serializer,p)})(s,e)}function H2(s,e,i){return s instanceof Vl?xb(s,e):s instanceof kl?Tb(s,e):i}function Eb(s,e){return s instanceof $u?(function(r){return Jf(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class Xu extends gh{}class Vl extends gh{constructor(e){super(),this.elements=e}}function xb(s,e){const i=Sb(e);for(const r of s.elements)i.some((l=>Di(l,r)))||i.push(r);return{arrayValue:{values:i}}}class kl extends gh{constructor(e){super(),this.elements=e}}function Tb(s,e){let i=Sb(e);for(const r of s.elements)i=i.filter((l=>!Di(l,r)));return{arrayValue:{values:i}}}class $u extends gh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function x_(s){return pt(s.integerValue||s.doubleValue)}function Sb(s){return Sm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function F2(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof Vl&&l instanceof Vl||r instanceof kl&&l instanceof kl?Za(r.elements,l.elements,Di):r instanceof $u&&l instanceof $u?Di(r.Ae,l.Ae):r instanceof Xu&&l instanceof Xu})(s.transform,e.transform)}class G2{constructor(e,i){this.version=e,this.transformResults=i}}class Wi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Wi}static exists(e){return new Wi(void 0,e)}static updateTime(e){return new Wi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mu(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class ph{}function Ab(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Nb(s.key,Wi.none()):new ql(s.key,s.data,Wi.none());{const i=s.data,r=kn.empty();let l=new Vt(Xt.comparator);for(let u of e.fields)if(!l.has(u)){let f=i.field(u);f===null&&u.length>1&&(u=u.popLast(),f=i.field(u)),f===null?r.delete(u):r.set(u,f),l=l.add(u)}return new Qr(s.key,r,new Jn(l.toArray()),Wi.none())}}function Q2(s,e,i){s instanceof ql?(function(l,u,f){const p=l.value.clone(),_=S_(l.fieldTransforms,u,f.transformResults);p.setAll(_),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(s,e,i):s instanceof Qr?(function(l,u,f){if(!Mu(l.precondition,u))return void u.convertToUnknownDocument(f.version);const p=S_(l.fieldTransforms,u,f.transformResults),_=u.data;_.setAll(wb(l)),_.setAll(p),u.convertToFoundDocument(f.version,_).setHasCommittedMutations()})(s,e,i):(function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,i)}function Nl(s,e,i,r){return s instanceof ql?(function(u,f,p,_){if(!Mu(u.precondition,f))return p;const y=u.value.clone(),E=A_(u.fieldTransforms,_,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(s,e,i,r):s instanceof Qr?(function(u,f,p,_){if(!Mu(u.precondition,f))return p;const y=A_(u.fieldTransforms,_,f),E=f.data;return E.setAll(wb(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(s,e,i,r):(function(u,f,p){return Mu(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(s,e,i)}function Y2(s,e){let i=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),u=Eb(r.transform,l||null);u!=null&&(i===null&&(i=kn.empty()),i.set(r.field,u))}return i||null}function T_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Za(r,l,((u,f)=>F2(u,f)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class ql extends ph{constructor(e,i,r,l=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Qr extends ph{constructor(e,i,r,l,u=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function wb(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function S_(s,e,i){const r=new Map;He(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const u=s[l],f=u.transform,p=e.data.field(u.field);r.set(u.field,H2(f,p,i[l]))}return r}function A_(s,e,i){const r=new Map;for(const l of s){const u=l.transform,f=i.data.field(l.field);r.set(l.field,B2(u,f,e))}return r}class Nb extends ph{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class K2 extends ph{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class X2{constructor(e,i,r,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&Q2(u,e,r[l])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Nl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Nl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=vb();return this.mutations.forEach((l=>{const u=e.get(l.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=i.has(l.key)?null:p;const _=Ab(f,p);_!==null&&r.set(l.key,_),f.isValidDocument()||f.convertToNoDocument(ve.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Me())}isEqual(e){return this.batchId===e.batchId&&Za(this.mutations,e.mutations,((i,r)=>T_(i,r)))&&Za(this.baseMutations,e.baseMutations,((i,r)=>T_(i,r)))}}class Cm{constructor(e,i,r,l){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(e,i,r){He(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return L2})();const u=e.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,r[f].version);return new Cm(e,i,r,l)}}class $2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class J2{constructor(e,i){this.count=e,this.unchangedNames=i}}var wt,Le;function Z2(s){switch(s){case $.OK:return pe(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return pe(15467,{code:s})}}function Cb(s){if(s===void 0)return ts("GRPC error has no .code"),$.UNKNOWN;switch(s){case wt.OK:return $.OK;case wt.CANCELLED:return $.CANCELLED;case wt.UNKNOWN:return $.UNKNOWN;case wt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case wt.INTERNAL:return $.INTERNAL;case wt.UNAVAILABLE:return $.UNAVAILABLE;case wt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case wt.NOT_FOUND:return $.NOT_FOUND;case wt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case wt.ABORTED:return $.ABORTED;case wt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case wt.DATA_LOSS:return $.DATA_LOSS;default:return pe(39323,{code:s})}}(Le=wt||(wt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";function W2(){return new TextEncoder}const eA=new Ks([4294967295,4294967295],0);function w_(s){const e=W2().encode(s),i=new qv;return i.update(e),new Uint8Array(i.digest())}function N_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ks([i,r],0),new Ks([l,u],0)]}class Rm{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new xl(`Invalid padding: ${i}`);if(r<0)throw new xl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new xl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new xl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ks.fromNumber(this.ge)}ye(e,i,r){let l=e.add(i.multiply(Ks.fromNumber(r)));return l.compare(eA)===1&&(l=new Ks([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=w_(e),[r,l]=N_(i);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,l,u);if(!this.we(f))return!1}return!0}static create(e,i,r){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Rm(u,l,i);return r.forEach((p=>f.insert(p))),f}insert(e){if(this.ge===0)return;const i=w_(e),[r,l]=N_(i);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,l,u);this.Se(f)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class yh{constructor(e,i,r,l,u){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const l=new Map;return l.set(e,Bl.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new yh(ve.min(),l,new ct(je),ns(),Me())}}class Bl{constructor(e,i,r,l,u){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Bl(r,i,Me(),Me(),Me())}}class Ou{constructor(e,i,r,l){this.be=e,this.removedTargetIds=i,this.key=r,this.De=l}}class Rb{constructor(e,i){this.targetId=e,this.Ce=i}}class Ib{constructor(e,i,r=$t.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=l}}class C_{constructor(){this.ve=0,this.Fe=R_(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Me(),i=Me(),r=Me();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:pe(38017,{changeType:u})}})),new Bl(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=R_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class tA{constructor(e){this.Ge=e,this.ze=new Map,this.je=ns(),this.Je=wu(),this.He=wu(),this.Ye=new ct(je)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:pe(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,r=e.Ce.count,l=this.ot(i);if(l){const u=l.target;if(Wf(u))if(r===0){const f=new fe(u.path);this.et(i,f,en.newNoDocument(f,ve.min()))}else He(r===1,20013,{expectedCount:r});else{const f=this._t(i);if(f!==r){const p=this.ut(e),_=p?this.ct(p,e,f):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=i;let f,p;try{f=Ws(r).toUint8Array()}catch(_){if(_ instanceof Wv)return Ja("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Rm(f,l,u)}catch(_){return Ja(_ instanceof xl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((u=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(i,u,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((u,f)=>{const p=this.ot(f);if(p){if(u.current&&Wf(p.target)){const _=new fe(p.target.path);this.It(_).has(f)||this.Et(f,_)||this.et(f,_,en.newNoDocument(_,e))}u.Be&&(i.set(f,u.ke()),u.qe())}}));let r=Me();this.He.forEach(((u,f)=>{let p=!0;f.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const l=new yh(e,i,this.Ye,this.je,r);return this.je=ns(),this.Je=wu(),this.He=wu(),this.Ye=new ct(je),l}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new C_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Vt(je),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Vt(je),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ae("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new C_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function wu(){return new ct(fe.comparator)}function R_(){return new ct(fe.comparator)}const nA={asc:"ASCENDING",desc:"DESCENDING"},iA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sA={and:"AND",or:"OR"};class rA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function nm(s,e){return s.useProto3Json||hh(e)?e:{value:e}}function Ju(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Db(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function aA(s,e){return Ju(s,e.toTimestamp())}function wi(s){return He(!!s,49232),ve.fromTimestamp((function(i){const r=Zs(i);return new st(r.seconds,r.nanos)})(s))}function Im(s,e){return im(s,e).canonicalString()}function im(s,e){const i=(function(l){return new tt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function jb(s){const e=tt.fromString(s);return He(Lb(e),10190,{key:e.toString()}),e}function sm(s,e){return Im(s.databaseId,e.path)}function Vf(s,e){const i=jb(e);if(i.get(1)!==s.databaseId.projectId)throw new se($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new se($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new fe(Ob(i))}function Mb(s,e){return Im(s.databaseId,e)}function oA(s){const e=jb(s);return e.length===4?tt.emptyPath():Ob(e)}function rm(s){return new tt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Ob(s){return He(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function I_(s,e,i){return{name:sm(s,e),fields:i.value.mapValue.fields}}function lA(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:pe(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(He(E===void 0||typeof E=="string",58123),$t.fromBase64String(E||"")):(He(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),$t.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&(function(y){const E=y.code===void 0?$.UNKNOWN:Cb(y.code);return new se(E,y.message||"")})(f);i=new Ib(r,l,u,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=Vf(s,r.document.name),u=wi(r.document.updateTime),f=r.document.createTime?wi(r.document.createTime):ve.min(),p=new kn({mapValue:{fields:r.document.fields}}),_=en.newFoundDocument(l,u,f,p),y=r.targetIds||[],E=r.removedTargetIds||[];i=new Ou(y,E,_.key,_)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=Vf(s,r.document),u=r.readTime?wi(r.readTime):ve.min(),f=en.newNoDocument(l,u),p=r.removedTargetIds||[];i=new Ou([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=Vf(s,r.document),u=r.removedTargetIds||[];i=new Ou([],u,l,null)}else{if(!("filter"in e))return pe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,f=new J2(l,u),p=r.targetId;i=new Rb(p,f)}}return i}function cA(s,e){let i;if(e instanceof ql)i={update:I_(s,e.key,e.value)};else if(e instanceof Nb)i={delete:sm(s,e.key)};else if(e instanceof Qr)i={update:I_(s,e.key,e.data),updateMask:_A(e.fieldMask)};else{if(!(e instanceof K2))return pe(16599,{Vt:e.type});i={verify:sm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(u,f){const p=f.transform;if(p instanceof Xu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Vl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof kl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof $u)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw pe(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:aA(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:pe(27497)})(s,e.precondition)),i}function uA(s,e){return s&&s.length>0?(He(e!==void 0,14353),s.map((i=>(function(l,u){let f=l.updateTime?wi(l.updateTime):wi(u);return f.isEqual(ve.min())&&(f=wi(u)),new G2(f,l.transformResults||[])})(i,e)))):[]}function hA(s,e){return{documents:[Mb(s,e.path)]}}function dA(s,e){const i={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=Mb(s,l);const u=(function(y){if(y.length!==0)return kb(Wn.create(y,"and"))})(e.filters);u&&(i.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(A){return{field:qa(A.field),direction:gA(A.dir)}})(E)))})(e.orderBy);f&&(i.structuredQuery.orderBy=f);const p=nm(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:l}}function fA(s){let e=oA(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){He(r===1,65062);const E=i.from[0];E.allDescendants?l=E.collectionId:e=e.child(E.collectionId)}let u=[];i.where&&(u=(function(T){const A=Vb(T);return A instanceof Wn&&cb(A)?A.getFilters():[A]})(i.where));let f=[];i.orderBy&&(f=(function(T){return T.map((A=>(function(F){return new Ol(Ba(F.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(A)))})(i.orderBy));let p=null;i.limit&&(p=(function(T){let A;return A=typeof T=="object"?T.value:T,hh(A)?null:A})(i.limit));let _=null;i.startAt&&(_=(function(T){const A=!!T.before,q=T.values||[];return new Ku(q,A)})(i.startAt));let y=null;return i.endAt&&(y=(function(T){const A=!T.before,q=T.values||[];return new Ku(q,A)})(i.endAt)),j2(e,l,f,u,p,"F",_,y)}function mA(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Vb(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Ba(i.unaryFilter.field);return Nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Ba(i.unaryFilter.field);return Nt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ba(i.unaryFilter.field);return Nt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ba(i.unaryFilter.field);return Nt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pe(61313);default:return pe(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Nt.create(Ba(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pe(58110);default:return pe(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Wn.create(i.compositeFilter.filters.map((r=>Vb(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return pe(1026)}})(i.compositeFilter.op))})(s):pe(30097,{filter:s})}function gA(s){return nA[s]}function pA(s){return iA[s]}function yA(s){return sA[s]}function qa(s){return{fieldPath:s.canonicalString()}}function Ba(s){return Xt.fromServerFormat(s.fieldPath)}function kb(s){return s instanceof Nt?(function(i){if(i.op==="=="){if(y_(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NAN"}};if(p_(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(y_(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NOT_NAN"}};if(p_(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qa(i.field),op:pA(i.op),value:i.value}}})(s):s instanceof Wn?(function(i){const r=i.getFilters().map((l=>kb(l)));return r.length===1?r[0]:{compositeFilter:{op:yA(i.op),filters:r}}})(s):pe(54877,{filter:s})}function _A(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Lb(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Fs{constructor(e,i,r,l,u=ve.min(),f=ve.min(),p=$t.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new Fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class vA{constructor(e){this.yt=e}}function bA(s){const e=fA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?tm(e,e.limit,"L"):e}class EA{constructor(){this.Cn=new xA}addToCollectionParentIndex(e,i){return this.Cn.add(i),J.resolve()}getCollectionParents(e,i){return J.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return J.resolve()}deleteFieldIndex(e,i){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,i){return J.resolve()}getDocumentsMatchingTarget(e,i){return J.resolve(null)}getIndexType(e,i){return J.resolve(0)}getFieldIndexes(e,i){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,i){return J.resolve(Js.min())}getMinOffsetFromCollectionGroup(e,i){return J.resolve(Js.min())}updateCollectionGroup(e,i,r){return J.resolve()}updateIndexEntries(e,i){return J.resolve()}}class xA{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i]||new Vt(tt.comparator),u=!l.has(r);return this.index[i]=l.add(r),u}has(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Vt(tt.comparator)).toArray()}}const D_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ub=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(Ub,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class to{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new to(0)}static cr(){return new to(-1)}}const j_="LruGarbageCollector",TA=1048576;function M_([s,e],[i,r]){const l=je(s,i);return l===0?je(e,r):l}class SA{constructor(e){this.Ir=e,this.buffer=new Vt(M_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();M_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class AA{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ae(j_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){lo(i)?ae(j_,"Ignoring IndexedDB error during garbage collection: ",i):await oo(i)}await this.Vr(3e5)}))}}class wA{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return J.resolve(uh.ce);const r=new SA(i);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(D_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),D_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,l,u,f,p,_,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),l=this.params.maximumSequenceNumbersToCollect):l=T,f=Date.now(),this.nthSequenceNumber(e,l)))).next((T=>(r=T,p=Date.now(),this.removeTargets(e,r,i)))).next((T=>(u=T,_=Date.now(),this.removeOrphanedDocuments(e,r)))).next((T=>(y=Date.now(),Pa()<=De.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${l} in `+(p-f)+`ms
	Removed ${u} targets in `+(_-p)+`ms
	Removed ${T} documents in `+(y-_)+`ms
Total Duration: ${y-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:T}))))}}function NA(s,e){return new wA(s,e)}class CA{constructor(){this.changes=new Gr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?J.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class RA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class IA{constructor(e,i,r,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(r!==null&&Nl(r.mutation,l,Jn.empty(),st.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Me()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Me()){const l=kr();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,r).next((u=>{let f=El();return u.forEach(((p,_)=>{f=f.insert(p,_.overlayedDocument)})),f}))))}getOverlayedDocuments(e,i){const r=kr();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Me())))}populateOverlays(e,i,r){const l=[];return r.forEach((u=>{i.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((f,p)=>{i.set(f,p)}))}))}computeViews(e,i,r,l){let u=ns();const f=wl(),p=(function(){return wl()})();return i.forEach(((_,y)=>{const E=r.get(y.key);l.has(y.key)&&(E===void 0||E.mutation instanceof Qr)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Nl(E.mutation,y,E.mutation.getFieldMask(),st.now())):f.set(y.key,Jn.empty())})),this.recalculateAndSaveOverlays(e,u).next((_=>(_.forEach(((y,E)=>f.set(y,E))),i.forEach(((y,E)=>p.set(y,new RA(E,f.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=wl();let l=new ct(((f,p)=>f-p)),u=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((f=>{for(const p of f)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let E=r.get(_)||Jn.empty();E=p.applyToLocalView(y,E),r.set(_,E);const T=(l.get(p.batchId)||Me()).add(_);l=l.insert(p.batchId,T)}))})).next((()=>{const f=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,E=_.value,T=vb();E.forEach((A=>{if(!u.has(A)){const q=Ab(i.get(A),r.get(A));q!==null&&T.set(A,q),u=u.add(A)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,T))}return J.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,l){return(function(f){return fe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):mb(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,l):this.getDocumentsMatchingCollectionQuery(e,i,r,l)}getNextDocuments(e,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,l).next((u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,l-u.size):J.resolve(kr());let p=Il,_=u;return f.next((y=>J.forEach(y,((E,T)=>(p<T.largestBatchId&&(p=T.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next((A=>{_=_.insert(E,A)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,_,y,Me()))).next((E=>({batchId:p,changes:_b(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new fe(i)).next((r=>{let l=El();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,l){const u=i.collectionGroup;let f=El();return this.indexManager.getCollectionParents(e,u).next((p=>J.forEach(p,(_=>{const y=(function(T,A){return new co(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(i,_.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,r,l).next((E=>{E.forEach(((T,A)=>{f=f.insert(T,A)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,i,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,u,l)))).next((f=>{u.forEach(((_,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,en.newInvalidDocument(E)))}));let p=El();return f.forEach(((_,y)=>{const E=u.get(_);E!==void 0&&Nl(E.mutation,y,Jn.empty(),st.now()),mh(i,y)&&(p=p.insert(_,y))})),p}))}}class DA{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return J.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:wi(l.createTime)}})(i)),J.resolve()}getNamedQuery(e,i){return J.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:bA(l.bundledQuery),readTime:wi(l.readTime)}})(i)),J.resolve()}}class jA{constructor(){this.overlays=new ct(fe.comparator),this.qr=new Map}getOverlay(e,i){return J.resolve(this.overlays.get(i))}getOverlays(e,i){const r=kr();return J.forEach(i,(l=>this.getOverlay(e,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((l,u)=>{this.St(e,i,u)})),J.resolve()}removeOverlaysForBatchId(e,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),J.resolve()}getOverlaysForCollection(e,i,r){const l=kr(),u=i.length+1,f=new fe(i.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===u&&_.largestBatchId>r&&l.set(_.getKey(),_)}return J.resolve(l)}getOverlaysForCollectionGroup(e,i,r,l){let u=new ct(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let E=u.get(y.largestBatchId);E===null&&(E=kr(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const p=kr(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,E)=>p.set(y,E))),!(p.size()>=l)););return J.resolve(p)}St(e,i,r){const l=this.overlays.get(r.key);if(l!==null){const f=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new $2(i,r));let u=this.qr.get(i);u===void 0&&(u=Me(),this.qr.set(i,u)),this.qr.set(i,u.add(r.key))}}class MA{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,J.resolve()}}class Dm{constructor(){this.Qr=new Vt(zt.$r),this.Ur=new Vt(zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new zt(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new zt(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new fe(new tt([])),r=new zt(i,e),l=new zt(i,e+1),u=[];return this.Ur.forEachInRange([r,l],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new fe(new tt([])),r=new zt(i,e),l=new zt(i,e+1);let u=Me();return this.Ur.forEachInRange([r,l],(f=>{u=u.add(f.key)})),u}containsKey(e){const i=new zt(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class zt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return fe.comparator(e.key,i.key)||je(e.Yr,i.Yr)}static Kr(e,i){return je(e.Yr,i.Yr)||fe.comparator(e.key,i.key)}}class OA{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Vt(zt.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new X2(u,i,r,l);this.mutationQueue.push(f);for(const p of l)this.Zr=this.Zr.add(new zt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,i){return J.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,l=this.ei(r),u=l<0?0:l;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?xm:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new zt(i,0),l=new zt(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,l],(f=>{const p=this.Xr(f.Yr);u.push(p)})),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Vt(je);return i.forEach((l=>{const u=new zt(l,0),f=new zt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(p=>{r=r.add(p.Yr)}))})),J.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,l=r.length+1;let u=r;fe.isDocumentKey(u)||(u=u.child(""));const f=new zt(new fe(u),0);let p=new Vt(je);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Yr)),!0)}),f),J.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){He(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return J.forEach(i.mutations,(l=>{const u=new zt(l.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new zt(i,0),l=this.Zr.firstAfterOrEqual(r);return J.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class VA{constructor(e){this.ri=e,this.docs=(function(){return new ct(fe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,l=this.docs.get(r),u=l?l.size:0,f=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return J.resolve(r?r.document.mutableCopy():en.newInvalidDocument(i))}getEntries(e,i){let r=ns();return i.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():en.newInvalidDocument(l))})),J.resolve(r)}getDocumentsMatchingQuery(e,i,r,l){let u=ns();const f=i.path,p=new fe(f.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:E}}=_.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||u2(c2(E),r)<=0||(l.has(E.key)||mh(i,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,i,r,l){pe(9500)}ii(e,i){return J.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new kA(this)}getSize(e){return J.resolve(this.size)}}class kA extends CA{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),J.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class LA{constructor(e){this.persistence=e,this.si=new Gr((i=>Am(i)),wm),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.oi=0,this._i=new Dm,this.targetCount=0,this.ai=to.ur()}forEachTarget(e,i){return this.si.forEach(((r,l)=>i(l))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),J.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new to(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,J.resolve()}updateTargetData(e,i){return this.Pr(i),J.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,i,r){let l=0;const u=[];return this.si.forEach(((f,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),J.waitFor(u).next((()=>l))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return J.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),J.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,u=[];return l&&i.forEach((f=>{u.push(l.markPotentiallyOrphaned(e,f))})),J.waitFor(u)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),J.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return J.resolve(r)}containsKey(e,i){return J.resolve(this._i.containsKey(i))}}class Pb{constructor(e,i){this.ui={},this.overlays={},this.ci=new uh(0),this.li=!1,this.li=!0,this.hi=new MA,this.referenceDelegate=e(this),this.Pi=new LA(this),this.indexManager=new EA,this.remoteDocumentCache=(function(l){return new VA(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new vA(i),this.Ii=new DA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new jA,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new OA(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){ae("MemoryPersistence","Starting transaction:",e);const l=new UA(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(e,i){return J.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class UA extends d2{constructor(e){super(),this.currentSequenceNumber=e}}class jm{constructor(e){this.persistence=e,this.Ri=new Dm,this.Vi=null}static mi(e){return new jm(e)}get fi(){if(this.Vi)return this.Vi;throw pe(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),J.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),J.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(r=>{const l=fe.fromPath(r);return this.gi(e,l).next((u=>{u||i.removeEntry(l,ve.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Zu{constructor(e,i){this.persistence=e,this.pi=new Gr((r=>g2(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=NA(this,i)}static mi(e,i){return new Zu(e,i)}Ei(){}di(e){return J.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((l=>r+l))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return J.forEach(this.pi,((r,l)=>this.br(e,r,l).next((u=>u?J.resolve():i(l)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,(f=>this.br(e,f,i).next((p=>{p||(r++,u.removeEntry(f,ve.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Du(e.data.value)),i}br(e,i,r){return J.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return J.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Mm{constructor(e,i,r,l){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=l}static As(e,i){let r=Me(),l=Me();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Mm(e,i.fromCache,r,l)}}class PA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class zA{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return DT()?8:f2(tn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,l){const u={result:null};return this.ys(e,i).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,i,l,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new PA;return this.Ss(e,i,f).next((p=>{if(u.result=p,this.Vs)return this.bs(e,i,f,p.size)}))})).next((()=>u.result))}bs(e,i,r,l){return r.documentReadCount<this.fs?(Pa()<=De.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",za(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(Pa()<=De.DEBUG&&ae("QueryEngine","Query:",za(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Pa()<=De.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",za(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ai(i))):J.resolve())}ys(e,i){if(E_(i))return J.resolve(null);let r=Ai(i);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=tm(i,null,"F"),r=Ai(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const f=Me(...u);return this.ps.getDocuments(e,f).next((p=>this.indexManager.getMinOffset(e,r).next((_=>{const y=this.Ds(i,p);return this.Cs(i,y,f,_.readTime)?this.ys(e,tm(i,null,"F")):this.vs(e,y,i,_)}))))})))))}ws(e,i,r,l){return E_(i)||l.isEqual(ve.min())?J.resolve(null):this.ps.getDocuments(e,r).next((u=>{const f=this.Ds(i,u);return this.Cs(i,f,r,l)?J.resolve(null):(Pa()<=De.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),za(i)),this.vs(e,f,i,l2(l,Il)).next((p=>p)))}))}Ds(e,i){let r=new Vt(pb(e));return i.forEach(((l,u)=>{mh(e,u)&&(r=r.add(u))})),r}Cs(e,i,r,l){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const u=e.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,i,r){return Pa()<=De.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",za(i)),this.ps.getDocumentsMatchingQuery(e,i,Js.min(),r)}vs(e,i,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((u=>(i.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Om="LocalStore",qA=3e8;class BA{constructor(e,i,r,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new ct(je),this.xs=new Gr((u=>Am(u)),wm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function HA(s,e,i,r){return new BA(s,e,i,r)}async function zb(s,e){const i=Ee(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],p=[];let _=Me();for(const y of l){f.push(y.batchId);for(const E of y.mutations)_=_.add(E.key)}for(const y of u){p.push(y.batchId);for(const E of y.mutations)_=_.add(E.key)}return i.localDocuments.getDocuments(r,_).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:p})))}))}))}function FA(s,e){const i=Ee(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,E){const T=y.batch,A=T.keys();let q=J.resolve();return A.forEach((F=>{q=q.next((()=>E.getEntry(_,F))).next((Z=>{const W=y.docVersions.get(F);He(W!==null,48541),Z.version.compareTo(W)<0&&(T.applyToRemoteDocument(Z,y),Z.isValidDocument()&&(Z.setReadTime(y.commitVersion),E.addEntry(Z)))}))})),q.next((()=>p.mutationQueue.removeMutationBatch(_,T)))})(i,r,e,u).next((()=>u.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let _=Me();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function qb(s){const e=Ee(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function GA(s,e){const i=Ee(s),r=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];e.targetChanges.forEach(((E,T)=>{const A=l.get(T);if(!A)return;p.push(i.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>i.Pi.addMatchingKeys(u,E.addedDocuments,T))));let q=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?q=q.withResumeToken($t.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):E.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(E.resumeToken,r)),l=l.insert(T,q),(function(Z,W,re){return Z.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=qA?!0:re.addedDocuments.size+re.modifiedDocuments.size+re.removedDocuments.size>0})(A,q,E)&&p.push(i.Pi.updateTargetData(u,q))}));let _=ns(),y=Me();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(u,E))})),p.push(QA(u,f,e.documentUpdates).next((E=>{_=E.ks,y=E.qs}))),!r.isEqual(ve.min())){const E=i.Pi.getLastRemoteSnapshotVersion(u).next((T=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(E)}return J.waitFor(p).next((()=>f.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,_,y))).next((()=>_))})).then((u=>(i.Ms=l,u)))}function QA(s,e,i){let r=Me(),l=Me();return i.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let f=ns();return i.forEach(((p,_)=>{const y=u.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(ve.min())?(e.removeEntry(p,_.readTime),f=f.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),f=f.insert(p,_)):ae(Om,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{ks:f,qs:l}}))}function YA(s,e){const i=Ee(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=xm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function KA(s,e){const i=Ee(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,e).next((u=>u?(l=u,J.resolve(l)):i.Pi.allocateTargetId(r).next((f=>(l=new Fs(e,f,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function am(s,e,i){const r=Ee(s),l=r.Ms.get(e),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!lo(f))throw f;ae(Om,`Failed to update sequence numbers for target ${e}: ${f}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function O_(s,e,i){const r=Ee(s);let l=ve.min(),u=Me();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(_,y,E){const T=Ee(_),A=T.xs.get(E);return A!==void 0?J.resolve(T.Ms.get(A)):T.Pi.getTargetData(y,E)})(r,f,Ai(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,p.targetId).next((_=>{u=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(f,e,i?l:ve.min(),i?u:Me()))).next((p=>(XA(r,O2(e),p),{documents:p,Qs:u})))))}function XA(s,e,i){let r=s.Os.get(e)||ve.min();i.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(e,r)}class V_{constructor(){this.activeTargetIds=z2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $A{constructor(){this.Mo=new V_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new V_,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class JA{Oo(e){}shutdown(){}}const k_="ConnectivityMonitor";class L_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ae(k_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ae(k_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Nu=null;function om(){return Nu===null?Nu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Nu++,"0x"+Nu.toString(16)}const kf="RestConnection",ZA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WA{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Qu?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,i,r,l,u){const f=om(),p=this.zo(e,i.toUriEncodedString());ae(kf,`Sending RPC '${e}' ${f}:`,p,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,u);const{host:y}=new URL(p),E=so(y);return this.Jo(e,p,_,r,E).then((T=>(ae(kf,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw Ja(kf,`RPC '${e}' ${f} failed with error: `,T,"url: ",p,"request:",r),T}))}Ho(e,i,r,l,u,f){return this.Go(e,i,r,l,u)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ao})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,u)=>e[u]=l)),r&&r.headers.forEach(((l,u)=>e[u]=l))}zo(e,i){const r=ZA[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class ew{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Zt="WebChannelConnection";class tw extends WA{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,l,u){const f=om();return new Promise(((p,_)=>{const y=new Bv;y.setWithCredentials(!0),y.listenOnce(Hv.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Iu.NO_ERROR:const T=y.getResponseJson();ae(Zt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),p(T);break;case Iu.TIMEOUT:ae(Zt,`RPC '${e}' ${f} timed out`),_(new se($.DEADLINE_EXCEEDED,"Request time out"));break;case Iu.HTTP_ERROR:const A=y.getStatus();if(ae(Zt,`RPC '${e}' ${f} failed with status:`,A,"response text:",y.getResponseText()),A>0){let q=y.getResponseJson();Array.isArray(q)&&(q=q[0]);const F=q?.error;if(F&&F.status&&F.message){const Z=(function(re){const ce=re.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(ce)>=0?ce:$.UNKNOWN})(F.status);_(new se(Z,F.message))}else _(new se($.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new se($.UNAVAILABLE,"Connection failed."));break;default:pe(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ae(Zt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(l);ae(Zt,`RPC '${e}' ${f} sending request:`,l),y.send(i,"POST",E,r,15)}))}T_(e,i,r){const l=om(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Qv(),p=Gv(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const E=u.join("");ae(Zt,`Creating RPC '${e}' stream ${l}: ${E}`,_);const T=f.createWebChannel(E,_);this.I_(T);let A=!1,q=!1;const F=new ew({Yo:W=>{q?ae(Zt,`Not sending because RPC '${e}' stream ${l} is closed:`,W):(A||(ae(Zt,`Opening RPC '${e}' stream ${l} transport.`),T.open(),A=!0),ae(Zt,`RPC '${e}' stream ${l} sending:`,W),T.send(W))},Zo:()=>T.close()}),Z=(W,re,ce)=>{W.listen(re,(he=>{try{ce(he)}catch(we){setTimeout((()=>{throw we}),0)}}))};return Z(T,bl.EventType.OPEN,(()=>{q||(ae(Zt,`RPC '${e}' stream ${l} transport opened.`),F.o_())})),Z(T,bl.EventType.CLOSE,(()=>{q||(q=!0,ae(Zt,`RPC '${e}' stream ${l} transport closed`),F.a_(),this.E_(T))})),Z(T,bl.EventType.ERROR,(W=>{q||(q=!0,Ja(Zt,`RPC '${e}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),F.a_(new se($.UNAVAILABLE,"The operation could not be completed")))})),Z(T,bl.EventType.MESSAGE,(W=>{if(!q){const re=W.data[0];He(!!re,16349);const ce=re,he=ce?.error||ce[0]?.error;if(he){ae(Zt,`RPC '${e}' stream ${l} received error:`,he);const we=he.status;let Fe=(function(w){const R=wt[w];if(R!==void 0)return Cb(R)})(we),Oe=he.message;Fe===void 0&&(Fe=$.INTERNAL,Oe="Unknown error status: "+we+" with message "+he.message),q=!0,F.a_(new se(Fe,Oe)),T.close()}else ae(Zt,`RPC '${e}' stream ${l} received:`,re),F.u_(re)}})),Z(p,Fv.STAT_EVENT,(W=>{W.stat===Kf.PROXY?ae(Zt,`RPC '${e}' stream ${l} detected buffering proxy`):W.stat===Kf.NOPROXY&&ae(Zt,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Lf(){return typeof document<"u"?document:null}function _h(s){return new rA(s,!0)}class Bb{constructor(e,i,r=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&ae("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const U_="PersistentStream";class Hb{constructor(e,i,r,l,u,f,p,_){this.Mi=e,this.S_=r,this.b_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Bb(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(ts(i.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{e((()=>{const l=new se($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ae(U_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ae(U_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class nw extends Hb{constructor(e,i,r,l,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,f),this.serializer=u}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=lA(this.serializer,e),r=(function(u){if(!("targetChange"in u))return ve.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?ve.min():f.readTime?wi(f.readTime):ve.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=rm(this.serializer),i.addTarget=(function(u,f){let p;const _=f.target;if(p=Wf(_)?{documents:hA(u,_)}:{query:dA(u,_).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=Db(u,f.resumeToken);const y=nm(u,f.expectedCount);y!==null&&(p.expectedCount=y)}else if(f.snapshotVersion.compareTo(ve.min())>0){p.readTime=Ju(u,f.snapshotVersion.toTimestamp());const y=nm(u,f.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const r=mA(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=rm(this.serializer),i.removeTarget=e,this.q_(i)}}class iw extends Hb{constructor(e,i,r,l,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=uA(e.writeResults,e.commitTime),r=wi(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=rm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>cA(this.serializer,r)))};this.q_(i)}}class sw{}class rw extends sw{constructor(e,i,r,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new se($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,im(i,r),l,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new se($.UNKNOWN,u.toString())}))}Ho(e,i,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.Ho(e,im(i,r),l,f,p,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new se($.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class aw{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ts(i),this.aa=!1):ae("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Br="RemoteStore";class ow{constructor(e,i,r,l,u){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{r.enqueueAndForget((async()=>{Yr(this)&&(ae(Br,"Restarting streams for network reachability change."),await(async function(_){const y=Ee(_);y.Ea.add(4),await Hl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await vh(y)})(this))}))})),this.Ra=new aw(r,l)}}async function vh(s){if(Yr(s))for(const e of s.da)await e(!0)}async function Hl(s){for(const e of s.da)await e(!1)}function Fb(s,e){const i=Ee(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Um(i)?Lm(i):uo(i).O_()&&km(i,e))}function Vm(s,e){const i=Ee(s),r=uo(i);i.Ia.delete(e),r.O_()&&Gb(i,e),i.Ia.size===0&&(r.O_()?r.L_():Yr(i)&&i.Ra.set("Unknown"))}function km(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}uo(s).Y_(e)}function Gb(s,e){s.Va.Ue(e),uo(s).Z_(e)}function Lm(s){s.Va=new tA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),uo(s).start(),s.Ra.ua()}function Um(s){return Yr(s)&&!uo(s).x_()&&s.Ia.size>0}function Yr(s){return Ee(s).Ea.size===0}function Qb(s){s.Va=void 0}async function lw(s){s.Ra.set("Online")}async function cw(s){s.Ia.forEach(((e,i)=>{km(s,e)}))}async function uw(s,e){Qb(s),Um(s)?(s.Ra.ha(e),Lm(s)):s.Ra.set("Unknown")}async function hw(s,e,i){if(s.Ra.set("Online"),e instanceof Ib&&e.state===2&&e.cause)try{await(async function(l,u){const f=u.cause;for(const p of u.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,f),l.Ia.delete(p),l.Va.removeTarget(p))})(s,e)}catch(r){ae(Br,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Wu(s,r)}else if(e instanceof Ou?s.Va.Ze(e):e instanceof Rb?s.Va.st(e):s.Va.tt(e),!i.isEqual(ve.min()))try{const r=await qb(s.localStore);i.compareTo(r)>=0&&await(function(u,f){const p=u.Va.Tt(f);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(_.resumeToken,f))}})),p.targetMismatches.forEach(((_,y)=>{const E=u.Ia.get(_);if(!E)return;u.Ia.set(_,E.withResumeToken($t.EMPTY_BYTE_STRING,E.snapshotVersion)),Gb(u,_);const T=new Fs(E.target,_,y,E.sequenceNumber);km(u,T)})),u.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){ae(Br,"Failed to raise snapshot:",r),await Wu(s,r)}}async function Wu(s,e,i){if(!lo(e))throw e;s.Ea.add(1),await Hl(s),s.Ra.set("Offline"),i||(i=()=>qb(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ae(Br,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await vh(s)}))}function Yb(s,e){return e().catch((i=>Wu(s,i,e)))}async function bh(s){const e=Ee(s),i=tr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:xm;for(;dw(e);)try{const l=await YA(e.localStore,r);if(l===null){e.Ta.length===0&&i.L_();break}r=l.batchId,fw(e,l)}catch(l){await Wu(e,l)}Kb(e)&&Xb(e)}function dw(s){return Yr(s)&&s.Ta.length<10}function fw(s,e){s.Ta.push(e);const i=tr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function Kb(s){return Yr(s)&&!tr(s).x_()&&s.Ta.length>0}function Xb(s){tr(s).start()}async function mw(s){tr(s).ra()}async function gw(s){const e=tr(s);for(const i of s.Ta)e.ea(i.mutations)}async function pw(s,e,i){const r=s.Ta.shift(),l=Cm.from(r,e,i);await Yb(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await bh(s)}async function yw(s,e){e&&tr(s).X_&&await(async function(r,l){if((function(f){return Z2(f)&&f!==$.ABORTED})(l.code)){const u=r.Ta.shift();tr(r).B_(),await Yb(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await bh(r)}})(s,e),Kb(s)&&Xb(s)}async function P_(s,e){const i=Ee(s);i.asyncQueue.verifyOperationInProgress(),ae(Br,"RemoteStore received new credentials");const r=Yr(i);i.Ea.add(3),await Hl(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await vh(i)}async function _w(s,e){const i=Ee(s);e?(i.Ea.delete(2),await vh(i)):e||(i.Ea.add(2),await Hl(i),i.Ra.set("Unknown"))}function uo(s){return s.ma||(s.ma=(function(i,r,l){const u=Ee(i);return u.sa(),new nw(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:lw.bind(null,s),t_:cw.bind(null,s),r_:uw.bind(null,s),H_:hw.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),Um(s)?Lm(s):s.Ra.set("Unknown")):(await s.ma.stop(),Qb(s))}))),s.ma}function tr(s){return s.fa||(s.fa=(function(i,r,l){const u=Ee(i);return u.sa(),new iw(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:mw.bind(null,s),r_:yw.bind(null,s),ta:gw.bind(null,s),na:pw.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await bh(s)):(await s.fa.stop(),s.Ta.length>0&&(ae(Br,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Pm{constructor(e,i,r,l,u){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new Xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,l,u){const f=Date.now()+r,p=new Pm(e,i,f,l,u);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zm(s,e){if(ts("AsyncQueue",`${e}: ${s}`),lo(s))return new se($.UNAVAILABLE,`${e}: ${s}`);throw s}class Fa{static emptySet(e){return new Fa(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||fe.comparator(i.key,r.key):(i,r)=>fe.comparator(i.key,r.key),this.keyedMap=El(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Fa)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Fa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class z_{constructor(){this.ga=new ct(fe.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):pe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class no{constructor(e,i,r,l,u,f,p,_,y){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,i,r,l,u){const f=[];return i.forEach((p=>{f.push({type:0,doc:p})})),new no(e,i,Fa.emptySet(i),f,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class vw{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class bw{constructor(){this.queries=q_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Ee(i),u=l.queries;l.queries=q_(),u.forEach(((f,p)=>{for(const _ of p.Sa)_.onError(r)}))})(this,new se($.ABORTED,"Firestore shutting down"))}}function q_(){return new Gr((s=>gb(s)),fh)}async function Ew(s,e){const i=Ee(s);let r=3;const l=e.query;let u=i.queries.get(l);u?!u.ba()&&e.Da()&&(r=2):(u=new vw,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await i.onListen(l,!0);break;case 1:u.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(f){const p=zm(f,`Initialization of query '${za(e.query)}' failed`);return void e.onError(p)}i.queries.set(l,u),u.Sa.push(e),e.va(i.onlineState),u.wa&&e.Fa(u.wa)&&qm(i)}async function xw(s,e){const i=Ee(s),r=e.query;let l=3;const u=i.queries.get(r);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?l=e.Da()?0:1:!u.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function Tw(s,e){const i=Ee(s);let r=!1;for(const l of e){const u=l.query,f=i.queries.get(u);if(f){for(const p of f.Sa)p.Fa(l)&&(r=!0);f.wa=l}}r&&qm(i)}function Sw(s,e,i){const r=Ee(s),l=r.queries.get(e);if(l)for(const u of l.Sa)u.onError(i);r.queries.delete(e)}function qm(s){s.Ca.forEach((e=>{e.next()}))}var lm,B_;(B_=lm||(lm={})).Ma="default",B_.Cache="cache";class Aw{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new no(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=no.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==lm.Cache}}class $b{constructor(e){this.key=e}}class Jb{constructor(e){this.key=e}}class ww{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Me(),this.mutatedKeys=Me(),this.eu=pb(e),this.tu=new Fa(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new z_,l=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,f=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((E,T)=>{const A=l.get(E),q=mh(this.query,T)?T:null,F=!!A&&this.mutatedKeys.has(A.key),Z=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let W=!1;A&&q?A.data.isEqual(q.data)?F!==Z&&(r.track({type:3,doc:q}),W=!0):this.su(A,q)||(r.track({type:2,doc:q}),W=!0,(_&&this.eu(q,_)>0||y&&this.eu(q,y)<0)&&(p=!0)):!A&&q?(r.track({type:0,doc:q}),W=!0):A&&!q&&(r.track({type:1,doc:A}),W=!0,(_||y)&&(p=!0)),W&&(q?(f=f.add(q),u=Z?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),r.track({type:1,doc:E})}return{tu:f,iu:r,Cs:p,mutatedKeys:u}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,T)=>(function(q,F){const Z=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe(20277,{Rt:W})}};return Z(q)-Z(F)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,f.length!==0||y?{snapshot:new no(this.query,e.tu,u,f,e.mutatedKeys,_===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new z_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Me(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new Jb(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new $b(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Me();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return no.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Bm="SyncEngine";class Nw{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class Cw{constructor(e){this.key=e,this.hu=!1}}class Rw{constructor(e,i,r,l,u,f){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Gr((p=>gb(p)),fh),this.Iu=new Map,this.Eu=new Set,this.du=new ct(fe.comparator),this.Au=new Map,this.Ru=new Dm,this.Vu={},this.mu=new Map,this.fu=to.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Iw(s,e,i=!0){const r=i1(s);let l;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await Zb(r,e,i,!0),l}async function Dw(s,e){const i=i1(s);await Zb(i,e,!0,!1)}async function Zb(s,e,i,r){const l=await KA(s.localStore,Ai(e)),u=l.targetId,f=s.sharedClientState.addLocalQueryTarget(u,i);let p;return r&&(p=await jw(s,e,u,f==="current",l.resumeToken)),s.isPrimaryClient&&i&&Fb(s.remoteStore,l),p}async function jw(s,e,i,r,l){s.pu=(T,A,q)=>(async function(Z,W,re,ce){let he=W.view.ru(re);he.Cs&&(he=await O_(Z.localStore,W.query,!1).then((({documents:I})=>W.view.ru(I,he))));const we=ce&&ce.targetChanges.get(W.targetId),Fe=ce&&ce.targetMismatches.get(W.targetId)!=null,Oe=W.view.applyChanges(he,Z.isPrimaryClient,we,Fe);return F_(Z,W.targetId,Oe.au),Oe.snapshot})(s,T,A,q);const u=await O_(s.localStore,e,!0),f=new ww(e,u.Qs),p=f.ru(u.documents),_=Bl.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),y=f.applyChanges(p,s.isPrimaryClient,_);F_(s,i,y.au);const E=new Nw(e,i,f);return s.Tu.set(e,E),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),y.snapshot}async function Mw(s,e,i){const r=Ee(s),l=r.Tu.get(e),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((f=>!fh(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await am(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&Vm(r.remoteStore,l.targetId),cm(r,l.targetId)})).catch(oo)):(cm(r,l.targetId),await am(r.localStore,l.targetId,!0))}async function Ow(s,e){const i=Ee(s),r=i.Tu.get(e),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Vm(i.remoteStore,r.targetId))}async function Vw(s,e,i){const r=Bw(s);try{const l=await(function(f,p){const _=Ee(f),y=st.now(),E=p.reduce(((q,F)=>q.add(F.key)),Me());let T,A;return _.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let F=ns(),Z=Me();return _.Ns.getEntries(q,E).next((W=>{F=W,F.forEach(((re,ce)=>{ce.isValidDocument()||(Z=Z.add(re))}))})).next((()=>_.localDocuments.getOverlayedDocuments(q,F))).next((W=>{T=W;const re=[];for(const ce of p){const he=Y2(ce,T.get(ce.key).overlayedDocument);he!=null&&re.push(new Qr(ce.key,he,ab(he.value.mapValue),Wi.exists(!0)))}return _.mutationQueue.addMutationBatch(q,y,re,p)})).next((W=>{A=W;const re=W.applyToLocalDocumentSet(T,Z);return _.documentOverlayCache.saveOverlays(q,W.batchId,re)}))})).then((()=>({batchId:A.batchId,changes:_b(T)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(f,p,_){let y=f.Vu[f.currentUser.toKey()];y||(y=new ct(je)),y=y.insert(p,_),f.Vu[f.currentUser.toKey()]=y})(r,l.batchId,i),await Fl(r,l.changes),await bh(r.remoteStore)}catch(l){const u=zm(l,"Failed to persist write");i.reject(u)}}async function Wb(s,e){const i=Ee(s);try{const r=await GA(i.localStore,e);e.targetChanges.forEach(((l,u)=>{const f=i.Au.get(u);f&&(He(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.hu=!0:l.modifiedDocuments.size>0?He(f.hu,14607):l.removedDocuments.size>0&&(He(f.hu,42227),f.hu=!1))})),await Fl(i,r,e)}catch(r){await oo(r)}}function H_(s,e,i){const r=Ee(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((u,f)=>{const p=f.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(f,p){const _=Ee(f);_.onlineState=p;let y=!1;_.queries.forEach(((E,T)=>{for(const A of T.Sa)A.va(p)&&(y=!0)})),y&&qm(_)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function kw(s,e,i){const r=Ee(s);r.sharedClientState.updateQueryState(e,"rejected",i);const l=r.Au.get(e),u=l&&l.key;if(u){let f=new ct(fe.comparator);f=f.insert(u,en.newNoDocument(u,ve.min()));const p=Me().add(u),_=new yh(ve.min(),new Map,new ct(je),f,p);await Wb(r,_),r.du=r.du.remove(u),r.Au.delete(e),Hm(r)}else await am(r.localStore,e,!1).then((()=>cm(r,e,i))).catch(oo)}async function Lw(s,e){const i=Ee(s),r=e.batch.batchId;try{const l=await FA(i.localStore,e);t1(i,r,null),e1(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Fl(i,l)}catch(l){await oo(l)}}async function Uw(s,e,i){const r=Ee(s);try{const l=await(function(f,p){const _=Ee(f);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return _.mutationQueue.lookupMutationBatch(y,p).next((T=>(He(T!==null,37113),E=T.keys(),_.mutationQueue.removeMutationBatch(y,T)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,E,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>_.localDocuments.getDocuments(y,E)))}))})(r.localStore,e);t1(r,e,i),e1(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await Fl(r,l)}catch(l){await oo(l)}}function e1(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function t1(s,e,i){const r=Ee(s);let l=r.Vu[r.currentUser.toKey()];if(l){const u=l.get(e);u&&(i?u.reject(i):u.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function cm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||n1(s,r)}))}function n1(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(Vm(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),Hm(s))}function F_(s,e,i){for(const r of i)r instanceof $b?(s.Ru.addReference(r.key,e),Pw(s,r)):r instanceof Jb?(ae(Bm,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||n1(s,r.key)):pe(19791,{wu:r})}function Pw(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(ae(Bm,"New document in limbo: "+i),s.Eu.add(r),Hm(s))}function Hm(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new fe(tt.fromString(e)),r=s.fu.next();s.Au.set(r,new Cw(i)),s.du=s.du.insert(i,r),Fb(s.remoteStore,new Fs(Ai(fb(i.path)),r,"TargetPurposeLimboResolution",uh.ce))}}async function Fl(s,e,i){const r=Ee(s),l=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,_)=>{f.push(r.pu(_,e,i).then((y=>{if((y||i)&&r.isPrimaryClient){const E=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,E?"current":"not-current")}if(y){l.push(y);const E=Mm.As(_.targetId,y);u.push(E)}})))})),await Promise.all(f),r.Pu.H_(l),await(async function(_,y){const E=Ee(_);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>J.forEach(y,(A=>J.forEach(A.Es,(q=>E.persistence.referenceDelegate.addReference(T,A.targetId,q))).next((()=>J.forEach(A.ds,(q=>E.persistence.referenceDelegate.removeReference(T,A.targetId,q)))))))))}catch(T){if(!lo(T))throw T;ae(Om,"Failed to update sequence numbers: "+T)}for(const T of y){const A=T.targetId;if(!T.fromCache){const q=E.Ms.get(A),F=q.snapshotVersion,Z=q.withLastLimboFreeSnapshotVersion(F);E.Ms=E.Ms.insert(A,Z)}}})(r.localStore,u))}async function zw(s,e){const i=Ee(s);if(!i.currentUser.isEqual(e)){ae(Bm,"User change. New user:",e.toKey());const r=await zb(i.localStore,e);i.currentUser=e,(function(u,f){u.mu.forEach((p=>{p.forEach((_=>{_.reject(new se($.CANCELLED,f))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Fl(i,r.Ls)}}function qw(s,e){const i=Ee(s),r=i.Au.get(e);if(r&&r.hu)return Me().add(r.key);{let l=Me();const u=i.Iu.get(e);if(!u)return l;for(const f of u){const p=i.Tu.get(f);l=l.unionWith(p.view.nu)}return l}}function i1(s){const e=Ee(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Wb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kw.bind(null,e),e.Pu.H_=Tw.bind(null,e.eventManager),e.Pu.yu=Sw.bind(null,e.eventManager),e}function Bw(s){const e=Ee(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Lw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Uw.bind(null,e),e}class eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_h(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return HA(this.persistence,new zA,e.initialUser,this.serializer)}Cu(e){return new Pb(jm.mi,this.serializer)}Du(e){return new $A}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eh.provider={build:()=>new eh};class Hw extends eh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){He(this.persistence.referenceDelegate instanceof Zu,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new AA(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new Pb((r=>Zu.mi(r,i)),this.serializer)}}class um{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>H_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=zw.bind(null,this.syncEngine),await _w(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new bw})()}createDatastore(e){const i=_h(e.databaseInfo.databaseId),r=(function(u){return new tw(u)})(e.databaseInfo);return(function(u,f,p,_){return new rw(u,f,p,_)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,l,u,f,p){return new ow(r,l,u,f,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>H_(this.syncEngine,i,0)),(function(){return L_.v()?new L_:new JA})())}createSyncEngine(e,i){return(function(l,u,f,p,_,y,E){const T=new Rw(l,u,f,p,_,y);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Ee(i);ae(Br,"RemoteStore shutting down."),r.Ea.add(5),await Hl(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}um.provider={build:()=>new um};class Fw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ts("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const nr="FirestoreClient";class Gw{constructor(e,i,r,l,u){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=Wt.UNAUTHENTICATED,this.clientId=Em.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{ae(nr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(ae(nr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=zm(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Uf(s,e){s.asyncQueue.verifyOperationInProgress(),ae(nr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await zb(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function G_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await Qw(s);ae(nr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>P_(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>P_(e.remoteStore,l))),s._onlineComponents=e}async function Qw(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ae(nr,"Using user provided OfflineComponentProvider");try{await Uf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ja("Error using user provided cache. Falling back to memory cache: "+i),await Uf(s,new eh)}}else ae(nr,"Using default OfflineComponentProvider"),await Uf(s,new Hw(void 0));return s._offlineComponents}async function s1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ae(nr,"Using user provided OnlineComponentProvider"),await G_(s,s._uninitializedComponentsProvider._online)):(ae(nr,"Using default OnlineComponentProvider"),await G_(s,new um))),s._onlineComponents}function Yw(s){return s1(s).then((e=>e.syncEngine))}async function Kw(s){const e=await s1(s),i=e.eventManager;return i.onListen=Iw.bind(null,e.syncEngine),i.onUnlisten=Mw.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Dw.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Ow.bind(null,e.syncEngine),i}function Xw(s,e,i={}){const r=new Xs;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,_,y){const E=new Fw({next:A=>{E.Nu(),f.enqueueAndForget((()=>xw(u,T))),A.fromCache&&_.source==="server"?y.reject(new se($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(A)},error:A=>y.reject(A)}),T=new Aw(p,E,{includeMetadataChanges:!0,qa:!0});return Ew(u,T)})(await Kw(s),s.asyncQueue,e,i,r))),r.promise}function r1(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const Q_=new Map;const a1="firestore.googleapis.com",Y_=!0;class K_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new se($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=a1,this.ssl=Y_}else this.host=e.host,this.ssl=e.ssl??Y_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ub;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<TA)throw new se($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}o2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=r1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new se($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new se($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new se($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Eh{constructor(e,i,r,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new K_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new K_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new JS;switch(r.type){case"firstParty":return new t2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=Q_.get(i);r&&(ae("ComponentProvider","Removing Datastore"),Q_.delete(i),r.terminate())})(this),Promise.resolve()}}function $w(s,e,i,r={}){s=Fu(s,Eh);const l=so(e),u=s._getSettings(),f={...u,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;l&&(Mv(`https://${p}`),Ov("Firestore",!0)),u.host!==a1&&u.host!==p&&Ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...u,host:p,ssl:l,emulatorOptions:r};if(!Pr(_,f)&&(s._setSettings(_),r.mockUserToken)){let y,E;if(typeof r.mockUserToken=="string")y=r.mockUserToken,E=Wt.MOCK_USER;else{y=xT(r.mockUserToken,s._app?.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new se($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Wt(T)}s._authCredentials=new ZS(new Kv(y,E))}}class Kr{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Kr(this.firestore,e,this._query)}}class qt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qt(this.firestore,e,this._key)}toJSON(){return{type:qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(zl(i,qt._jsonSchema))return new qt(e,r||null,new fe(tt.fromString(i.referencePath)))}}qt._jsonSchemaVersion="firestore/documentReference/1.0",qt._jsonSchema={type:Ct("string",qt._jsonSchemaVersion),referencePath:Ct("string")};class $s extends Kr{constructor(e,i,r){super(e,i,fb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new fe(e))}withConverter(e){return new $s(this.firestore,e,this._path)}}function Rt(s,e,...i){if(s=Un(s),Xv("collection","path",e),s instanceof Eh){const r=tt.fromString(e,...i);return o_(r),new $s(s,null,r)}{if(!(s instanceof qt||s instanceof $s))throw new se($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(tt.fromString(e,...i));return o_(r),new $s(s.firestore,null,r)}}function Jw(s,e,...i){if(s=Un(s),arguments.length===1&&(e=Em.newId()),Xv("doc","path",e),s instanceof Eh){const r=tt.fromString(e,...i);return a_(r),new qt(s,null,new fe(r))}{if(!(s instanceof qt||s instanceof $s))throw new se($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(tt.fromString(e,...i));return a_(r),new qt(s.firestore,s instanceof $s?s.converter:null,new fe(r))}}const X_="AsyncQueue";class $_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Bb(this,"async_queue_retry"),this._c=()=>{const r=Lf();r&&ae(X_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Lf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Lf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Xs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!lo(e))throw e;ae(X_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ts("INTERNAL UNHANDLED ERROR: ",J_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=Pm.createAndSchedule(this,e,i,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&pe(47125,{Pc:J_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function J_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Fm extends Eh{constructor(e,i,r,l){super(e,i,r,l),this.type="firestore",this._queue=new $_,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $_(e),this._firestoreClient=void 0,await e}}}function Zw(s,e){const i=typeof s=="object"?s:Uv(),r=typeof s=="string"?s:Qu,l=vm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=bT("firestore");u&&$w(l,...u)}return l}function o1(s){if(s._terminated)throw new se($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Ww(s),s._firestoreClient}function Ww(s){const e=s._freezeSettings(),i=(function(l,u,f,p){return new _2(l,u,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,r1(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new Gw(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(s._componentsProvider))}class Ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ln($t.fromBase64String(e))}catch(i){throw new se($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Ln($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zl(e,Ln._jsonSchema))return Ln.fromBase64String(e.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:Ct("string",Ln._jsonSchemaVersion),bytes:Ct("string")};class Gm{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new se($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class l1{constructor(e){this._methodName=e}}class Ni{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new se($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new se($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ni._jsonSchemaVersion}}static fromJSON(e){if(zl(e,Ni._jsonSchema))return new Ni(e.latitude,e.longitude)}}Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:Ct("string",Ni._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};class Ci{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ci._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zl(e,Ci._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ci(e.vectorValues);throw new se($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ci._jsonSchemaVersion="firestore/vectorValue/1.0",Ci._jsonSchema={type:Ct("string",Ci._jsonSchemaVersion),vectorValues:Ct("object")};const eN=/^__.*__$/;class tN{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Qr(e,this.data,this.fieldMask,i,this.fieldTransforms):new ql(e,this.data,i,this.fieldTransforms)}}function c1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe(40011,{Ac:s})}}class Qm{constructor(e,i,r,l,u,f){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Qm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return th(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(c1(this.Ac)&&eN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class nN{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||_h(e)}Cc(e,i,r,l=!1){return new Qm({Ac:e,methodName:i,Dc:r,path:Xt.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function u1(s){const e=s._freezeSettings(),i=_h(s._databaseId);return new nN(s._databaseId,!!e.ignoreUndefinedProperties,i)}function iN(s,e,i,r,l,u={}){const f=s.Cc(u.merge||u.mergeFields?2:0,e,i,l);f1("Data must be an object, but it was:",f,r);const p=h1(r,f);let _,y;if(u.merge)_=new Jn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const A=rN(e,T,i);if(!f.contains(A))throw new se($.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);oN(E,A)||E.push(A)}_=new Jn(E),y=f.fieldTransforms.filter((T=>_.covers(T.field)))}else _=null,y=f.fieldTransforms;return new tN(new kn(p),_,y)}function sN(s,e,i,r=!1){return Ym(i,s.Cc(r?4:3,e))}function Ym(s,e){if(d1(s=Un(s)))return f1("Unsupported field value:",e,s),h1(s,e);if(s instanceof l1)return(function(r,l){if(!c1(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const u=[];let f=0;for(const p of r){let _=Ym(p,l.wc(f));_==null&&(_={nullValue:"NULL_VALUE"}),u.push(_),f++}return{arrayValue:{values:u}}})(s,e)}return(function(r,l){if((r=Un(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return q2(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=st.fromDate(r);return{timestampValue:Ju(l.serializer,u)}}if(r instanceof st){const u=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ju(l.serializer,u)}}if(r instanceof Ni)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ln)return{bytesValue:Db(l.serializer,r._byteString)};if(r instanceof qt){const u=l.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw l.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Im(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Ci)return(function(f,p){return{mapValue:{fields:{[sb]:{stringValue:rb},[Yu]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Nm(p.serializer,y)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${ch(r)}`)})(s,e)}function h1(s,e){const i={};return Zv(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fr(s,((r,l)=>{const u=Ym(l,e.mc(r));u!=null&&(i[r]=u)})),{mapValue:{fields:i}}}function d1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof st||s instanceof Ni||s instanceof Ln||s instanceof qt||s instanceof l1||s instanceof Ci)}function f1(s,e,i){if(!d1(i)||!$v(i)){const r=ch(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function rN(s,e,i){if((e=Un(e))instanceof Gm)return e._internalPath;if(typeof e=="string")return m1(s,e);throw th("Field path arguments must be of type string or ",s,!1,void 0,i)}const aN=new RegExp("[~\\*/\\[\\]]");function m1(s,e,i){if(e.search(aN)>=0)throw th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Gm(...e.split("."))._internalPath}catch{throw th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function th(s,e,i,r,l){const u=r&&!r.isEmpty(),f=l!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(u||f)&&(_+=" (found",u&&(_+=` in field ${r}`),f&&(_+=` in document ${l}`),_+=")"),new se($.INVALID_ARGUMENT,p+s+_)}function oN(s,e){return s.some((i=>i.isEqual(e)))}class g1{constructor(e,i,r,l,u){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Km("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class lN extends g1{data(){return super.data()}}function Km(s,e){return typeof e=="string"?m1(s,e):e instanceof Gm?e._internalPath:e._delegate._internalPath}function cN(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new se($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xm{}class p1 extends Xm{}function $m(s,e,...i){let r=[];e instanceof Xm&&r.push(e),r=r.concat(i),(function(u){const f=u.filter((_=>_ instanceof Zm)).length,p=u.filter((_=>_ instanceof Jm)).length;if(f>1||f>0&&p>0)throw new se($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class Jm extends p1{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new Jm(e,i,r)}_apply(e){const i=this._parse(e);return _1(e._query,i),new Kr(e.firestore,e.converter,em(e._query,i))}_parse(e){const i=u1(e.firestore);return(function(u,f,p,_,y,E,T){let A;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new se($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){W_(T,E);const F=[];for(const Z of T)F.push(Z_(_,u,Z));A={arrayValue:{values:F}}}else A=Z_(_,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||W_(T,E),A=sN(p,f,T,E==="in"||E==="not-in");return Nt.create(y,E,A)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Zm extends Xm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Zm(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:Wn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,u){let f=l;const p=u.getFlattenedFilters();for(const _ of p)_1(f,_),f=em(f,_)})(e._query,i),new Kr(e.firestore,e.converter,em(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Wm extends p1{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Wm(e,i)}_apply(e){const i=(function(l,u,f){if(l.startAt!==null)throw new se($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new se($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ol(u,f)})(e._query,this._field,this._direction);return new Kr(e.firestore,e.converter,(function(l,u){const f=l.explicitOrderBy.concat([u]);return new co(l.path,l.collectionGroup,f,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,i))}}function y1(s,e="asc"){const i=e,r=Km("orderBy",s);return Wm._create(r,i)}function Z_(s,e,i){if(typeof(i=Un(i))=="string"){if(i==="")throw new se($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mb(e)&&i.indexOf("/")!==-1)throw new se($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(tt.fromString(i));if(!fe.isDocumentKey(r))throw new se($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return g_(s,new fe(r))}if(i instanceof qt)return g_(s,i._key);throw new se($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ch(i)}.`)}function W_(s,e){if(!Array.isArray(s)||s.length===0)throw new se($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _1(s,e){const i=(function(l,u){for(const f of l)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new se($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class uN{convertValue(e,i="none"){switch(er(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw pe(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Fr(e,((l,u)=>{r[l]=this.convertValue(u,i)})),r}convertVectorValue(e){const i=e.fields?.[Yu].arrayValue?.values?.map((r=>pt(r.doubleValue)));return new Ci(i)}convertGeoPoint(e){return new Ni(pt(e.latitude),pt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=dh(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Dl(e));default:return null}}convertTimestamp(e){const i=Zs(e);return new st(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=tt.fromString(e);He(Lb(r),9688,{name:e});const l=new jl(r.get(1),r.get(3)),u=new fe(r.popFirst(5));return l.isEqual(i)||ts(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}function hN(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class Cu{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ga extends g1{constructor(e,i,r,l,u,f){super(e,i,r,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Vu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Km("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new se($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ga._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ga._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ga._jsonSchema={type:Ct("string",Ga._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class Vu extends Ga{data(e={}){return super.data(e)}}class Qa{constructor(e,i,r,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Cu(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Vu(this._firestore,this._userDataWriter,r.key,r,new Cu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new se($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((p=>{const _=new Vu(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Cu(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const _=new Vu(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Cu(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,E=-1;return p.type!==0&&(y=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),E=f.indexOf(p.doc.key)),{type:dN(p.type),doc:_,oldIndex:y,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new se($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Qa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Em.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function dN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe(61501,{type:s})}}Qa._jsonSchemaVersion="firestore/querySnapshot/1.0",Qa._jsonSchema={type:Ct("string",Qa._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class fN extends uN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ln(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,i)}}function kt(s){s=Fu(s,Kr);const e=Fu(s.firestore,Fm),i=o1(e),r=new fN(e);return cN(s._query),Xw(i,s._query).then((l=>new Qa(e,r,s,l)))}function mN(s,e){const i=Fu(s.firestore,Fm),r=Jw(s),l=hN(s.converter,e);return gN(i,[iN(u1(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,Wi.exists(!1))]).then((()=>r))}function gN(s,e){return(function(r,l){const u=new Xs;return r.asyncQueue.enqueueAndForget((async()=>Vw(await Yw(r),l,u))),u.promise})(o1(s),e)}(function(e,i=!0){(function(l){ao=l})(ro),$a(new zr("firestore",((r,{instanceIdentifier:l,options:u})=>{const f=r.getProvider("app").getImmediate(),p=new Fm(new WS(r.getProvider("auth-internal")),new n2(f,r.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new se($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jl(y.options.projectId,E)})(f,l),f);return u={useFetchStreams:i,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Ys(n_,i_,e),Ys(n_,i_,"esm2020")})();function v1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pN=v1,b1=new Ul("auth","Firebase",v1());const nh=new ym("@firebase/auth");function yN(s,...e){nh.logLevel<=De.WARN&&nh.warn(`Auth (${ro}): ${s}`,...e)}function ku(s,...e){nh.logLevel<=De.ERROR&&nh.error(`Auth (${ro}): ${s}`,...e)}function is(s,...e){throw eg(s,...e)}function Ri(s,...e){return eg(s,...e)}function E1(s,e,i){const r={...pN(),[e]:i};return new Ul("auth","Firebase",r).create(e,{appName:s.name})}function Ur(s){return E1(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eg(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return b1.create(s,...e)}function ye(s,e,...i){if(!s)throw eg(e,...i)}function Ji(s){const e="INTERNAL ASSERTION FAILED: "+s;throw ku(e),new Error(e)}function ss(s,e){s||Ji(e)}function hm(){return typeof self<"u"&&self.location?.href||""}function _N(){return ev()==="http:"||ev()==="https:"}function ev(){return typeof self<"u"&&self.location?.protocol||null}function vN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_N()||CT()||"connection"in navigator)?navigator.onLine:!0}function bN(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Gl{constructor(e,i){this.shortDelay=e,this.longDelay=i,ss(i>e,"Short delay should be less than long delay!"),this.isMobile=AT()||RT()}get(){return vN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function tg(s,e){ss(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class x1{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const EN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const xN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],TN=new Gl(3e4,6e4);function ng(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function ho(s,e,i,r,l={}){return T1(s,l,async()=>{let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});const p=Pl({key:s.config.apiKey,...f}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:_,...u};return NT()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&so(s.emulatorConfig.host)&&(y.credentials="include"),x1.fetch()(await S1(s,s.config.apiHost,i,p),y)})}async function T1(s,e,i){s._canInitEmulator=!1;const r={...EN,...e};try{const l=new AN(s),u=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Ru(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ru(s,"credential-already-in-use",f);if(_==="EMAIL_EXISTS")throw Ru(s,"email-already-in-use",f);if(_==="USER_DISABLED")throw Ru(s,"user-disabled",f);const E=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw E1(s,E,y);is(s,E)}}catch(l){if(l instanceof rs)throw l;is(s,"network-request-failed",{message:String(l)})}}async function SN(s,e,i,r,l={}){const u=await ho(s,e,i,r,l);return"mfaPendingCredential"in u&&is(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function S1(s,e,i,r){const l=`${e}${i}?${r}`,u=s,f=u.config.emulator?tg(s.config,l):`${s.config.apiScheme}://${l}`;return xN.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class AN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Ri(this.auth,"network-request-failed")),TN.get())})}}function Ru(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=Ri(s,e,r);return l.customData._tokenResponse=i,l}async function wN(s,e){return ho(s,"POST","/v1/accounts:delete",e)}async function ih(s,e){return ho(s,"POST","/v1/accounts:lookup",e)}function Cl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NN(s,e=!1){const i=Un(s),r=await i.getIdToken(e),l=ig(r);ye(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u?.sign_in_provider;return{claims:l,token:r,authTime:Cl(Pf(l.auth_time)),issuedAtTime:Cl(Pf(l.iat)),expirationTime:Cl(Pf(l.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Pf(s){return Number(s)*1e3}function ig(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return ku("JWT malformed, contained fewer than 3 sections"),null;try{const l=Rv(i);return l?JSON.parse(l):(ku("Failed to decode base64 JWT payload"),null)}catch(l){return ku("Caught error parsing JWT payload as JSON",l?.toString()),null}}function tv(s){const e=ig(s);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ll(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof rs&&CN(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function CN({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class RN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class dm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cl(this.lastLoginAt),this.creationTime=Cl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function sh(s){const e=s.auth,i=await s.getIdToken(),r=await Ll(s,ih(e,{idToken:i}));ye(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const u=l.providerUserInfo?.length?A1(l.providerUserInfo):[],f=DN(s.providerData,u),p=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!f?.length,y=p?_:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new dm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,E)}async function IN(s){const e=Un(s);await sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function DN(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function A1(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function jN(s,e){const i=await T1(s,{},async()=>{const r=Pl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,f=await S1(s,l,"/v1/token",`key=${u}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:r};return s.emulatorConfig&&so(s.emulatorConfig.host)&&(_.credentials="include"),x1.fetch()(f,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function MN(s,e){return ho(s,"POST","/v2/accounts:revokeToken",ng(s,e))}class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const i=tv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:l,expiresIn:u}=await jN(e,i);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:l,expirationTime:u}=i,f=new Ya;return r&&(ye(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),l&&(ye(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),u&&(ye(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return Ji("not implemented")}}function Ps(s,e){ye(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Zn{constructor({uid:e,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new RN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new dm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Ll(this,this.stsTokenManager.getToken(this.auth,e));return ye(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return NN(this,e)}reload(){return IN(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Zn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await sh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Si(this.auth.app))return Promise.reject(Ur(this.auth));const e=await this.getIdToken();return await Ll(this,wN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,l=i.email??void 0,u=i.phoneNumber??void 0,f=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:q,providerData:F,stsTokenManager:Z}=i;ye(T&&Z,e,"internal-error");const W=Ya.fromJSON(this.name,Z);ye(typeof T=="string",e,"internal-error"),Ps(r,e.name),Ps(l,e.name),ye(typeof A=="boolean",e,"internal-error"),ye(typeof q=="boolean",e,"internal-error"),Ps(u,e.name),Ps(f,e.name),Ps(p,e.name),Ps(_,e.name),Ps(y,e.name),Ps(E,e.name);const re=new Zn({uid:T,auth:e,email:l,emailVerified:A,displayName:r,isAnonymous:q,photoURL:f,phoneNumber:u,tenantId:p,stsTokenManager:W,createdAt:y,lastLoginAt:E});return F&&Array.isArray(F)&&(re.providerData=F.map(ce=>({...ce}))),_&&(re._redirectEventId=_),re}static async _fromIdTokenResponse(e,i,r=!1){const l=new Ya;l.updateFromServerResponse(i);const u=new Zn({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await sh(u),u}static async _fromGetAccountInfoResponse(e,i,r){const l=i.users[0];ye(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?A1(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!u?.length,p=new Ya;p.updateFromIdToken(r);const _=new Zn({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:f}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new dm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(_,y),_}}const nv=new Map;function Zi(s){ss(s instanceof Function,"Expected a class definition");let e=nv.get(s);return e?(ss(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,nv.set(s,e),e)}class w1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}w1.type="NONE";const iv=w1;function Lu(s,e,i){return`firebase:${s}:${e}:${i}`}class Ka{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=Lu(this.userKey,l.apiKey,u),this.fullPersistenceKey=Lu("persistence",l.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await ih(this.auth,{idToken:e}).catch(()=>{});return i?Zn._fromGetAccountInfoResponse(this.auth,i,e):null}return Zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new Ka(Zi(iv),e,r);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=l[0]||Zi(iv);const f=Lu(r,e.config.apiKey,e.name);let p=null;for(const y of i)try{const E=await y._get(f);if(E){let T;if(typeof E=="string"){const A=await ih(e,{idToken:E}).catch(()=>{});if(!A)break;T=await Zn._fromGetAccountInfoResponse(e,A,E)}else T=Zn._fromJSON(e,E);y!==u&&(p=T),u=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!_.length?new Ka(u,e,r):(u=_[0],p&&await u._set(f,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Ka(u,e,r))}}function sv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(I1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(N1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(j1(e))return"Blackberry";if(M1(e))return"Webos";if(C1(e))return"Safari";if((e.includes("chrome/")||R1(e))&&!e.includes("edge/"))return"Chrome";if(D1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function N1(s=tn()){return/firefox\//i.test(s)}function C1(s=tn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function R1(s=tn()){return/crios\//i.test(s)}function I1(s=tn()){return/iemobile/i.test(s)}function D1(s=tn()){return/android/i.test(s)}function j1(s=tn()){return/blackberry/i.test(s)}function M1(s=tn()){return/webos/i.test(s)}function sg(s=tn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function ON(s=tn()){return sg(s)&&!!window.navigator?.standalone}function VN(){return IT()&&document.documentMode===10}function O1(s=tn()){return sg(s)||D1(s)||M1(s)||j1(s)||/windows phone/i.test(s)||I1(s)}function V1(s,e=[]){let i;switch(s){case"Browser":i=sv(tn());break;case"Worker":i=`${sv(tn())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${ro}/${r}`}class kN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=u=>new Promise((f,p)=>{try{const _=e(u);f(_)}catch(_){p(_)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function LN(s,e={}){return ho(s,"GET","/v2/passwordPolicy",ng(s,e))}const UN=6;class PN{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??UN,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class zN{constructor(e,i,r,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rv(this),this.idTokenSubscription=new rv(this),this.beforeStateQueue=new kN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=b1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Zi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ka.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await ih(this,{idToken:e}),r=await Zn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Si(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===f)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await sh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Si(this.app))return Promise.reject(Ur(this));const i=e?Un(e):null;return i&&ye(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Si(this.app)?Promise.reject(Ur(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Si(this.app)?Promise.reject(Ur(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await LN(this),i=new PN(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ul("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await MN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Zi(e)||this._popupRedirectResolver;ye(i,this,"argument-error"),this.redirectPersistenceManager=await Ka.create(this,[Zi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,l){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,r,l);return()=>{f=!0,_()}}else{const _=e.addObserver(i);return()=>{f=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=V1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&yN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function rg(s){return Un(s)}class rv{constructor(e){this.auth=e,this.observer=null,this.addObserver=UT(i=>this.observer=i)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ag={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qN(s){ag=s}function BN(s){return ag.loadJS(s)}function HN(){return ag.gapiScript}function FN(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function GN(s,e){const i=vm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),u=i.getOptions();if(Pr(u,e??{}))return l;is(l,"already-initialized")}return i.initialize({options:e})}function QN(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Zi);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function YN(s,e,i){const r=rg(s);ye(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,u=k1(e),{host:f,port:p}=KN(e),_=p===null?"":`:${p}`,y={url:`${u}//${f}${_}/`},E=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){ye(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ye(Pr(y,r.config.emulator)&&Pr(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,so(f)?(Mv(`${u}//${f}${_}`),Ov("Auth",!0)):XN()}function k1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function KN(s){const e=k1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:av(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:av(f)}}}function av(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function XN(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class L1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Ji("not implemented")}_getIdTokenResponse(e){return Ji("not implemented")}_linkToIdToken(e,i){return Ji("not implemented")}_getReauthenticationResolver(e){return Ji("not implemented")}}async function Xa(s,e){return SN(s,"POST","/v1/accounts:signInWithIdp",ng(s,e))}const $N="http://localhost";class Hr extends L1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Hr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):is("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...u}=i;if(!r||!l)return null;const f=new Hr(r,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const i=this.buildRequest();return Xa(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,Xa(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Xa(e,i)}buildRequest(){const e={requestUri:$N,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Pl(i)}return e}}class U1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ql extends U1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class zs extends Ql{constructor(){super("facebook.com")}static credential(e){return Hr._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zs.credential(e.oauthAccessToken)}catch{return null}}}zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";zs.PROVIDER_ID="facebook.com";class qs extends Ql{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Hr._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return qs.credential(i,r)}catch{return null}}}qs.GOOGLE_SIGN_IN_METHOD="google.com";qs.PROVIDER_ID="google.com";class Bs extends Ql{constructor(){super("github.com")}static credential(e){return Hr._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bs.credential(e.oauthAccessToken)}catch{return null}}}Bs.GITHUB_SIGN_IN_METHOD="github.com";Bs.PROVIDER_ID="github.com";class Hs extends Ql{constructor(){super("twitter.com")}static credential(e,i){return Hr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return Hs.credential(i,r)}catch{return null}}}Hs.TWITTER_SIGN_IN_METHOD="twitter.com";Hs.PROVIDER_ID="twitter.com";class io{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,l=!1){const u=await Zn._fromIdTokenResponse(e,r,l),f=ov(r);return new io({user:u,providerId:f,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const l=ov(r);return new io({user:e,providerId:l,_tokenResponse:r,operationType:i})}}function ov(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class rh extends rs{constructor(e,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,rh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,l){return new rh(e,i,r,l)}}function P1(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?rh._fromErrorAndOperation(s,u,e,r):u})}async function JN(s,e,i=!1){const r=await Ll(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return io._forOperation(s,"link",r)}async function ZN(s,e,i=!1){const{auth:r}=s;if(Si(r.app))return Promise.reject(Ur(r));const l="reauthenticate";try{const u=await Ll(s,P1(r,l,e,s),i);ye(u.idToken,r,"internal-error");const f=ig(u.idToken);ye(f,r,"internal-error");const{sub:p}=f;return ye(s.uid===p,r,"user-mismatch"),io._forOperation(s,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&is(r,"user-mismatch"),u}}async function WN(s,e,i=!1){if(Si(s.app))return Promise.reject(Ur(s));const r="signIn",l=await P1(s,r,e),u=await io._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(u.user),u}function eC(s,e,i,r){return Un(s).onIdTokenChanged(e,i,r)}function tC(s,e,i){return Un(s).beforeAuthStateChanged(e,i)}const ah="__sak";class z1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ah,"1"),this.storage.removeItem(ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const nC=1e3,iC=10;class q1 extends z1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=O1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&e(i,l,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((f,p,_)=>{this.notifyListeners(f,_)});return}const r=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(r);!i&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);VN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,iC):l()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},nC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}q1.type="LOCAL";const sC=q1;class B1 extends z1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}B1.type="SESSION";const H1=B1;function rC(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const r=new xh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:l,data:u}=i.data,f=this.handlersMap[l];if(!f?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(f).map(async y=>y(i.origin,u)),_=await rC(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xh.receivers=[];function og(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class aC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((p,_)=>{const y=og("",20);l.port1.start();const E=setTimeout(()=>{_(new Error("unsupported_event"))},r);f={messageChannel:l,onMessage(T){const A=T;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(A.data.response);break;default:clearTimeout(E),clearTimeout(u),_(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ii(){return window}function oC(s){Ii().location.href=s}function F1(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function lC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cC(){return navigator?.serviceWorker?.controller||null}function uC(){return F1()?self:null}const G1="firebaseLocalStorageDb",hC=1,oh="firebaseLocalStorage",Q1="fbase_key";class Yl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Th(s,e){return s.transaction([oh],e?"readwrite":"readonly").objectStore(oh)}function dC(){const s=indexedDB.deleteDatabase(G1);return new Yl(s).toPromise()}function fm(){const s=indexedDB.open(G1,hC);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(oh,{keyPath:Q1})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(oh)?e(r):(r.close(),await dC(),e(await fm()))})})}async function lv(s,e,i){const r=Th(s,!0).put({[Q1]:e,value:i});return new Yl(r).toPromise()}async function fC(s,e){const i=Th(s,!1).get(e),r=await new Yl(i).toPromise();return r===void 0?null:r.value}function cv(s,e){const i=Th(s,!0).delete(e);return new Yl(i).toPromise()}const mC=800,gC=3;class Y1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>gC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return F1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xh._getInstance(uC()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await lC(),!this.activeServiceWorker)return;this.sender=new aC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||cC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fm();return await lv(e,ah,"1"),await cv(e,ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>lv(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>fC(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>cv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=Th(l,!1).getAll();return new Yl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Y1.type="LOCAL";const pC=Y1;new Gl(3e4,6e4);function yC(s,e){return e?Zi(e):(ye(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class lg extends L1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xa(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Xa(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Xa(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function _C(s){return WN(s.auth,new lg(s),s.bypassAuthState)}function vC(s){const{auth:e,user:i}=s;return ye(i,e,"internal-error"),ZN(i,new lg(s),s.bypassAuthState)}async function bC(s){const{auth:e,user:i}=s;return ye(i,e,"internal-error"),JN(i,new lg(s),s.bypassAuthState)}class K1{constructor(e,i,r,l,u=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:l,tenantId:u,error:f,type:p}=e;if(f){this.reject(f);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _C;case"linkViaPopup":case"linkViaRedirect":return bC;case"reauthViaPopup":case"reauthViaRedirect":return vC;default:is(this.auth,"internal-error")}}resolve(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const EC=new Gl(2e3,1e4);class Ha extends K1{constructor(e,i,r,l,u){super(e,i,l,u),this.provider=r,this.authWindow=null,this.pollId=null,Ha.currentPopupAction&&Ha.currentPopupAction.cancel(),Ha.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){ss(this.filter.length===1,"Popup operations only handle one event");const e=og();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ha.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,EC.get())};e()}}Ha.currentPopupAction=null;const xC="pendingRedirect",Uu=new Map;class TC extends K1{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=Uu.get(this.auth._key());if(!e){try{const r=await SC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}Uu.set(this.auth._key(),e)}return this.bypassAuthState||Uu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SC(s,e){const i=NC(e),r=wC(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function AC(s,e){Uu.set(s._key(),e)}function wC(s){return Zi(s._redirectPersistence)}function NC(s){return Lu(xC,s.config.apiKey,s.name)}async function CC(s,e,i=!1){if(Si(s.app))return Promise.reject(Ur(s));const r=rg(s),l=yC(r,e),f=await new TC(r,l,i).execute();return f&&!i&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}const RC=600*1e3;class IC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DC(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!X1(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Ri(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RC&&this.cachedEventUids.clear(),this.cachedEventUids.has(uv(e))}saveEventToCache(e){this.cachedEventUids.add(uv(e)),this.lastProcessedEventTime=Date.now()}}function uv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function X1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function DC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return X1(s);default:return!1}}async function jC(s,e={}){return ho(s,"GET","/v1/projects",e)}const MC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OC=/^https?/;async function VC(s){if(s.config.emulator)return;const{authorizedDomains:e}=await jC(s);for(const i of e)try{if(kC(i))return}catch{}is(s,"unauthorized-domain")}function kC(s){const e=hm(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&f.hostname===r}if(!OC.test(i))return!1;if(MC.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const LC=new Gl(3e4,6e4);function hv(){const s=Ii().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function UC(s){return new Promise((e,i)=>{function r(){hv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hv(),i(Ri(s,"network-request-failed"))},timeout:LC.get()})}if(Ii().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ii().gapi?.load)r();else{const l=FN("iframefcb");return Ii()[l]=()=>{gapi.load?r():i(Ri(s,"network-request-failed"))},BN(`${HN()}?onload=${l}`).catch(u=>i(u))}}).catch(e=>{throw Pu=null,e})}let Pu=null;function PC(s){return Pu=Pu||UC(s),Pu}const zC=new Gl(5e3,15e3),qC="__/auth/iframe",BC="emulator/auth/iframe",HC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GC(s){const e=s.config;ye(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?tg(e,BC):`https://${s.config.authDomain}/${qC}`,r={apiKey:e.apiKey,appName:s.name,v:ro},l=FC.get(s.config.apiHost);l&&(r.eid=l);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${i}?${Pl(r).slice(1)}`}async function QC(s){const e=await PC(s),i=Ii().gapi;return ye(i,s,"internal-error"),e.open({where:document.body,url:GC(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HC,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const f=Ri(s,"network-request-failed"),p=Ii().setTimeout(()=>{u(f)},zC.get());function _(){Ii().clearTimeout(p),l(r)}r.ping(_).then(_,()=>{u(f)})}))}const YC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KC=500,XC=600,$C="_blank",JC="http://localhost";class dv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZC(s,e,i,r=KC,l=XC){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const _={...YC,width:r.toString(),height:l.toString(),top:u,left:f},y=tn().toLowerCase();i&&(p=R1(y)?$C:i),N1(y)&&(e=e||JC,_.scrollbars="yes");const E=Object.entries(_).reduce((A,[q,F])=>`${A}${q}=${F},`,"");if(ON(y)&&p!=="_self")return WC(e||"",p),new dv(null);const T=window.open(e||"",p,E);ye(T,s,"popup-blocked");try{T.focus()}catch{}return new dv(T)}function WC(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const eR="__/auth/handler",tR="emulator/auth/handler",nR=encodeURIComponent("fac");async function fv(s,e,i,r,l,u){ye(s.config.authDomain,s,"auth-domain-config-required"),ye(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:ro,eventId:l};if(e instanceof U1){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",LT(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(e instanceof Ql){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}s.tenantId&&(f.tid=s.tenantId);const p=f;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const _=await s._getAppCheckToken(),y=_?`#${nR}=${encodeURIComponent(_)}`:"";return`${iR(s)}?${Pl(p).slice(1)}${y}`}function iR({config:s}){return s.emulator?tg(s,tR):`https://${s.authDomain}/${eR}`}const zf="webStorageSupport";class sR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=H1,this._completeRedirectFn=CC,this._overrideRedirectResult=AC}async _openPopup(e,i,r,l){ss(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await fv(e,i,r,hm(),l);return ZC(e,u,og())}async _openRedirect(e,i,r,l){await this._originValidation(e);const u=await fv(e,i,r,hm(),l);return oC(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:u}=this.eventManagers[i];return l?Promise.resolve(l):(ss(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await QC(e),r=new IC(e);return i.register("authEvent",l=>(ye(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(zf,{type:zf},l=>{const u=l?.[0]?.[zf];u!==void 0&&i(!!u),is(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=VC(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return O1()||C1()||sg()}}const rR=sR;var mv="@firebase/auth",gv="1.11.1";class aR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function oR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lR(s){$a(new zr("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=r.options;ye(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:f,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:V1(s)},y=new zN(r,l,u,_);return QN(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),$a(new zr("auth-internal",e=>{const i=rg(e.getProvider("auth").getImmediate());return(r=>new aR(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ys(mv,gv,oR(s)),Ys(mv,gv,"esm2020")}const cR=300,uR=jv("authIdTokenMaxAge")||cR;let pv=null;const hR=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>uR)return;const l=i?.token;pv!==l&&(pv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function dR(s=Uv()){const e=vm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=GN(s,{popupRedirectResolver:rR,persistence:[pC,sC,H1]}),r=jv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=hR(u.toString());tC(i,f,()=>f(i.currentUser)),eC(i,p=>f(p))}}const l=Iv("auth");return l&&YN(i,`http://${l}`),i}function fR(){return document.getElementsByTagName("head")?.[0]??document}qN({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const u=Ri("internal-error");u.customData=l,i(u)},r.type="text/javascript",r.charset="UTF-8",fR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lR("Browser");const mR={apiKey:"AIzaSyA88tqY2iC43fJqjYd2vPahYcM1xEo1_3c",authDomain:"notas-1f37f.firebaseapp.com",projectId:"notas-1f37f",storageBucket:"notas-1f37f.firebasestorage.app",messagingSenderId:"216586156036",appId:"1:216586156036:web:2a070111c818d407789d51"},$1=Lv(mR),It=Zw($1);dR($1);const gR=({onSelectLesson:s})=>{const[e,i]=ee.useState("Hola! Cmo ests?");ee.useEffect(()=>{(async()=>{try{const u=await kt(Rt(It,"phrases"));if(!u.empty){const f=u.docs.map(p=>p.data().text);i(f[Math.floor(Math.random()*f.length)])}}catch(u){console.error("Error fetching greeting:",u)}})()},[]);const r=[{title:"Vocabulario Bsico",color:"text-purple-400",lessons:[{id:"alphabet",title:"Alfabeto",icon:m.jsx(H0,{}),color:"bg-purple-600"},{id:"vocales",title:"Vocales",icon:m.jsx(H0,{}),color:"bg-pink-500"},{id:"numbers",title:"Nmeros",icon:m.jsx(iT,{}),color:"bg-blue-500"},{id:"colors",title:"Colores",icon:m.jsx(nT,{}),color:"bg-red-500"},{id:"calendar",title:"Calendario",icon:m.jsx(Zx,{}),color:"bg-green-600"},{id:"weather",title:"El Clima",icon:m.jsx(Av,{}),color:"bg-orange-500"}]},{title:"Gramtica",color:"text-indigo-400",lessons:[{id:"pronouns",title:"Pronombres",icon:m.jsx(wv,{}),color:"bg-indigo-500"},{id:"verbs",title:"Ser/Estar",icon:m.jsx(Sv,{}),color:"bg-emerald-600"},{id:"conjugations",title:"Conjugacin",icon:m.jsx(aT,{}),color:"bg-cyan-600"}]},{title:"Situacional",color:"text-pink-400",lessons:[{id:"intro",title:"Presentarse",icon:m.jsx(sT,{}),color:"bg-pink-500"},{id:"interview",title:"Entrevista",icon:m.jsx(oT,{}),color:"bg-cyan-600"},{id:"feelings",title:"Saludos",icon:m.jsx(lT,{}),color:"bg-yellow-500"},{id:"jobs",title:"Profesiones",icon:m.jsx(qf,{}),color:"bg-teal-600"},{id:"nationalities",title:"Pases",icon:m.jsx(xv,{}),color:"bg-rose-600"},{id:"characters",title:"Famosos",icon:m.jsx(Bf,{}),color:"bg-indigo-600"}]},{title:"Pruebas",color:"text-yellow-400",lessons:[{id:"vocabmix",title:"Vocab Mix",icon:m.jsx(Xx,{}),color:"bg-pink-600"},{id:"finalquiz",title:"Examen Final",icon:m.jsx(Ev,{}),color:"bg-yellow-600"}]}];return m.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-8 pb-32 relative",children:[m.jsxs("div",{className:"space-y-1 relative z-20",children:[m.jsx("div",{className:"flex justify-between items-end",children:m.jsx("h1",{className:"text-3xl font-black bg-gradient-to-r from-pink-400 to-indigo-400 bg-clip-text text-transparent tracking-tight",children:"Hola, estudiante"})}),m.jsx("p",{className:"text-gray-400 text-sm font-medium",children:e})]}),m.jsx("div",{className:"space-y-8 relative z-10",children:r.map((l,u)=>m.jsxs("div",{className:"space-y-3",children:[m.jsx("h3",{className:`text-xs font-bold uppercase tracking-widest ${l.color} ml-1`,children:l.title}),m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:l.lessons.map(f=>m.jsxs("button",{onClick:()=>s(f.id),className:"bg-gray-800 p-3 rounded-2xl border border-gray-700/50 hover:border-gray-500 hover:bg-gray-750 transition-all text-left group relative overflow-hidden flex flex-col justify-between min-h-[100px]",children:[m.jsx("div",{className:`absolute top-0 right-0 p-2 opacity-10 ${f.color} blur-xl w-16 h-16 rounded-full -mr-4 -mt-4 group-hover:opacity-20 transition-opacity pointer-events-none`}),m.jsx("div",{className:"relative z-10",children:m.jsx("div",{className:`w-8 h-8 rounded-lg ${f.color} flex items-center justify-center text-white shadow-md mb-2 shrink-0`,children:f.icon})}),m.jsx("span",{className:"font-bold text-gray-200 text-sm relative z-10",children:f.title})]},f.id))})]},u))}),m.jsx("div",{className:"flex justify-center mt-8 opacity-20 hover:opacity-100 transition-opacity",children:m.jsxs("button",{onClick:()=>s("admin"),className:"flex items-center gap-2 px-4 py-2 rounded-full border border-gray-700 hover:bg-gray-800 text-xs text-gray-500 transition-colors",children:[m.jsx(qf,{size:14}),m.jsx("span",{children:"Panel de Control"})]})})]})},pR=[{order:0,label:"0",span:"cero"},{order:1,label:"1",span:"uno"},{order:2,label:"2",span:"dos"},{order:3,label:"3",span:"tres"},{order:4,label:"4",span:"cuatro"},{order:5,label:"5",span:"cinco"},{order:6,label:"6",span:"seis"},{order:7,label:"7",span:"siete"},{order:8,label:"8",span:"ocho"},{order:9,label:"9",span:"nueve"},{order:10,label:"10",span:"diez"},{order:11,label:"11",span:"once"},{order:12,label:"12",span:"doce"},{order:13,label:"13",span:"trece"},{order:14,label:"14",span:"catorce"},{order:15,label:"15",span:"quince"},{order:16,label:"16",span:"diecisis"},{order:17,label:"17",span:"diecisiete"},{order:18,label:"18",span:"dieciocho"},{order:19,label:"19",span:"diecinueve"},{order:20,label:"20",span:"veinte"},{order:21,label:"21",span:"veintiuno"},{order:25,label:"25",span:"veinticinco"},{order:30,label:"30",span:"treinta"},{order:31,label:"31",span:"treinta y uno"},{order:40,label:"40",span:"cuarenta"},{order:50,label:"50",span:"cincuenta"},{order:60,label:"60",span:"sesenta"},{order:70,label:"70",span:"setenta"},{order:80,label:"80",span:"ochenta"},{order:90,label:"90",span:"noventa"},{order:99,label:"99",span:"noventa y nueve"},{order:100,label:"100",span:"cien"},{order:101,label:"101",span:"ciento uno"},{order:200,label:"200",span:"doscientos"},{order:500,label:"500",span:"quinientos"},{order:1e3,label:"1000",span:"mil"}],yR=[{order:1,letter:"A",rhyme:"Con la A, mam va a trabajar."},{order:2,letter:"E",rhyme:"Con la E, el beb bebe leche."},{order:3,letter:"I",rhyme:"Con la I, Imprimir, bici."},{order:4,letter:"O",rhyme:"Con la O, oso, mono."},{order:5,letter:"U",rhyme:"Con la U, t, u."}],_R=[{name:"Est soleado",desc:"It is sunny",icon:"Sun"},{name:"Est nublado",desc:"It is cloudy",icon:"Cloud"},{name:"Est parcialmente nublado",desc:"It is partly cloudy",icon:"Cloud"},{name:"Est despejado",desc:"It is clear",icon:"Sun"},{name:"Est lloviendo",desc:"It is raining",icon:"CloudRain"},{name:"La lluvia",desc:"The rain",icon:"CloudRain"},{name:"Est nevando",desc:"It is snowing",icon:"Snowflake"},{name:"La nieve",desc:"The snow",icon:"Snowflake"},{name:"Hace calor",desc:"It is hot",icon:"Thermometer"},{name:"Hace fro",desc:"It is cold",icon:"Thermometer"},{name:"Hace viento",desc:"It is windy",icon:"Wind"},{name:"Hace buen tiempo",desc:"The weather is good",icon:"Smile"},{name:"Hace mal tiempo",desc:"The weather is bad",icon:"Frown"},{name:"La tormenta",desc:"The storm",icon:"Zap"},{name:"El relmpago",desc:"The lightning",icon:"Zap"},{name:"Hmedo",desc:"Humid",icon:"Cloud"},{name:"Seco",desc:"Dry",icon:"Sun"},{name:"El arcoris",desc:"The rainbow",icon:"Smile"}],vR=()=>{const[s,e]=ee.useState(!1),[i,r]=ee.useState(""),l=async(u,f)=>{e(!0),r(`Uploading to ${u}...`);try{const p=Rt(It,u);for(const _ of f)await mN(p,_);r(`Success! Uploaded ${f.length} items to '${u}'.`)}catch(p){console.error("Error:",p),r("Error: "+p.message)}e(!1)};return m.jsxs("div",{className:"p-4 bg-gray-800 border border-yellow-500 rounded-xl mb-6 space-y-2",children:[m.jsx("h3",{className:"font-bold text-yellow-500",children:" Herramientas de administracin de base de datos"}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsx("button",{onClick:()=>l("lesson_vocales",yR),disabled:s,className:"px-4 py-2 bg-pink-600 hover:bg-pink-500 text-white rounded-lg text-xs font-bold transition-colors disabled:opacity-50",children:"Subir Vocales"}),m.jsx("button",{onClick:()=>l("numbers",pR),disabled:s,className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg text-xs font-bold transition-colors disabled:opacity-50",children:"Subir Nmeros (numbers)"}),m.jsx("button",{onClick:()=>l("weather",_R),disabled:s,className:"px-4 py-2 bg-orange-600 hover:bg-orange-500 text-white rounded-lg text-xs font-bold transition-colors disabled:opacity-50",children:"Subir Clima"})]}),i&&m.jsx("p",{className:"text-sm text-gray-300 animate-pulse",children:i})]})};function bR(s){return Xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 128h-80V80c0-26.5-21.5-48-48-48H176c-26.5 0-48 21.5-48 48v48H48c-26.5 0-48 21.5-48 48v288c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V176c0-26.5-21.5-48-48-48zM192 96h128v32H192V96zm160 248c0 4.4-3.6 8-8 8h-56v56c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8v-56h-56c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h56v-56c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v56h56c4.4 0 8 3.6 8 8v48z"},child:[]}]})(s)}const ER=({onBack:s})=>m.jsxs("div",{className:"min-h-screen bg-gray-900 text-white p-6 max-w-2xl mx-auto pb-24",children:[m.jsxs("div",{className:"flex items-center gap-4 mb-8 border-b border-gray-700 pb-4",children:[m.jsx("button",{onClick:s,className:"bg-gray-800 p-2 rounded-lg hover:bg-gray-700 transition-colors",children:m.jsx(gm,{size:20,className:"text-gray-400"})}),m.jsxs("div",{children:[m.jsxs("h1",{className:"text-2xl font-bold text-red-500 flex items-center gap-2",children:[m.jsx(qf,{size:24}),"Panel de Control"]}),m.jsx("p",{className:"text-gray-400 text-sm",children:"Gestin de bases de datos"})]})]}),m.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 mb-6 border border-indigo-500/30",children:[m.jsxs("h2",{className:"text-xl font-bold text-indigo-400 mb-4 flex items-center gap-2",children:[m.jsx(tT,{size:20}),"Generador de contenido con IA"]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-xl p-8 text-center bg-gray-900/50 hover:border-indigo-500 transition-colors cursor-pointer group",children:[m.jsx("div",{className:"mb-2 group-hover:scale-110 transition-transform duration-300",children:""}),m.jsx("p",{className:"text-gray-400 text-sm group-hover:text-white",children:"Subir notas del tutor (Imagen)"})]}),m.jsx("textarea",{className:"w-full bg-gray-900 border border-gray-700 rounded-lg p-3 text-white focus:ring-2 focus:ring-indigo-500 outline-none",rows:"3",placeholder:"O pega el texto de las notas aqu..."}),m.jsx("button",{className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-3 rounded-lg shadow-lg opacity-50 cursor-not-allowed",children:"Generar y guardar (Prximamente)"})]})]}),m.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 border border-yellow-500/30",children:[m.jsxs("h2",{className:"text-xl font-bold text-yellow-500 mb-4 flex items-center gap-2",children:[m.jsx(bR,{size:20}),"Semillas de base de datos"]}),m.jsxs("p",{className:"text-xs text-gray-400 mb-4",children:["Usa estos botones para enviar datos locales de ",m.jsx("code",{children:"data.js"})," a Firestore."]}),m.jsx(vR,{})]})]}),xR=({onComplete:s})=>{const[e,i]=ee.useState([]),[r,l]=ee.useState(!0);ee.useEffect(()=>{(async()=>{try{const p=["colors","places","greetings","feelings","days","months"];let _=[];for(const T of p){const q=(await kt(Rt(It,T))).docs.map(F=>({...F.data(),category:T}));_=[..._,...q]}const E=(await kt(Rt(It,"jobs"))).docs.map(T=>{const A=T.data();return{es:A.masc,en:A.eng,category:"jobs"}});_=[..._,...E],i(_.sort(()=>.5-Math.random()))}catch(p){console.error("Error fetching vocab mix:",p)}finally{l(!1)}})()},[]);const u=({v:f})=>{const[p,_]=ee.useState(!1);return m.jsx("div",{onClick:()=>_(!p),className:"relative h-24 cursor-pointer perspective-1000 group",children:m.jsxs("div",{className:`w-full h-full relative preserve-3d flip-card-inner ${p?"rotate-y-180":""} transition-transform duration-500`,children:[m.jsx("div",{className:"absolute inset-0 bg-gray-800 p-2 rounded-xl border border-gray-700 flex flex-col items-center justify-center backface-hidden shadow-lg",children:m.jsx("span",{className:"text-white font-bold text-center text-lg",children:f.es})}),m.jsxs("div",{className:"absolute inset-0 bg-pink-900/90 p-2 rounded-xl border border-pink-500 flex flex-col items-center justify-center backface-hidden rotate-y-180 shadow-lg",children:[m.jsx("span",{className:"text-pink-100 font-bold text-center text-lg",children:f.en}),m.jsx("span",{className:"text-[10px] text-pink-300 uppercase tracking-widest mt-1 opacity-75",children:f.category})]})]})})};return r?m.jsx("div",{className:"p-10 text-center text-gray-400",children:"Generando mix de vocabulario..."}):m.jsxs("div",{className:"p-4 max-w-md mx-auto h-[calc(100vh-80px)] flex flex-col",children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("h2",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-pink-400 to-purple-400",children:"Vocabulario Mix"}),m.jsxs("p",{className:"text-gray-400 text-xs",children:["Se encontraron ",e.length," tarjetas."]})]}),m.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-hide pb-20",children:m.jsx("div",{className:"grid grid-cols-2 gap-3",children:e.map((f,p)=>m.jsx(u,{v:f},p))})}),m.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-6 bg-gray-900/95 backdrop-blur border-t border-gray-800 max-w-md mx-auto",children:m.jsx("button",{onClick:s,className:"w-full border border-gray-600 text-gray-400 font-bold py-3 rounded-2xl",children:"Volver al Men"})})]})},ei=({onComplete:s,questionCount:e,pool:i})=>{const[r,l]=ee.useState([]),[u,f]=ee.useState(0),[p,_]=ee.useState(0),[y,E]=ee.useState(!1),[T,A]=ee.useState(null),[q,F]=ee.useState(null);ee.useEffect(()=>{let ce=[...i].sort(()=>.5-Math.random());ce.length>e&&(ce=ce.slice(0,e)),l(ce)},[i,e]);const Z=ce=>{if(T)return;A(ce);const he=r[u],we=ce===he.a;we&&_(Oe=>Oe+1);const Fe=we?"Correcto! "+(he.exp||""):"Incorrecto. "+(he.exp||`La respuesta correcta es: ${he.a}`);F({correct:we,text:Fe}),setTimeout(()=>W(),3500)},W=()=>{A(null),F(null),u<r.length-1?f(ce=>ce+1):E(!0)};if(r.length===0)return m.jsx("div",{children:"Cargando..."});if(y)return m.jsxs("div",{className:"p-6 text-center space-y-4",children:[m.jsx("div",{className:"text-6xl animate-bounce",children:""}),m.jsx("h3",{className:"text-xl font-bold",children:"Prueba Terminada!"}),m.jsxs("p",{className:"text-gray-300",children:["Puntaje: ",p," / ",r.length]}),m.jsx("button",{onClick:s,className:"w-full bg-indigo-600 text-white font-bold py-3 rounded-xl",children:"Volver a Leccin"})]});const re=r[u];return m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between text-xs text-gray-400 font-mono",children:[m.jsxs("span",{children:["P: ",u+1,"/",r.length]}),m.jsxs("span",{children:["Pts: ",p]})]}),m.jsx("div",{className:"bg-gray-800 p-4 rounded-xl border border-gray-700 min-h-[100px] flex items-center justify-center text-center",children:m.jsx("p",{className:"text-lg font-medium",children:re.q})}),re.type==="mc"&&m.jsx("div",{className:"grid gap-2",children:re.opts.map(ce=>{let he="bg-gray-800 hover:bg-gray-700";return T&&(ce===re.a?he="bg-green-600 border-green-400":ce===T?he="bg-red-600 border-red-400":he="opacity-40"),m.jsx("button",{onClick:()=>Z(ce),className:`${he} p-3 rounded-lg font-bold transition-all border border-gray-700 text-sm capitalize`,children:ce},ce)})}),q&&m.jsx("div",{className:`p-4 rounded-xl text-center text-sm font-bold animate-fade-in border ${q.correct?"text-green-200 bg-green-900/40 border-green-500":"text-red-200 bg-red-900/40 border-red-500"}`,children:q.text})]})},yv=s=>s?s.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim():"",ir=(s,e,i=2,r="en")=>{if(!e||e.length===0)return["Option A","Option B"];let l=[];s.category?l=e.filter(p=>p.category===s.category):l=e,l.length<=1&&(l=e);const u=yv(s[r]);return l.filter(p=>yv(p[r])!==u).sort(()=>.5-Math.random()).slice(0,i).map(p=>p[r])},TR=({onComplete:s})=>{const[e,i]=ee.useState([]),[r,l]=ee.useState(!0);return ee.useEffect(()=>{(async()=>{try{const f=["colors","places","greetings","feelings","days","months"];let p=[];for(const T of f){const A=await kt(Rt(It,T));p.push(...A.docs.map(q=>({...q.data(),category:T})))}const _=await kt(Rt(It,"jobs"));p.push(..._.docs.map(T=>({es:T.data().masc,en:T.data().eng,category:"jobs"})));let y=[];p.sort(()=>.5-Math.random()),y=p.slice(0,25).map(T=>{const A=ir(T,p);return{type:"mc",q:`Qu significa "${T.es}"?`,a:T.en,opts:[T.en,...A].sort(()=>.5-Math.random()),exp:`${T.es} = ${T.en}`}}),i(y)}catch(f){console.error("Error generating quiz:",f)}finally{l(!1)}})()},[]),r?m.jsx("div",{className:"p-10 text-center text-gray-400",children:"Generando examen final..."}):e.length===0?m.jsx("div",{className:"p-10 text-center text-red-400",children:"No hay suficientes datos para el examen."}):m.jsxs("div",{className:"p-6 max-w-md mx-auto pb-24",children:[m.jsx("h2",{className:"text-xl font-bold mb-4 text-yellow-500",children:"Examen Final (25 Preguntas)"}),m.jsx(ei,{pool:e,questionCount:25,onComplete:s})]})};const SR=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),AR=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),_v=s=>{const e=AR(s);return e.charAt(0).toUpperCase()+e.slice(1)},J1=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),wR=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var NR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const CR=ee.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:u,iconNode:f,...p},_)=>ee.createElement("svg",{ref:_,...NR,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:J1("lucide",l),...!u&&!wR(p)&&{"aria-hidden":"true"},...p},[...f.map(([y,E])=>ee.createElement(y,E)),...Array.isArray(u)?u:[u]]));const fo=(s,e)=>{const i=ee.forwardRef(({className:r,...l},u)=>ee.createElement(CR,{ref:u,iconNode:e,className:J1(`lucide-${SR(_v(s))}`,`lucide-${s}`,r),...l}));return i.displayName=_v(s),i};const RR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Z1=fo("circle-alert",RR);const IR=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],W1=fo("external-link",IR);const DR=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],cg=fo("loader-circle",DR);const jR=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],eE=fo("play",jR);const MR=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],ug=fo("volume-2",MR);const OR=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],VR=fo("youtube",OR),kR=()=>{const[s,e]=ee.useState([]),[i,r]=ee.useState([]),[l,u]=ee.useState(!0),[f,p]=ee.useState(!1),_=ee.useRef(null);ee.useEffect(()=>{(async()=>{try{const Z=$m(Rt(It,"alphabet")),re=(await kt(Z)).docs.map(we=>we.data());re.sort((we,Fe)=>we.letter.localeCompare(Fe.letter,"es",{sensitivity:"base"}));const ce=re.filter(we=>we.category==="letter"),he=re.filter(we=>we.category==="sound");e(ce),r(he)}catch(Z){console.error("Error fetching alphabet:",Z)}finally{u(!1)}})()},[]);const y=F=>{window.speechSynthesis.cancel();let Z;F==="LL"?Z=new SpeechSynthesisUtterance("ye"):F==="RR"?Z=new SpeechSynthesisUtterance("erre"):Z=new SpeechSynthesisUtterance(F.toLowerCase()),Z.lang="es-MX",Z.rate=.8,window.speechSynthesis.speak(Z)},E="1wJIkTuckEI",T=`https://www.youtube.com/watch?v=${E}`;if(l)return m.jsx("div",{className:"w-full flex items-center justify-center p-8",children:m.jsx(cg,{className:"animate-spin text-indigo-400 w-8 h-8"})});const A=()=>{_.current?.scrollIntoView({behavior:"smooth",block:"center"})},q=(F,Z=!1)=>{const W=Z?"teal":"purple";return m.jsxs("button",{onClick:()=>y(F.letter),className:`group flex justify-between items-center p-4 rounded-xl border border-gray-700/50 hover:bg-white/5 hover:border-${W}-500/50 transition-all active:scale-95 text-left`,children:[m.jsx("div",{className:"flex items-center gap-4",children:m.jsx("span",{className:`text-2xl font-black text-${W}-400 group-hover:text-${W}-300 w-16 text-center`,children:F.display})}),m.jsxs("div",{className:"flex items-center gap-3 text-right flex-1 justify-end",children:[m.jsxs("div",{className:"flex-grow text-right",children:[m.jsx("span",{className:"block text-white font-bold text-lg",children:F.sound}),m.jsx("span",{className:"text-xs text-gray-500 italic group-hover:text-gray-400",children:F.notes})]}),m.jsx(ug,{className:`w-5 h-5 text-gray-600 group-hover:text-${W}-400 opacity-0 group-hover:opacity-100 transition-opacity`})]})]},F.letter)};return m.jsxs("div",{className:"w-full bg-[#111827] text-gray-100 space-y-8 animate-fade-in",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("h2",{className:"text-2xl font-black text-white tracking-tight",children:"Alfabeto Espaol"}),m.jsx("p",{className:"text-gray-400 text-xs font-medium",children:"Letras, sonidos y pronunciacin"})]}),m.jsxs("div",{className:"p-4 rounded-xl border border-indigo-500/30 bg-indigo-500/10",children:[m.jsx("h3",{className:"font-bold text-sm text-indigo-300 mb-2 flex items-center gap-2",children:"Claves de Pronunciacin"}),m.jsxs("ul",{className:"text-xs text-gray-300 space-y-2 list-disc list-inside opacity-90",children:[m.jsxs("li",{children:[m.jsx("b",{className:"text-white",children:"H"})," es siempre silenciosa."]}),m.jsxs("li",{children:[m.jsx("b",{className:"text-white",children:"LL"})," y ",m.jsx("b",{className:"text-white",children:"Y"})," suenan como 'Y' en 'yes'."]}),m.jsxs("li",{children:[m.jsx("b",{className:"text-white",children:"RR"})," es una vibracin fuerte (trilled R)."]}),m.jsxs("li",{children:[m.jsx("b",{className:"text-white",children:"C"})," y ",m.jsx("b",{className:"text-white",children:"G"})," cambian su sonido dependiendo de la vocal que sigue."]})]})]}),m.jsxs("button",{onClick:A,className:"w-full flex items-center justify-center gap-3 py-3 rounded-xl bg-indigo-600 hover:bg-indigo-500 active:bg-indigo-700 transition-all text-white font-bold shadow-lg shadow-indigo-600/20",children:[m.jsx(VR,{size:18}),"Ver video de pronunciacin"]}),m.jsx("div",{className:"grid grid-cols-1 gap-2",children:s.map(F=>q(F,!1))}),i.length>0&&m.jsxs("div",{className:"pt-4",children:[m.jsx("h3",{className:"text-base font-bold text-gray-400 tracking-wide uppercase pb-3",children:"Sonidos nicos"}),m.jsx("div",{className:"grid grid-cols-1 gap-2",children:i.map(F=>q(F,!0))})]}),m.jsxs("div",{ref:_,className:"space-y-3 pt-8",children:[m.jsx("h3",{className:"text-base font-bold text-gray-400 tracking-wide uppercase pb-3",children:"Video de Prctica"}),!f&&m.jsx("div",{className:"relative w-full aspect-video rounded-xl overflow-hidden border border-gray-800 bg-black shadow-lg",children:m.jsx("iframe",{width:"100%",height:"100%",src:`https://www.youtube.com/embed/${E}`,title:"Cancin del Alfabeto",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"absolute inset-0",onError:()=>p(!0)})}),m.jsxs("a",{href:T,target:"_blank",rel:"noopener noreferrer",className:`flex items-center justify-center gap-3 w-full py-4 rounded-xl border ${f?"border-pink-500/30 bg-pink-500/10":"border-gray-700/50 hover:bg-white/5"} transition-all group`,children:[f?m.jsx(Z1,{size:18,className:"text-pink-500"}):m.jsx(eE,{size:18,className:"text-gray-400 group-hover:text-white"}),m.jsx("span",{className:`text-sm font-medium ${f?"text-pink-200":"text-gray-400 group-hover:text-white"}`,children:f?"Video no disponible - Ver en YouTube":"Abrir en YouTube App"}),m.jsx(W1,{size:14,className:`${f?"text-pink-500":"text-gray-600 group-hover:text-white"}`})]})]})]})},LR=()=>{const[s,e]=ee.useState([]),[i,r]=ee.useState(!0),[l,u]=ee.useState(!1);ee.useEffect(()=>{(async()=>{try{const E=$m(Rt(It,"lesson_vocales"),y1("order")),A=(await kt(E)).docs.map(q=>q.data());A.length>0?e(A):console.log("No vowels found in Firestore. Please seed data via Admin.")}catch(E){console.error("Error fetching vowels:",E)}finally{r(!1)}})()},[]);const f=y=>{window.speechSynthesis.cancel();const E=new SpeechSynthesisUtterance(y);E.lang="es-MX",E.rate=.8,window.speechSynthesis.speak(E)},p="PXFMC-g0Jt8",_=`https://www.youtube.com/watch?v=${p}`;return i?m.jsx("div",{className:"min-h-screen w-full bg-[#111827] flex items-center justify-center",children:m.jsx(cg,{className:"animate-spin text-pink-500 w-8 h-8"})}):m.jsxs("div",{className:"w-full bg-[#111827] text-gray-100 space-y-8 animate-fade-in",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("h2",{className:"text-2xl font-black text-white tracking-tight",children:"Las vocales"}),m.jsx("p",{className:"text-gray-400 text-xs font-medium",children:"Escucha y repite los sonidos"})]}),s.length===0?m.jsx("div",{className:"p-4 border border-yellow-500/30 bg-yellow-500/10 rounded-xl text-yellow-200 text-sm text-center",children:' No hay datos. Ve al Panel de Control y pulsa "Subir Vocales".'}):m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"grid grid-cols-5 gap-3",children:s.map(y=>m.jsxs("button",{onClick:()=>f(y.letter.toLowerCase()),className:"group flex flex-col items-center justify-center py-4 rounded-xl border border-gray-700/50 hover:border-pink-500/50 hover:bg-white/5 transition-all active:scale-95",children:[m.jsx("span",{className:"text-xl font-black text-white mb-1 group-hover:text-pink-400 transition-colors",children:y.letter}),m.jsx(ug,{className:"w-3 h-3 text-gray-600 group-hover:text-pink-400"})]},y.letter))}),m.jsxs("div",{className:"space-y-3",children:[!l&&m.jsx("div",{className:"relative w-full aspect-video rounded-xl overflow-hidden border border-gray-800 bg-black shadow-lg",children:m.jsx("iframe",{width:"100%",height:"100%",src:`https://www.youtube.com/embed/${p}`,title:"Cancin de las Vocales",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"absolute inset-0",onError:()=>u(!0)})}),m.jsxs("a",{href:_,target:"_blank",rel:"noopener noreferrer",className:`flex items-center justify-center gap-3 w-full py-4 rounded-xl border ${l?"border-pink-500/30 bg-pink-500/10":"border-gray-700/50 hover:bg-white/5"} transition-all group`,children:[l?m.jsx(Z1,{size:18,className:"text-pink-500"}):m.jsx(eE,{size:18,className:"text-gray-400 group-hover:text-white"}),m.jsx("span",{className:`text-sm font-medium ${l?"text-pink-200":"text-gray-400 group-hover:text-white"}`,children:l?"Video no disponible - Ver en YouTube":"Abrir en YouTube App"}),m.jsx(W1,{size:14,className:`${l?"text-pink-500":"text-gray-600 group-hover:text-white"} mr-2`})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-500 ml-1",children:"Rimas de Prctica"}),m.jsx("div",{className:"space-y-3",children:s.map((y,E)=>m.jsxs("div",{onClick:()=>f(y.rhyme),className:"flex items-center justify-between p-4 rounded-xl border border-gray-700/50 hover:bg-white/5 transition-colors cursor-pointer group",children:[m.jsx("div",{className:"w-10 shrink-0 flex items-center",children:m.jsx("span",{className:"text-xl font-black text-purple-400 group-hover:text-pink-400 transition-colors",children:y.letter})}),m.jsx("div",{className:"flex-1 text-right",children:m.jsx("p",{className:"text-sm font-medium text-gray-300 leading-relaxed group-hover:text-white transition-colors",children:y.rhyme})})]},E))})]})]})]})},UR=()=>{const[s,e]=ee.useState([]),[i,r]=ee.useState(!0);ee.useEffect(()=>{(async()=>{try{const f=Rt(It,"numbers"),p=$m(f,y1("order")),y=(await kt(p)).docs.map(E=>E.data());e(y)}catch(f){console.error("Error fetching numbers:",f)}finally{r(!1)}})()},[]);const l=u=>{window.speechSynthesis.cancel();const f=new SpeechSynthesisUtterance(u);f.lang="es-MX",f.rate=.9,window.speechSynthesis.speak(f)};return i?m.jsx("div",{className:"flex h-screen items-center justify-center",children:m.jsx(cg,{className:"h-8 w-8 animate-spin text-pink-500"})}):m.jsxs("div",{className:"w-full text-gray-100 space-y-8 animate-fade-in",children:[m.jsx("div",{className:"space-y-1",children:m.jsx("h2",{className:"text-2xl font-black text-white tracking-tight",children:"Los nmeros"})}),m.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-3",children:s.map(u=>m.jsxs("button",{onClick:()=>l(u.span),className:"group flex flex-col items-center justify-center text-center p-3 rounded-xl border border-gray-700/50 hover:bg-white/5 hover:border-indigo-500/50 transition-all active:scale-95 aspect-square",children:[m.jsx("span",{className:"text-4xl font-extrabold text-indigo-400 group-hover:text-indigo-300",children:u.label}),m.jsx("span",{className:"mt-1 text-sm font-semibold text-white",children:u.span}),m.jsx(ug,{className:"w-4 h-4 text-gray-600 group-hover:text-indigo-400 opacity-0 group-hover:opacity-100 transition-opacity mt-2"})]},u.order))}),m.jsx("div",{className:"py-4"}),m.jsxs("div",{className:"p-4 rounded-xl border border-indigo-500/30 bg-indigo-500/10 space-y-6",children:[m.jsx("h3",{className:"font-bold text-lg text-indigo-300 mb-2 flex items-center gap-2",children:" Spanish Numbers Cheat Sheet"}),m.jsxs("div",{className:"space-y-4 text-sm",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-white",children:'1. The "Memorize" Zone (015)'}),m.jsxs("ul",{className:"text-xs text-gray-300 space-y-1 list-disc list-inside opacity-80 mt-1",children:[m.jsxs("li",{children:[m.jsx("b",{className:"text-white",children:"010:"})," Rote memorization (Uno, dos, tres...)."]}),m.jsxs("li",{children:[m.jsx("b",{className:"text-white",children:"1115:"})," All end in ",m.jsx("code",{className:"text-pink-300 bg-black/30 px-1 rounded",children:"-ce"})," (Once, doce, trece, catorce, quince)."]})]})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-white",children:"2. The One-Word Rule (1629)"}),m.jsxs("ul",{className:"text-xs text-gray-300 space-y-1 list-disc list-inside opacity-80 mt-1",children:[m.jsxs("li",{children:[m.jsx("b",{className:"text-white",children:"1619:"})," Starts with ",m.jsx("code",{className:"text-pink-300 bg-black/30 px-1 rounded",children:"Dieci..."})," (Diecisis)."]}),m.jsxs("li",{children:[m.jsx("b",{className:"text-white",children:"2029:"})," Starts with ",m.jsx("code",{className:"text-pink-300 bg-black/30 px-1 rounded",children:"Veinti..."})," (Veintiuno)."]}),m.jsx("li",{children:"Note: Watch for accents on 16, 22, 23, 26."})]})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-white",children:"3. The Three-Word Rule (3099)"}),m.jsxs("ul",{className:"text-xs text-gray-300 space-y-1 list-disc list-inside opacity-80 mt-1",children:[m.jsxs("li",{children:["From 30 on, separate the words with ",m.jsx("code",{className:"text-pink-300 bg-black/30 px-1 rounded",children:"y"})," (and)."]}),m.jsxs("li",{children:["Pattern: [Ten] ",m.jsx("b",{className:"text-white",children:"y"})," [One] (Example: 34 = ",m.jsx("i",{className:"text-gray-300",children:"Treinta y cuatro"}),")."]}),m.jsxs("li",{children:["The Tens: End in ",m.jsx("code",{className:"text-pink-300 bg-black/30 px-1 rounded",children:"-enta"})," (Cuarenta, Cincuenta)."]})]})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-white",children:"4. The Hundreds (Gender & Irregulars)"}),m.jsxs("ul",{className:"text-xs text-gray-300 space-y-1 list-disc list-inside opacity-80 mt-1",children:[m.jsxs("li",{children:["Hundreds change gender based on the noun (",m.jsx("b",{className:"text-white",children:"-os"})," for masc, ",m.jsx("b",{className:"text-white",children:"-as"})," for fem)."]}),m.jsxs("li",{children:["Example: ",m.jsxs("i",{className:"text-gray-300",children:["Doscient",m.jsx("b",{className:"text-white",children:"as"})," casas"]}),"."]}),m.jsx("li",{className:"pt-2 font-bold text-white",children:"The 3 Irregulars (Memorize these!):"})]}),m.jsx("div",{className:"mt-2 overflow-x-auto",children:m.jsxs("table",{className:"min-w-full text-xs text-left",children:[m.jsx("thead",{className:"border-b border-gray-700",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-2",children:"Number"}),m.jsx("th",{className:"p-2",children:"Spanish"}),m.jsx("th",{className:"p-2",children:"The Trick"})]})}),m.jsxs("tbody",{className:"divide-y divide-gray-800",children:[m.jsxs("tr",{children:[m.jsx("td",{className:"p-2",children:"500"}),m.jsx("td",{className:"p-2 text-fuchsia-300",children:"Quinientos"}),m.jsx("td",{className:"p-2",children:"Starts with Q"})]}),m.jsxs("tr",{children:[m.jsx("td",{className:"p-2",children:"700"}),m.jsx("td",{className:"p-2 text-fuchsia-300",children:"Setecientos"}),m.jsx("td",{className:"p-2",children:"No 'i' (Not siete)"})]}),m.jsxs("tr",{children:[m.jsx("td",{className:"p-2",children:"900"}),m.jsx("td",{className:"p-2 text-fuchsia-300",children:"Novecientos"}),m.jsx("td",{className:"p-2",children:"No 'ue' (Not nueve)"})]})]})]})})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-white",children:'5. Three "Gotcha" Rules'}),m.jsxs("ul",{className:"text-xs text-gray-300 space-y-1 list-disc list-inside opacity-80 mt-1",children:[m.jsxs("li",{children:[m.jsx("b",{className:"text-white",children:"Uno becomes Un:"})," Before a masculine noun. (Tengo ",m.jsx("i",{className:"text-gray-300",children:"un"})," gato)."]}),m.jsxs("li",{children:[m.jsx("b",{className:"text-white",children:"100 vs 100+:"})," Exactly 100 is ",m.jsx("b",{className:"text-white",children:"Cien"}),". 101+ becomes ",m.jsx("b",{className:"text-white",children:"Ciento..."})," (Ciento dos)."]}),m.jsxs("li",{children:[m.jsx("b",{className:"text-white",children:"The Billion Trap:"})," 1,000,000,000 is ",m.jsx("b",{className:"text-white",children:"Mil millones"}),". (In Spanish, ",m.jsx("i",{className:"text-gray-300",children:"Un Billn"})," is a Trillion)."]})]})]})]})]})]})},PR=()=>{const[s,e]=ee.useState("learn"),[i,r]=ee.useState([]),[l,u]=ee.useState(!0);ee.useEffect(()=>{(async()=>{try{const T=(await kt(Rt(It,"colors"))).docs.map(A=>A.data()).sort(()=>.5-Math.random());r(T)}catch(y){console.error("Error fetching colors:",y)}finally{u(!1)}})()},[]);const f=ee.useMemo(()=>i.length===0?[]:i.map(_=>({type:"mc",q:`Qu color es ${_.emoji}?`,a:_.es,opts:[_.es,...ir(_,i,2,"es")].sort(()=>.5-Math.random()),exp:`${_.emoji} es ${_.es} (${_.en})`})),[i]),p=({c:_})=>{const[y,E]=ee.useState(!1);return m.jsx("div",{className:"relative h-24 cursor-pointer perspective-1000 group",onClick:()=>E(!y),children:m.jsxs("div",{className:`w-full h-full relative preserve-3d flip-card-inner ${y?"rotate-y-180":""}`,children:[m.jsxs("div",{style:{backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden"},className:`absolute inset-0 ${_.hex} rounded-2xl flex flex-col items-center justify-center shadow-lg ${y?"z-0":"z-10"}`,children:[m.jsx("div",{className:"absolute inset-0 bg-black/10 group-hover:bg-transparent transition-all rounded-2xl"}),m.jsx("span",{className:"relative font-black text-xl text-white drop-shadow-md z-10",children:_.es})]}),m.jsx("div",{style:{backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden"},className:`absolute inset-0 bg-gray-800 rounded-2xl border border-gray-600 flex flex-col items-center justify-center rotate-y-180 ${y?"z-10":"z-0"}`,children:m.jsx("span",{className:"font-bold text-lg text-white",children:_.en})})]})})};return l?m.jsx("div",{className:"p-10 text-center text-gray-400",children:"Cargando colores..."}):s==="quiz"?m.jsx("div",{className:"p-6 max-w-md mx-auto pb-24",children:m.jsx(ei,{pool:f,questionCount:10,onComplete:()=>e("learn")})}):m.jsxs("div",{className:"p-6 max-w-4xl mx-auto pb-24",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4 text-white",children:"Colores"}),m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 mb-6",children:i.map((_,y)=>m.jsx(p,{c:_},y))}),m.jsx("button",{onClick:()=>e("quiz"),className:"w-full bg-gray-700 hover:bg-gray-600 text-white font-bold py-4 rounded-2xl shadow-lg mb-4",children:"Prueba de Colores"})]})},zR={Sun:Av,Cloud:eT,CloudRain:Wx,Wind:uT,Thermometer:cT,Zap:hT,Snowflake:()=>m.jsx("span",{children:""})},qR=()=>{const[s,e]=ee.useState("learn"),[i,r]=ee.useState([]),[l,u]=ee.useState(!0);ee.useEffect(()=>{(async()=>{try{const T=(await kt(Rt(It,"weather"))).docs.map(A=>A.data());r(T.sort(()=>.5-Math.random()))}catch(E){console.error("Error fetching weather:",E)}finally{u(!1)}})()},[]);const f=y=>{const E=zR[y]||rT;return m.jsx(E,{size:32})},p=ee.useMemo(()=>i.length===0?[]:i.map(y=>({type:"mc",q:`En ingls, "${y.name}" significa...`,a:y.desc,opts:[y.desc,...ir(y,i,2,"desc")].sort(()=>.5-Math.random()),exp:`${y.name} = ${y.desc}`})),[i]),_=({item:y})=>{const[E,T]=ee.useState(!1);return m.jsx("div",{className:"relative h-28 cursor-pointer perspective-1000 group",onClick:()=>T(!E),children:m.jsxs("div",{className:`w-full h-full relative preserve-3d flip-card-inner ${E?"rotate-y-180":""}`,children:[m.jsxs("div",{className:"absolute inset-0 bg-gray-800 rounded-2xl border border-gray-700 flex flex-col items-center justify-center backface-hidden",children:[m.jsx("div",{className:"text-yellow-400 mb-2",children:f(y.icon)}),m.jsx("span",{className:"font-bold text-sm mt-2 text-center px-1",children:y.name})]}),m.jsx("div",{className:"absolute inset-0 bg-orange-900/40 rounded-2xl border border-orange-500 flex flex-col items-center justify-center backface-hidden rotate-y-180",children:m.jsx("span",{className:"font-bold text-sm text-orange-200 text-center px-1",children:y.desc})})]})})};return l?m.jsx("div",{className:"p-10 text-center text-gray-400",children:"Cargando clima..."}):s==="quiz"?m.jsx("div",{className:"p-6 max-w-md mx-auto pb-24",children:m.jsx(ei,{pool:p,questionCount:10,onComplete:()=>e("learn")})}):m.jsxs("div",{className:"p-6 max-w-4xl mx-auto pb-24",children:[m.jsxs("div",{className:"mb-6 bg-gray-800 p-4 rounded-xl border-l-4 border-indigo-500",children:[m.jsx("h3",{className:"font-bold text-white mb-2",children:"Gramtica:"}),m.jsxs("p",{className:"text-gray-400 text-sm",children:[m.jsx("b",{children:"Est"}),": Condicin visual (nublado, soleado)."]}),m.jsxs("p",{className:"text-gray-400 text-sm",children:[m.jsx("b",{children:"Hace"}),": Sensacin/Temperatura (calor, fro, viento)."]}),m.jsxs("p",{className:"text-gray-400 text-sm",children:[m.jsx("b",{children:"Hay"}),": Existencia (niebla, tormenta)."]})]}),m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 mb-6",children:i.map((y,E)=>m.jsx(_,{item:y},E))}),m.jsx("button",{onClick:()=>e("quiz"),className:"w-full bg-orange-600 hover:bg-orange-500 text-white font-bold py-4 rounded-2xl shadow-lg mb-4",children:"Tomar Prueba"})]})},BR=()=>{const[s,e]=ee.useState("learn"),[i,r]=ee.useState([]),[l,u]=ee.useState([]),[f,p]=ee.useState(!0);ee.useEffect(()=>{(async()=>{try{const F=(await kt(Rt(It,"days"))).docs.map(re=>re.data());F.sort((re,ce)=>re.order-ce.order),r(F);const W=(await kt(Rt(It,"months"))).docs.map(re=>re.data());W.sort((re,ce)=>re.order-ce.order),u(W)}catch(q){console.error("Error fetching calendar:",q)}finally{p(!1)}})()},[]);const _=()=>{const A=[...i].sort(()=>.5-Math.random()),q=[...l].sort(()=>.5-Math.random());r(A),u(q)},y=ee.useMemo(()=>{if(i.length===0||l.length===0)return[];const A=i.map(F=>({type:"mc",q:`Qu da es "${F.es}"?`,a:F.en,opts:[F.en,...ir(F,i)].sort(()=>.5-Math.random()),exp:`${F.es} is ${F.en}`})),q=l.map(F=>({type:"mc",q:`Qu mes es "${F.es}"?`,a:F.en,opts:[F.en,...ir(F,l)].sort(()=>.5-Math.random()),exp:`${F.es} is ${F.en}`}));return[...A,...q].sort(()=>.5-Math.random())},[i,l]),E=({front:A,back:q,colorBorder:F})=>{const[Z,W]=ee.useState(!1);return m.jsx("div",{className:"relative h-14 cursor-pointer perspective-1000 group",onClick:()=>W(!Z),children:m.jsxs("div",{className:`w-full h-full relative preserve-3d flip-card-inner ${Z?"rotate-y-180":""}`,children:[m.jsx("div",{style:{backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden"},className:`absolute inset-0 bg-gray-800 p-3 rounded-lg border-l-4 ${F} flex items-center justify-center backface-hidden shadow-lg`,children:m.jsx("span",{className:"text-white font-bold",children:A})}),m.jsx("div",{style:{backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden"},className:`absolute inset-0 bg-gray-700 p-3 rounded-lg border-l-4 ${F} flex items-center justify-center backface-hidden rotate-y-180 shadow-lg`,children:m.jsx("span",{className:"text-gray-200",children:q})})]})})},T=ee.useMemo(()=>{const A=new Date,q={weekday:"long",year:"numeric",month:"long",day:"numeric"};return A.toLocaleDateString("es-ES",q)},[]);return f?m.jsx("div",{className:"p-10 text-center text-gray-400",children:"Cargando calendario..."}):s==="quiz"?m.jsx("div",{className:"p-6 max-w-md mx-auto pb-24",children:m.jsx(ei,{pool:y,questionCount:10,onComplete:()=>e("learn")})}):m.jsxs("div",{className:"p-6 max-w-md mx-auto pb-24 space-y-6",children:[m.jsxs("div",{className:"bg-gray-800 border border-green-500/30 p-4 rounded-xl text-center shadow-lg",children:[m.jsx("div",{className:"text-xs text-green-400 font-bold uppercase tracking-wider mb-1",children:"Fecha de hoy"}),m.jsx("div",{className:"text-xl font-bold text-white capitalize",children:T})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:_,className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 rounded-lg text-sm border border-gray-600",children:" Mezclar"}),m.jsx("button",{onClick:()=>e("quiz"),className:"flex-1 bg-green-600 hover:bg-green-500 text-white font-bold py-2 rounded-lg text-sm shadow-lg",children:"Prueba"})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-green-400 mb-3 uppercase tracking-wider",children:"Das de la Semana"}),m.jsx("div",{className:"grid grid-cols-1 gap-2",children:i.map((A,q)=>m.jsx(E,{front:A.es,back:A.en,colorBorder:"border-green-500"},q))})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-blue-400 mb-3 uppercase tracking-wider",children:"Meses del Ao"}),m.jsx("div",{className:"grid grid-cols-2 gap-2",children:l.map((A,q)=>m.jsx(E,{front:A.es,back:A.en,colorBorder:"border-blue-500"},q))})]})]})},HR=({lessonId:s})=>{switch(s){case"alphabet":return m.jsx(kR,{});case"vocales":return m.jsx(LR,{});case"numbers":return m.jsx(UR,{});case"colors":return m.jsx(PR,{});case"weather":return m.jsx(qR,{});case"calendar":return m.jsx(BR,{});default:return m.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center p-6 border border-gray-800 rounded-xl bg-gray-900/50",children:[m.jsx("p",{className:"text-gray-400 mb-2",children:"Leccin no encontrada"}),m.jsxs("code",{className:"bg-black px-2 py-1 rounded text-pink-400 text-xs font-mono",children:["ID: ",s]})]})}},FR=()=>{const[s,e]=ee.useState("learn"),[i,r]=ee.useState([]),[l,u]=ee.useState([]),[f,p]=ee.useState(!0);ee.useEffect(()=>{(async()=>{try{const A=(await kt(Rt(It,"greetings"))).docs.map(Z=>Z.data());r(A.sort(()=>.5-Math.random()));const F=(await kt(Rt(It,"feelings"))).docs.map(Z=>Z.data());u(F.sort(()=>.5-Math.random()))}catch(T){console.error("Error fetching data:",T)}finally{p(!1)}})()},[]);const _=({item:E})=>{const[T,A]=ee.useState(!1);return m.jsx("div",{className:"relative h-24 cursor-pointer perspective-1000 group",onClick:()=>A(!T),children:m.jsxs("div",{className:`w-full h-full relative preserve-3d flip-card-inner ${T?"rotate-y-180":""}`,children:[m.jsxs("div",{className:"absolute inset-0 bg-gray-800 rounded-xl border border-gray-700 flex flex-col items-center justify-center backface-hidden",children:[m.jsx("div",{className:"text-3xl mb-1",children:E.emoji}),m.jsx("span",{className:"font-bold text-sm text-center px-1",children:E.es})]}),m.jsx("div",{className:"absolute inset-0 bg-yellow-900/40 rounded-xl border border-yellow-500 flex flex-col items-center justify-center backface-hidden rotate-y-180",children:m.jsx("span",{className:"font-bold text-sm text-yellow-200 text-center px-1",children:E.en})})]})})},y=ee.useMemo(()=>{if(l.length===0||i.length===0)return[];const E=[{type:"mc",q:"Por la maana decimos...",a:"Buenos das",opts:["Buenas noches","Hola","Buenos das"].sort(()=>.5-Math.random()),exp:"'Buenos das' se usa en la maana."}];return l.slice(0,6).forEach(T=>{const A=T.en.startsWith("I am")?`En espaol: "${T.en}" se dice...`:`Qu significa "${T.es}"?`;E.push({type:"mc",q:A,a:T.es,opts:[T.es,...ir(T.es,l)].sort(()=>.5-Math.random()),exp:`${T.es} significa ${T.en}`})}),E.sort(()=>.5-Math.random())},[l,i]);return f?m.jsx("div",{className:"p-10 text-center text-gray-400",children:"Cargando emociones..."}):s==="quiz"?m.jsx("div",{className:"p-6 max-w-md mx-auto pb-24",children:m.jsx(ei,{pool:y,questionCount:10,onComplete:()=>e("learn")})}):m.jsxs("div",{className:"p-6 max-w-md mx-auto pb-24 space-y-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-yellow-400 mb-3 uppercase tracking-wider",children:"Saludos"}),m.jsx("div",{className:"grid grid-cols-2 gap-3",children:i.map((E,T)=>m.jsx(_,{item:E},T))})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-yellow-400 mb-3 uppercase tracking-wider",children:"Sentimientos"}),m.jsx("div",{className:"grid grid-cols-2 gap-3",children:l.map((E,T)=>m.jsx(_,{item:E},T))})]}),m.jsx("button",{onClick:()=>e("quiz"),className:"w-full bg-yellow-600 hover:bg-yellow-500 text-white font-bold py-4 rounded-2xl shadow-lg mt-4",children:"Prueba"})]})},GR=()=>{const[s,e]=ee.useState("learn"),[i,r]=ee.useState("first"),l=[{q:"Cmo te llamas?",a:"Me llamo...",l:"Name"},{q:"Cmo te apellidas?",a:"Me apellido...",l:"Last Name"},{q:"De dnde eres?",a:"Soy de...",l:"Origin"},{q:"Cuntos aos tienes?",a:"Tengo ... aos.",l:"Age"},{q:"A qu te dedicas?",a:"Soy... / Trabajo...",l:"Job"},{q:"Qu idiomas hablas?",a:"Hablo...",l:"Language"},{q:"Dnde vives?",a:"Vivo en...",l:"Home"}],u=[{q:"Cmo se llama?",a:"Se llama...",l:"Name"},{q:"Cmo se apellida?",a:"Se apellida...",l:"Last Name"},{q:"De dnde es?",a:"Es de...",l:"Origin"},{q:"Cuntos aos tiene?",a:"Tiene ... aos.",l:"Age"},{q:"A qu se dedica?",a:"Es... / Trabaja...",l:"Job"},{q:"Qu idiomas habla?",a:"Habla...",l:"Language"},{q:"Dnde vive?",a:"Vive en...",l:"Home"}],f=ee.useMemo(()=>[{type:"mc",q:"Pregunta: Cmo te llamas? Respuesta: ___",a:"Me llamo...",opts:["Me llamo...","Tengo...","Soy de..."].sort(()=>.5-Math.random()),exp:"Para responder al nombre usamos 'Me llamo'."},{type:"mc",q:"Pregunta: De dnde eres? Respuesta: ___",a:"Soy de...",opts:["Soy...","Me llamo...","Soy de..."].sort(()=>.5-Math.random()),exp:"Origen requiere 'Soy de'."},{type:"mc",q:"En tercera persona: l ___ alto.",a:"Es",opts:["Soy","Eres","Es"].sort(()=>.5-Math.random()),exp:"'Es' es la conjugacin para l/Ella."},{type:"mc",q:"Pregunta: Cuntos aos tienes? Respuesta: ___",a:"Tengo...",opts:["Soy...","Tengo...","Estoy..."].sort(()=>.5-Math.random()),exp:"En espaol, la edad se 'tiene' (Tener), no se 'es'."}],[]);return s==="quiz"?m.jsx("div",{className:"p-6 max-w-md mx-auto pb-24",children:m.jsx(ei,{pool:f,questionCount:10,onComplete:()=>e("learn")})}):m.jsxs("div",{className:"p-6 max-w-4xl mx-auto pb-24 space-y-6",children:[m.jsxs("div",{className:"flex gap-2 p-1 bg-gray-800 rounded-xl max-w-sm mx-auto",children:[m.jsx("button",{onClick:()=>r("first"),className:`flex-1 py-2 rounded-lg font-bold text-sm transition-all ${i==="first"?"bg-pink-600 text-white":"text-gray-400 hover:text-white"}`,children:"T (Informal)"}),m.jsx("button",{onClick:()=>r("third"),className:`flex-1 py-2 rounded-lg font-bold text-sm transition-all ${i==="third"?"bg-pink-600 text-white":"text-gray-400 hover:text-white"}`,children:"l/Ella/Usted"})]}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:(i==="first"?l:u).map((p,_)=>m.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl border border-gray-700",children:[m.jsx("div",{className:"flex justify-between items-center mb-2",children:m.jsx("span",{className:"text-xs font-bold bg-gray-700 text-gray-300 px-2 py-1 rounded uppercase tracking-wide",children:p.l})}),m.jsx("p",{className:"text-pink-400 font-bold mb-1 text-lg",children:p.q}),m.jsx("div",{className:"bg-ray-900/50 p-2 rounded text-white border-l-2 border-pink-600",children:p.a})]},_))}),m.jsx("div",{className:"max-w-md mx-auto",children:m.jsx("button",{onClick:()=>e("quiz"),className:"w-full bg-pink-600 hover:bg-pink-500 text-white font-bold py-4 rounded-2xl shadow-lg mt-4",children:"Tomar Prueba"})})]})},QR=()=>{const s=[{topic:"Nombre",tu:"Cmo te llamas?",ud:"Cmo se llama?",ans:"Me llamo... / Soy..."},{topic:"Apellido",tu:"Cmo te apellidas?",ud:"Cmo se apellida?",ans:"Me apellido..."},{topic:"Profesin",tu:"A qu te dedicas?",ud:"A qu se dedica?",ans:"Soy..."},{topic:"Lugar de Trabajo",tu:"Dnde trabajas?",ud:"Dnde trabaja?",ans:"Trabajo en..."},{topic:"Domicilio",tu:"Dnde vives?",ud:"Dnde vive?",ans:"Vivo en..."},{topic:"Lenguas",tu:"Qu idioma hablas?",ud:"Qu idioma habla?",ans:"Hablo..."},{topic:"Nacionalidad",tu:"De dnde eres?",ud:"De dnde es?",ans:"Soy de... / Soy..."},{topic:"Edad",tu:"Cuntos aos tienes?",ud:"Cuntos aos tiene?",ans:"Tengo ___ aos"},{topic:"Correo",tu:"Tienes correo electrnico?",ud:"Tiene correo electrnico?",ans:"S, es el... / No"},{topic:"Telfono",tu:"Tienes nmero de telfono?",ud:"Tiene nmero de telfono?",ans:"S, es el... / No"}],[e,i]=ee.useState({}),r=f=>{i(p=>({...p,[f]:!p[f]}))},l=()=>{const f=s.every((_,y)=>e[y]),p={};s.forEach((_,y)=>{p[y]=!f}),i(p)},u=({item:f,flipped:p,onClick:_})=>m.jsx("div",{className:"relative h-32 cursor-pointer perspective-1000 group",onClick:_,children:m.jsxs("div",{className:`w-full h-full relative preserve-3d flip-card-inner ${p?"rotate-y-180":""}`,children:[m.jsx("div",{style:{backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden"},className:"absolute inset-0 bg-gray-800 rounded-2xl flex items-center justify-center shadow-lg border border-gray-700",children:m.jsx("span",{className:"font-bold text-lg text-cyan-400",children:f.topic})}),m.jsxs("div",{style:{backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden"},className:"absolute inset-0 bg-gray-800 rounded-2xl rotate-y-180 shadow-lg border border-cyan-500 p-3 flex flex-col justify-between",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsxs("div",{className:"flex gap-2 text-sm",children:[m.jsx("span",{className:"text-gray-500 w-5 font-bold text-right shrink-0",children:"T:"}),m.jsx("span",{className:"text-white font-medium",children:f.tu})]}),m.jsxs("div",{className:"flex gap-2 text-sm",children:[m.jsx("span",{className:"text-indigo-400 w-5 font-bold text-right shrink-0",children:"Ud:"}),m.jsx("span",{className:"text-indigo-200 font-medium",children:f.ud})]})]}),m.jsxs("div",{className:"flex justify-between items-end pt-1",children:[m.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:f.topic}),m.jsx("span",{className:"text-xs text-cyan-300 bg-cyan-900/50 px-2 py-0.5 rounded border border-cyan-800 text-right",children:f.ans})]})]})]})});return m.jsx("div",{className:"p-4 sm:p-6 max-w-5xl mx-auto pb-24 space-y-6",children:m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"lg:col-span-2",children:[m.jsxs("div",{className:"flex justify-between items-center border-b border-gray-700 pb-2 mb-4",children:[m.jsx("h3",{className:"font-bold text-cyan-400 text-lg",children:"Entrevista"}),m.jsx("button",{onClick:l,className:"text-sm bg-gray-700 hover:bg-gray-600 px-3 py-1 rounded-md text-gray-300 font-bold transition-colors",children:"Girar todas"})]}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:s.map((f,p)=>m.jsx(u,{item:f,flipped:!!e[p],onClick:()=>r(p)},p))})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-gray-800 border border-indigo-500/30 p-3 sm:p-4 rounded-xl",children:[m.jsxs("h3",{className:"font-bold text-indigo-400 mb-3 text-lg flex items-center gap-2",children:[m.jsx(wv,{size:18})," T o Usted?"]}),m.jsxs("div",{className:"space-y-3 text-sm",children:[m.jsxs("div",{className:"bg-gray-900/50 p-3 rounded-lg border-l-4 border-cyan-500",children:[m.jsx("h4",{className:"font-bold text-cyan-400 mb-1",children:"T (Informal)"}),m.jsx("p",{className:"text-gray-300",children:"salo con amigos, familia, gente de tu edad y nios."})]}),m.jsxs("div",{className:"bg-gray-900/50 p-3 rounded-lg border-l-4 border-indigo-400",children:[m.jsx("h4",{className:"font-bold text-indigo-300 mb-1",children:"Usted (Formal)"}),m.jsx("p",{className:"text-gray-300",children:"salo con extraos, personas mayores y figuras de autoridad para mostrar respeto."})]}),m.jsxs("div",{className:"bg-gray-900/50 p-3 rounded-lg border-l-4 border-green-500",children:[m.jsx("h4",{className:"font-bold text-green-400 mb-1",children:"Cambiando a T"}),m.jsxs("p",{className:"text-gray-300",children:["Si alguien dice ",m.jsx("span",{className:"font-mono text-white bg-gray-700 px-1.5 py-0.5 rounded",children:'"puedes tutearme"'}),", puedes cambiar de 'Usted' a 'T'."]})]})]}),m.jsxs("p",{className:"text-xs text-gray-500 mt-4 italic text-center",children:["En caso de duda, usa ",m.jsx("span",{className:"font-bold text-white",children:"Usted"}),"!"]})]}),m.jsxs("div",{className:"bg-gray-800 border border-orange-500/30 p-3 sm:p-4 rounded-xl",children:[m.jsxs("h3",{className:"font-bold text-orange-400 mb-3 text-lg flex items-center gap-2",children:[m.jsx(Ev,{size:18})," Expresando Pasin"]}),m.jsxs("div",{className:"p-3 bg-gray-900 rounded-lg text-sm text-gray-300",children:[m.jsxs("p",{className:"mb-2",children:["En Mxico, al responder a ",m.jsx("span",{className:"font-bold text-white",children:'"A qu te dedicas?"'}),", es comn usar ",m.jsx("span",{className:"font-bold text-white",children:'"Me dedico a..."'})," para hablar de tu pasin o campo, no solo tu trabajo."]}),m.jsx("p",{children:"Por ejemplo:"}),m.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1 text-orange-300",children:[m.jsx("li",{children:"Me dedico a la educacin."}),m.jsx("li",{children:"Me dedico a la tecnologa."}),m.jsx("li",{children:"Me dedico al campo."})]})]})]}),m.jsxs("div",{className:"bg-gray-800 border border-green-500/30 p-3 sm:p-4 rounded-xl",children:[m.jsxs("h3",{className:"font-bold text-green-400 mb-3 text-lg flex items-center gap-2",children:[m.jsx(Tv,{size:18})," Detalles de Vivir"]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"p-3 bg-gray-900 rounded-lg",children:[m.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Cerca / Lejos"}),m.jsxs("p",{className:"text-white",children:["Vivo ",m.jsx("span",{className:"text-green-400 font-bold",children:"cerca del"})," parque."]}),m.jsxs("p",{className:"text-white",children:["Vivo ",m.jsx("span",{className:"text-red-400 font-bold",children:"lejos de"})," la oficina."]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[m.jsxs("div",{className:"bg-gray-900 p-2 rounded",children:[m.jsx("span",{className:"block text-gray-500 text-xs",children:"Calle"}),m.jsx("span",{className:"text-white",children:"La calle..."})]}),m.jsxs("div",{className:"bg-gray-900 p-2 rounded",children:[m.jsx("span",{className:"block text-gray-500 text-xs",children:"Barrio"}),m.jsx("span",{className:"text-white",children:"El barrio..."})]})]})]})]}),m.jsxs("div",{className:"bg-gray-800 border border-purple-500/30 p-3 sm:p-4 rounded-xl",children:[m.jsx("h3",{className:"font-bold text-purple-400 mb-3 text-lg",children:"Correo Electrnico"}),m.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center mb-3",children:[m.jsxs("div",{className:"bg-gray-900 rounded p-2",children:[m.jsx("div",{className:"text-xl font-mono text-purple-400 mb-1",children:"@"}),m.jsx("span",{className:"text-[10px] text-gray-400 block leading-tight",children:"arroba"})]}),m.jsxs("div",{className:"bg-gray-900 rounded p-2",children:[m.jsx("div",{className:"text-xl font-mono text-purple-400 mb-1",children:"."}),m.jsx("span",{className:"text-[10px] text-gray-400 block leading-tight",children:"punto"})]}),m.jsxs("div",{className:"bg-gray-900 rounded p-2",children:[m.jsx("div",{className:"text-xl font-mono text-purple-400 mb-1",children:"_"}),m.jsx("span",{className:"text-[10px] text-gray-400 block leading-tight",children:"guion bajo"})]}),m.jsxs("div",{className:"bg-gray-900 rounded p-2",children:[m.jsx("div",{className:"text-xl font-mono text-purple-400 mb-1",children:"-"}),m.jsx("span",{className:"text-[10px] text-gray-400 block leading-tight",children:"guion"})]})]}),m.jsxs("div",{className:"bg-gray-900 p-3 rounded text-center font-mono text-sm text-gray-300 break-all",children:["nombre",m.jsx("span",{className:"text-purple-400",children:"-"}),"apellido",m.jsx("span",{className:"text-purple-400",children:"@"}),"gmail",m.jsx("span",{className:"text-purple-400",children:"."}),"com"]})]})]})]})})},YR=()=>{const[s,e]=ee.useState([]),[i,r]=ee.useState(!0),[l,u]=ee.useState(0),[f,p]=ee.useState({}),[_,y]=ee.useState(!1);if(ee.useEffect(()=>{(async()=>{try{const W=(await kt(Rt(It,"characters"))).docs.map(re=>re.data());e(W.sort(()=>.5-Math.random()))}catch(Z){console.error("Error fetching characters:",Z)}finally{r(!1)}})()},[]),i||s.length===0)return m.jsx("div",{className:"p-10 text-center text-gray-400",children:"Cargando personajes..."});const E=()=>{p({}),l<s.length-1?u(l+1):y(!0)};if(_)return m.jsxs("div",{className:"text-center p-8 bg-gray-800 rounded-xl animate-fade-in",children:[m.jsx("h2",{className:"text-2xl font-bold text-green-400 mb-4",children:"Leccin Completada!"}),m.jsx("p",{className:"text-gray-300",children:"Has repasado todos los personajes."})]});const T=s[l],A=F=>p(Z=>({...Z,[F]:!Z[F]})),q=[{id:"name",q:"Cmo se llama?",a:`Se llama ${T.firstName}.`,icon:m.jsx(Bf,{size:18})},{id:"lastname",q:"Cmo se apellida?",a:`Se apellida ${T.lastName}.`,icon:m.jsx(Bf,{size:18})},{id:"age",q:"Cuntos aos tiene?",a:`Tiene ${T.age} aos.`,icon:m.jsx($x,{size:18})},{id:"origin",q:"De dnde es?",a:`Es de ${T.origin}.`,icon:m.jsx(Tv,{size:18})},{id:"nat",q:"Cul es su nacionalidad?",a:`Es ${T.nationality}.`,icon:m.jsx(xv,{size:18})},{id:"lang",q:"Qu idioma habla?",a:`Habla ${T.language}.`,icon:m.jsx(Sv,{size:18})}];return m.jsxs("div",{className:"flex flex-col h-full max-w-md mx-auto p-4 pt-0",children:[m.jsx("div",{className:"relative w-full aspect-video bg-gradient-to-br from-indigo-900 to-gray-900 rounded-2xl shadow-2xl border border-gray-700 mb-6 flex-shrink-0 flex items-center justify-center overflow-hidden",children:m.jsxs("div",{className:"text-center animate-fade-in",children:[m.jsx("div",{className:"text-6xl mb-2",children:T.flag}),m.jsxs("h2",{className:"text-3xl font-black text-white tracking-tight",children:[T.firstName," ",T.lastName]}),m.jsx("p",{className:"text-indigo-300 font-medium mt-1 uppercase tracking-widest text-sm",children:T.job})]},T.id||l)}),m.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 pb-24 scrollbar-hide",children:q.map(F=>m.jsxs("div",{className:"bg-gray-800 rounded-xl overflow-hidden border border-gray-700",children:[m.jsxs("button",{onClick:()=>A(F.id),className:"w-full flex items-center justify-between p-4 text-left active:bg-gray-700 transition-colors",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"text-pink-400",children:F.icon}),m.jsx("span",{className:"font-medium text-gray-200",children:F.q})]}),m.jsx(Jx,{size:16,className:`text-gray-500 transition-transform ${f[F.id]?"rotate-180":""}`})]}),f[F.id]&&m.jsx("div",{className:"bg-gray-900/50 p-4 pt-0 border-t border-gray-700/50 text-indigo-300 font-semibold animate-in slide-in-from-top-2 duration-200",children:m.jsx("div",{className:"pt-3",children:F.a})})]},F.id))}),m.jsx("div",{className:"fixed bottom-6 left-0 right-0 px-6 max-w-md mx-auto",children:m.jsxs("button",{onClick:E,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-4 rounded-2xl shadow-lg shadow-indigo-900/50 flex items-center justify-center gap-2 active:scale-95 transition-all",children:[l===s.length-1?"Terminar Leccin":"Siguiente Personaje"," ",m.jsx(pm,{size:20})]})})]})},KR=()=>{const[s,e]=ee.useState("learn"),[i,r]=ee.useState([]),[l,u]=ee.useState([]),[f,p]=ee.useState(!0);ee.useEffect(()=>{(async()=>{try{const q=(await kt(Rt(It,"jobs"))).docs.map(W=>W.data());r(q);const Z=(await kt(Rt(It,"places"))).docs.map(W=>W.data());u(Z)}catch(A){console.error("Error fetching data:",A)}finally{p(!1)}})()},[]);const _=({job:T})=>{const[A,q]=ee.useState(!1);return m.jsx("div",{className:"relative h-20 cursor-pointer perspective-1000 group",onClick:()=>q(!A),children:m.jsxs("div",{className:`w-full h-full relative preserve-3d flip-card-inner ${A?"rotate-y-180":""}`,children:[m.jsxs("div",{className:"absolute inset-0 bg-gray-800 p-4 rounded-xl border border-gray-700 flex items-center justify-between backface-hidden",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"text-3xl",children:T.emoji}),m.jsxs("div",{className:"font-bold text-white text-base capitalize",children:[T.masc," ",m.jsxs("span",{className:"text-gray-500 text-sm font-normal",children:["/ ",T.fem]})]})]}),m.jsx(pm,{size:16,className:"text-gray-600"})]}),m.jsx("div",{className:"absolute inset-0 bg-teal-900/40 p-4 rounded-xl border border-teal-500 flex items-center justify-center backface-hidden rotate-y-180",children:m.jsx("span",{className:"font-bold text-teal-200 text-lg",children:T.eng})})]})})},y=({place:T})=>{const[A,q]=ee.useState(!1);return m.jsx("div",{className:"relative h-16 cursor-pointer perspective-1000 group",onClick:()=>q(!A),children:m.jsxs("div",{className:`w-full h-full relative preserve-3d flip-card-inner ${A?"rotate-y-180":""}`,children:[m.jsx("div",{className:"absolute inset-0 bg-gray-800 p-3 rounded-lg border border-gray-700 text-sm font-medium text-center flex items-center justify-center backface-hidden",children:T.es}),m.jsx("div",{className:"absolute inset-0 bg-teal-900/40 p-3 rounded-lg border border-teal-500 text-sm font-medium text-center flex items-center justify-center backface-hidden rotate-y-180 text-teal-200",children:T.en})]})})},E=ee.useMemo(()=>{if(i.length===0)return[];const T=[{type:"mc",q:"Alguien que apaga fuegos es un...",a:"Bombero",opts:["Bombero","Dentista","Doctor"].sort(()=>.5-Math.random()),exp:"Apagar fuegos = Bombero."}];return i.slice(0,5).forEach(A=>{T.push({type:"mc",q:`Trabaja como ${A.eng}. Es...`,a:A.masc,opts:[A.masc,...ir(A,i,2,"masc")].sort(()=>.5-Math.random()),exp:`${A.masc} es la palabra para ${A.eng}`})}),T},[i]);return f?m.jsx("div",{className:"p-10 text-center text-gray-400",children:"Cargando datos..."}):s==="quiz"?m.jsx("div",{className:"p-6 max-w-md mx-auto pb-24",children:m.jsx(ei,{pool:E,questionCount:10,onComplete:()=>e("learn")})}):m.jsx("div",{className:"flex flex-col h-full max-w-md mx-auto p-4 pt-0 pb-20 overflow-y-auto scrollbar-hide",children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-teal-900/20 border border-teal-500/30 p-4 rounded-2xl",children:[m.jsx("h3",{className:"font-bold text-teal-400 text-lg mb-2",children:"Estructura"}),m.jsxs("p",{className:"text-sm text-gray-300",children:["Yo soy ",m.jsx("b",{children:"un/una"})," [Profesin]."]}),m.jsxs("p",{className:"text-sm text-gray-300",children:["Yo trabajo en ",m.jsx("b",{children:"[Lugar]"}),"."]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("h3",{className:"font-bold text-white ml-1",children:"Profesiones"}),i.map((T,A)=>m.jsx(_,{job:T},A))]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("h3",{className:"font-bold text-white ml-1",children:"Lugares de Trabajo"}),m.jsx("div",{className:"grid grid-cols-2 gap-3",children:l.map((T,A)=>m.jsx(y,{place:T},A))})]}),m.jsx("button",{onClick:()=>e("quiz"),className:"w-full bg-teal-600 hover:bg-teal-500 text-white font-bold py-4 rounded-2xl shadow-lg",children:"Prueba"})]})})},XR=()=>{const[s,e]=ee.useState("list"),[i,r]=ee.useState([]),[l,u]=ee.useState(!0);ee.useEffect(()=>{(async()=>{try{const y=(await kt(Rt(It,"countries"))).docs.map(E=>E.data());y.sort((E,T)=>E.country.localeCompare(T.country)),r(y)}catch(_){console.error("Error fetching countries:",_)}finally{u(!1)}})()},[]);const f=ee.useMemo(()=>i.length===0?[]:i.map(p=>({type:"mc",q:`Si alguien es de ${p.country}, es...`,a:p.natM,opts:[p.natM,...ir(p,i,2,"natM")].sort(()=>.5-Math.random()),exp:`${p.natM} es la nacionalidad de ${p.country}`})).sort(()=>.5-Math.random()),[i]);return l?m.jsx("div",{className:"p-10 text-center text-gray-400",children:"Cargando pases..."}):s==="quiz"?m.jsx("div",{className:"p-6 max-w-md mx-auto pb-24",children:m.jsx(ei,{pool:f,questionCount:10,onComplete:()=>e("list")})}):m.jsxs("div",{className:"flex flex-col h-full max-w-md mx-auto p-4 pt-8 pb-20 overflow-y-auto scrollbar-hide",children:[m.jsxs("div",{className:"flex gap-2 mb-6 p-1 bg-gray-800 rounded-xl",children:[m.jsx("button",{onClick:()=>e("list"),className:`flex-1 py-2 rounded-lg font-bold text-sm ${s==="list"?"bg-rose-600":""}`,children:"Lista"}),m.jsx("button",{onClick:()=>e("plural"),className:`flex-1 py-2 rounded-lg font-bold text-sm ${s==="plural"?"bg-rose-600":""}`,children:"Plural"}),m.jsx("button",{onClick:()=>e("quiz"),className:`flex-1 py-2 rounded-lg font-bold text-sm ${s==="quiz"?"bg-rose-600":""}`,children:"Prueba"})]}),s==="list"?m.jsx("div",{className:"space-y-3",children:i.map((p,_)=>m.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl border border-gray-700",children:[m.jsx("div",{className:"font-black text-lg text-white mb-2",children:p.country}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[m.jsxs("div",{children:[m.jsx("span",{className:"block text-gray-500 text-xs",children:"Masculino"}),m.jsx("span",{className:"text-rose-300",children:p.natM})]}),m.jsxs("div",{children:[m.jsx("span",{className:"block text-gray-500 text-xs",children:"Femenino"}),m.jsx("span",{className:"text-rose-300",children:p.natF})]})]})]},_))}):m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"bg-rose-900/20 border border-rose-500/30 p-4 rounded-2xl mb-4",children:[m.jsx("h3",{className:"font-bold text-rose-400 mb-2",children:"Reglas de Plural"}),m.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300",children:[m.jsxs("li",{children:["Vocal: +",m.jsx("b",{children:"s"})]}),m.jsxs("li",{children:["Consonante: +",m.jsx("b",{children:"es"})]})]})]}),i.map((p,_)=>m.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl border border-gray-700 space-y-2",children:[m.jsx("div",{className:"font-bold text-white border-b border-gray-700 pb-2 mb-2",children:p.country}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-gray-400",children:"Ellos son..."}),m.jsxs("span",{className:"text-rose-400 font-bold",children:[p.natM,"s"]})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-gray-400",children:"Ellas son..."}),m.jsxs("span",{className:"text-rose-400 font-bold",children:[p.natF,"s"]})]})]},_))]})]})},$R=({lessonId:s})=>{switch(s){case"feelings":return m.jsx(FR,{});case"intro":return m.jsx(GR,{});case"interview":return m.jsx(QR,{});case"characters":return m.jsx(YR,{});case"jobs":return m.jsx(KR,{});case"nationalities":return m.jsx(XR,{});default:return m.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center p-6 border border-gray-800 rounded-xl bg-gray-900/50",children:[m.jsx("p",{className:"text-gray-400 mb-2",children:"Leccin situacional no encontrada"}),m.jsxs("code",{className:"bg-black px-2 py-1 rounded text-pink-400 text-xs font-mono",children:["ID: ",s]})]})}},JR=()=>{const[s,e]=ee.useState("learn"),i=ee.useMemo(()=>[{type:"mc",q:"Este es TU libro. (Informal)",a:"Tu libro",opts:["Tu libro","T libro","Te libro"].sort(()=>.5-Math.random()),exp:"'Tu' sin tilde es posesivo (Your)."},{type:"mc",q:"Cmo TE llamas? (Reflexivo)",a:"Te llamas",opts:["Te llamas","Tu llamas","Se llama"].sort(()=>.5-Math.random()),exp:"'Te' es el pronombre reflexivo para T."},{type:"mc",q:"l SE llama Juan.",a:"Se llama Juan",opts:["Su llama Juan","Se llama Juan","l llama Juan"].sort(()=>.5-Math.random()),exp:"'Se' es reflexivo para l/Ella."},{type:"mc",q:"Esta es SU casa. (De l)",a:"Su casa",opts:["Su casa","Se casa","l casa"].sort(()=>.5-Math.random()),exp:"'Su' es el posesivo para l/Ella."},{type:"mc",q:"NUESTRA casa.",a:"Nuestra casa",opts:["Nuestra casa","Nos casa","Nosotros casa"].sort(()=>.5-Math.random()),exp:"'Nuestra' es el posesivo femenino."}],[]);return s==="quiz"?m.jsx("div",{className:"p-6 max-w-md mx-auto pb-24",children:m.jsx(ei,{pool:i,questionCount:10,onComplete:()=>e("learn")})}):m.jsxs("div",{className:"p-6 max-w-md mx-auto pb-24 space-y-6",children:[m.jsxs("div",{className:"bg-indigo-900/30 border border-indigo-500/30 p-4 rounded-2xl",children:[m.jsx("h3",{className:"font-bold text-indigo-300 mb-2 text-lg",children:"Gua Rpida"}),m.jsx("p",{className:"mb-4 text-sm text-gray-300",children:"Diferencias clave entre pronombres similares."}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"bg-gray-800 p-3 rounded-xl border border-gray-700",children:[m.jsx("h4",{className:"font-bold text-white border-b border-gray-600 pb-1 mb-2",children:"1. Personas (Sujeto)"}),m.jsxs("div",{className:"flex flex-col gap-1 text-xs text-center",children:[m.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[m.jsx("div",{className:"bg-gray-700 p-1 rounded",children:"Yo"}),m.jsx("div",{className:"bg-gray-700 p-1 rounded",children:"T"}),m.jsx("div",{className:"bg-gray-700 p-1 rounded",children:"l/Ella"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[m.jsx("div",{className:"bg-gray-700 p-1 rounded text-green-300 font-bold",children:"Nosotros"}),m.jsx("div",{className:"bg-gray-700 p-1 rounded",children:"Ellos"})]})]})]}),m.jsxs("div",{className:"bg-gray-800 p-3 rounded-xl border border-gray-700",children:[m.jsx("h4",{className:"font-bold text-pink-400 border-b border-gray-600 pb-1 mb-2",children:"2. Reflexivos (Accin a uno mismo)"}),m.jsxs("div",{className:"flex flex-col gap-1 text-xs text-center",children:[m.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[m.jsxs("div",{className:"bg-gray-900 p-1 rounded border border-pink-900",children:["Me",m.jsx("br",{}),m.jsx("span",{className:"text-[10px] text-gray-500",children:"Myself"})]}),m.jsxs("div",{className:"bg-gray-900 p-1 rounded border border-pink-900",children:["Te",m.jsx("br",{}),m.jsx("span",{className:"text-[10px] text-gray-500",children:"Yourself"})]}),m.jsxs("div",{className:"bg-gray-900 p-1 rounded border border-pink-900",children:["Se",m.jsx("br",{}),m.jsx("span",{className:"text-[10px] text-gray-500",children:"Himself"})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[m.jsxs("div",{className:"bg-gray-900 p-1 rounded border border-green-500/50 text-green-300 font-bold",children:["Nos",m.jsx("br",{}),m.jsx("span",{className:"text-[10px] text-gray-500",children:"Ourselves"})]}),m.jsxs("div",{className:"bg-gray-900 p-1 rounded border border-pink-900",children:["Se",m.jsx("br",{}),m.jsx("span",{className:"text-[10px] text-gray-500",children:"Themselves"})]})]})]}),m.jsx("div",{className:"mt-2 text-xs italic text-center text-gray-400",children:'Ej: "Nos llamamos" (We call ourselves)'})]}),m.jsxs("div",{className:"bg-gray-800 p-3 rounded-xl border border-gray-700",children:[m.jsx("h4",{className:"font-bold text-yellow-400 border-b border-gray-600 pb-1 mb-2",children:"3. Posesivos (Propiedad)"}),m.jsxs("div",{className:"flex flex-col gap-1 text-xs text-center",children:[m.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[m.jsxs("div",{className:"bg-gray-900 p-1 rounded border border-yellow-900",children:["Mi",m.jsx("br",{}),m.jsx("span",{className:"text-[10px] text-gray-500",children:"My"})]}),m.jsxs("div",{className:"bg-gray-900 p-1 rounded border border-yellow-900",children:["Tu",m.jsx("br",{}),m.jsx("span",{className:"text-[10px] text-gray-500",children:"Your"})]}),m.jsxs("div",{className:"bg-gray-900 p-1 rounded border border-yellow-900",children:["Su",m.jsx("br",{}),m.jsx("span",{className:"text-[10px] text-gray-500",children:"His/Her"})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[m.jsxs("div",{className:"bg-gray-900 p-1 rounded border border-green-500/50 text-green-300 font-bold",children:["Nuestro",m.jsx("br",{}),m.jsx("span",{className:"text-[10px] text-gray-500",children:"Our"})]}),m.jsxs("div",{className:"bg-gray-900 p-1 rounded border border-yellow-900",children:["Su",m.jsx("br",{}),m.jsx("span",{className:"text-[10px] text-gray-500",children:"Their"})]})]})]}),m.jsx("div",{className:"mt-2 text-xs italic text-center text-gray-400",children:'Ej: "Nuestro gato" (Our cat)'})]})]})]}),m.jsx("button",{onClick:()=>e("quiz"),className:"w-full bg-indigo-600 text-white font-bold py-4 rounded-2xl shadow-lg",children:"Prueba"})]})},ZR=()=>{const[s,e]=ee.useState("list"),[i,r]=ee.useState(null),[l,u]=ee.useState([]),[f,p]=ee.useState(!0);ee.useEffect(()=>{(async()=>{try{const T=(await kt(Rt(It,"conjugations"))).docs.map(A=>A.data());T.sort((A,q)=>A.v.localeCompare(q.v)),u(T)}catch(E){console.error("Error fetching conjugations:",E)}finally{p(!1)}})()},[]);const _=ee.useMemo(()=>{if(l.length===0)return[];const y=[{type:"mc",q:"Yo ___ (Ser)",a:"Soy",opts:["Soy","Eres","Es"].sort(()=>.5-Math.random()),exp:"Yo soy."},{type:"mc",q:"T ___ (Tener)",a:"Tienes",opts:["Tengo","Tienes","Tiene"].sort(()=>.5-Math.random()),exp:"T tienes."}];return l.slice(0,5).forEach(E=>{E.c&&E.c.length>=3&&y.push({type:"mc",q:`Ella ___ (${E.v})`,a:E.c[2],opts:[E.c[0],E.c[1],E.c[2]].sort(()=>.5-Math.random()),exp:`Ella ${E.c[2]}.`})}),y.sort(()=>.5-Math.random())},[l]);return f?m.jsx("div",{className:"p-10 text-center text-gray-400",children:"Cargando verbos..."}):s==="quiz"?m.jsx("div",{className:"p-6 max-w-md mx-auto pb-24",children:m.jsx(ei,{pool:_,questionCount:10,onComplete:()=>e("list")})}):i?m.jsxs("div",{className:"p-6 max-w-md mx-auto pb-24 space-y-4",children:[m.jsxs("button",{onClick:()=>r(null),className:"flex items-center gap-2 text-cyan-400 mb-2",children:[m.jsx(gm,{size:20})," Volver"]}),m.jsxs("h2",{className:"text-2xl font-bold text-white",children:[i.v," ",m.jsxs("span",{className:"text-gray-500 text-lg",children:["(",i.t,")"]})]}),m.jsx("div",{className:"bg-gray-800 rounded-xl overflow-hidden border border-gray-700",children:m.jsx("div",{className:"divide-y divide-gray-700",children:["Yo","T","l/Ella","Nosotros","Ellos"].map((y,E)=>m.jsxs("div",{className:"grid grid-cols-2 p-3 text-sm",children:[m.jsx("span",{className:"text-cyan-200",children:y}),m.jsx("span",{className:"font-bold",children:i.c&&i.c[E]})]},E))})})]}):m.jsxs("div",{className:"p-6 max-w-md mx-auto pb-24 space-y-4",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Verbos"}),m.jsx("div",{className:"grid grid-cols-1 gap-3",children:l.map((y,E)=>m.jsxs("button",{onClick:()=>r(y),className:"bg-gray-800 p-4 rounded-xl border border-gray-700 flex justify-between items-center text-left hover:bg-gray-700",children:[m.jsxs("div",{children:[m.jsx("span",{className:"block font-bold text-lg text-white",children:y.v}),m.jsx("span",{className:"text-xs text-gray-400",children:y.t})]}),m.jsx(pm,{size:20,className:"text-gray-600"})]},E))}),m.jsx("button",{onClick:()=>e("quiz"),className:"w-full bg-cyan-600 text-white font-bold py-4 rounded-2xl shadow-lg mt-4",children:"Prueba"})]})},WR=()=>{const[s,e]=ee.useState("learn"),i=ee.useMemo(()=>[{type:"mc",q:"Para hablar de la hora, usamos...",a:"Ser",opts:["Ser","Estar","Tener"].sort(()=>.5-Math.random()),exp:"La hora es permanente/esencia (Son las 2)."},{type:"mc",q:"Para hablar de ubicacin, usamos...",a:"Estar",opts:["Ser","Estar","Tener"].sort(()=>.5-Math.random()),exp:"Ubicacin = Estar (No matter how permanent)."},{type:"mc",q:"Para decir la edad, usamos...",a:"Tener",opts:["Ser","Estar","Tener"].sort(()=>.5-Math.random()),exp:"En espaol, 'tienes' aos."},{type:"mc",q:"Yo ___ feliz hoy (emocin).",a:"Estoy",opts:["Soy","Estoy","Tengo"].sort(()=>.5-Math.random()),exp:"Emocin temporal = Estar."},{type:"mc",q:"Nosotros ___ altos (descripcin).",a:"Somos",opts:["Somos","Estamos","Tenemos"].sort(()=>.5-Math.random()),exp:"Descripcin fsica = Ser."}],[]);return s==="quiz"?m.jsx("div",{className:"p-6 max-w-md mx-auto pb-24",children:m.jsx(ei,{pool:i,questionCount:5,onComplete:()=>e("learn")})}):m.jsxs("div",{className:"p-6 max-w-md mx-auto pb-24 space-y-6",children:[m.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl border-l-4 border-blue-500",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsx("h3",{className:"font-bold text-blue-400 text-xl",children:"SER"}),m.jsx("span",{className:"text-xs bg-blue-900 text-blue-200 px-2 py-1 rounded",children:"Permanente"})]}),m.jsx("p",{className:"text-sm text-gray-300 mb-2 italic",children:'"To be" (Esencia)'}),m.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[m.jsxs("div",{className:"bg-gray-900 p-2 rounded border border-gray-700",children:[m.jsx("span",{className:"text-blue-300 font-bold",children:"D"}),"escription"]}),m.jsxs("div",{className:"bg-gray-900 p-2 rounded border border-gray-700",children:[m.jsx("span",{className:"text-blue-300 font-bold",children:"O"}),"ccupation"]}),m.jsxs("div",{className:"bg-gray-900 p-2 rounded border border-gray-700",children:[m.jsx("span",{className:"text-blue-300 font-bold",children:"C"}),"haracteristic"]}),m.jsxs("div",{className:"bg-gray-900 p-2 rounded border border-gray-700",children:[m.jsx("span",{className:"text-blue-300 font-bold",children:"T"}),"ime/Date"]}),m.jsxs("div",{className:"bg-gray-900 p-2 rounded border border-gray-700",children:[m.jsx("span",{className:"text-blue-300 font-bold",children:"O"}),"rigin"]}),m.jsxs("div",{className:"bg-gray-900 p-2 rounded border border-gray-700",children:[m.jsx("span",{className:"text-blue-300 font-bold",children:"R"}),"elationship"]})]}),m.jsx("p",{className:"mt-3 text-xs text-center text-gray-400",children:'Ej: "Soy alto", "Son las dos".'})]}),m.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl border-l-4 border-orange-500",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsx("h3",{className:"font-bold text-orange-400 text-xl",children:"ESTAR"}),m.jsx("span",{className:"text-xs bg-orange-900 text-orange-200 px-2 py-1 rounded",children:"Temporal"})]}),m.jsx("p",{className:"text-sm text-gray-300 mb-2 italic",children:'"To be" (Estado)'}),m.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[m.jsxs("div",{className:"bg-gray-900 p-2 rounded border border-gray-700",children:[m.jsx("span",{className:"text-orange-300 font-bold",children:"P"}),"osition"]}),m.jsxs("div",{className:"bg-gray-900 p-2 rounded border border-gray-700",children:[m.jsx("span",{className:"text-orange-300 font-bold",children:"L"}),"ocation"]}),m.jsxs("div",{className:"bg-gray-900 p-2 rounded border border-gray-700",children:[m.jsx("span",{className:"text-orange-300 font-bold",children:"A"}),"ction (-ing)"]}),m.jsxs("div",{className:"bg-gray-900 p-2 rounded border border-gray-700",children:[m.jsx("span",{className:"text-orange-300 font-bold",children:"C"}),"ondition"]}),m.jsxs("div",{className:"bg-gray-900 p-2 rounded border border-gray-700",children:[m.jsx("span",{className:"text-orange-300 font-bold",children:"E"}),"motion"]})]}),m.jsx("p",{className:"mt-3 text-xs text-center text-gray-400",children:'Ej: "Estoy triste", "Est en Madrid".'})]}),m.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl border-l-4 border-green-500",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsx("h3",{className:"font-bold text-green-400 text-xl",children:"TENER"}),m.jsx("span",{className:"text-xs bg-green-900 text-green-200 px-2 py-1 rounded",children:"Posesin"})]}),m.jsx("p",{className:"text-sm text-gray-300 mb-2 italic",children:'"To have" (Usado en modismos)'}),m.jsxs("ul",{className:"text-sm space-y-1 list-disc list-inside text-gray-300",children:[m.jsx("li",{children:'Edad ("Tengo 20 aos")'}),m.jsx("li",{children:'Hambre / Sed ("Tengo hambre")'}),m.jsx("li",{children:'Calor / Fro ("Tengo calor")'}),m.jsx("li",{children:"Miedo / Sueo"})]})]}),m.jsx("button",{onClick:()=>e("quiz"),className:"w-full bg-emerald-600 text-white font-bold py-4 rounded-2xl shadow-lg mt-4",children:"Prueba de Verbos"})]})},e4=({lessonId:s})=>{switch(s){case"pronouns":return m.jsx(JR,{});case"conjugations":return m.jsx(ZR,{});case"verbs":return m.jsx(WR,{});default:return m.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center p-6 border border-gray-800 rounded-xl bg-gray-900/50",children:[m.jsx("p",{className:"text-gray-400 mb-2",children:"Leccin de gramtica no encontrada"}),m.jsxs("code",{className:"bg-black px-2 py-1 rounded text-pink-400 text-xs font-mono",children:["ID: ",s]})]})}};function t4(){const[s,e]=ee.useState("dashboard");ee.useEffect(()=>{window.scrollTo(0,0)},[s]);const i=({children:l})=>m.jsx("div",{className:"min-h-screen bg-[#111827] p-6",children:l}),r=()=>{switch(s){case"admin":return m.jsx(ER,{onBack:()=>e("dashboard")});case"vocales":case"alphabet":case"numbers":case"colors":case"weather":case"calendar":return m.jsx(i,{children:m.jsx(HR,{lessonId:s})});case"feelings":case"intro":case"interview":case"characters":case"jobs":case"nationalities":return m.jsx(i,{children:m.jsx($R,{lessonId:s})});case"pronouns":case"conjugations":case"verbs":return m.jsx(i,{children:m.jsx(e4,{lessonId:s})});case"vocabmix":return m.jsx(xR,{onComplete:()=>e("dashboard")});case"finalquiz":return m.jsx(TR,{onComplete:()=>e("dashboard")});default:return m.jsx(gR,{onSelectLesson:e})}};return m.jsxs("div",{className:"min-h-screen bg-gray-900 text-white font-sans antialiased",children:[s!=="admin"&&m.jsx("div",{className:"sticky top-0 z-50 bg-gray-900/90 backdrop-blur-md border-b border-gray-800 p-4 flex items-center justify-between",children:s!=="dashboard"?m.jsxs("button",{onClick:()=>e("dashboard"),className:"flex items-center gap-2 text-indigo-400 font-bold",children:[m.jsx(gm,{size:20})," Men"]}):m.jsxs("div",{className:"text-xl font-black text-indigo-500 tracking-tighter",children:["NOTAS",m.jsx("span",{className:"text-pink-500",children:".APP"})]})}),m.jsx("div",{className:"p-6",children:r()})]})}qx.createRoot(document.getElementById("root")).render(m.jsx(ee.StrictMode,{children:m.jsx(t4,{})}));
