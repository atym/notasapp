(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function lE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var hf={exports:{}},mo={};var v0;function oE(){if(v0)return mo;v0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:f,ref:o!==void 0?o:null,props:u}}return mo.Fragment=e,mo.jsx=i,mo.jsxs=i,mo}var _0;function cE(){return _0||(_0=1,hf.exports=oE()),hf.exports}var m=cE(),df={exports:{}},_e={};var b0;function uE(){if(b0)return _e;b0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),I=Symbol.iterator;function F(M){return M===null||typeof M!="object"?null:(M=I&&M[I]||M["@@iterator"],typeof M=="function"?M:null)}var X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,Z={};function he(M,K,se){this.props=M,this.context=K,this.refs=Z,this.updater=se||X}he.prototype.isReactComponent={},he.prototype.setState=function(M,K){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,K,"setState")},he.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ue(){}ue.prototype=he.prototype;function ne(M,K,se){this.props=M,this.context=K,this.refs=Z,this.updater=se||X}var me=ne.prototype=new ue;me.constructor=ne,J(me,he.prototype),me.isPureReactComponent=!0;var De=Array.isArray;function Se(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function w(M,K,se){var re=se.ref;return{$$typeof:r,type:M,key:K,ref:re!==void 0?re:null,props:se}}function O(M,K){return w(M.type,K,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function k(M){var K={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(se){return K[se]})}var N=/\/+/g;function nt(M,K){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):K.toString(36)}function Rt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Se,Se):(M.status="pending",M.then(function(K){M.status==="pending"&&(M.status="fulfilled",M.value=K)},function(K){M.status==="pending"&&(M.status="rejected",M.reason=K)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function G(M,K,se,re,ve){var Ae=typeof M;(Ae==="undefined"||Ae==="boolean")&&(M=null);var Ve=!1;if(M===null)Ve=!0;else switch(Ae){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(M.$$typeof){case r:case e:Ve=!0;break;case E:return Ve=M._init,G(Ve(M._payload),K,se,re,ve)}}if(Ve)return ve=ve(M),Ve=re===""?"."+nt(M,0):re,De(ve)?(se="",Ve!=null&&(se=Ve.replace(N,"$&/")+"/"),G(ve,K,se,"",function(Ws){return Ws})):ve!=null&&(D(ve)&&(ve=O(ve,se+(ve.key==null||M&&M.key===ve.key?"":(""+ve.key).replace(N,"$&/")+"/")+Ve)),K.push(ve)),1;Ve=0;var It=re===""?".":re+":";if(De(M))for(var it=0;it<M.length;it++)re=M[it],Ae=It+nt(re,it),Ve+=G(re,K,se,Ae,ve);else if(it=F(M),typeof it=="function")for(M=it.call(M),it=0;!(re=M.next()).done;)re=re.value,Ae=It+nt(re,it++),Ve+=G(re,K,se,Ae,ve);else if(Ae==="object"){if(typeof M.then=="function")return G(Rt(M),K,se,re,ve);throw K=String(M),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function ie(M,K,se){if(M==null)return M;var re=[],ve=0;return G(M,re,"","",function(Ae){return K.call(se,Ae,ve++)}),re}function fe(M){if(M._status===-1){var K=M._result;K=K(),K.then(function(se){(M._status===0||M._status===-1)&&(M._status=1,M._result=se)},function(se){(M._status===0||M._status===-1)&&(M._status=2,M._result=se)}),M._status===-1&&(M._status=0,M._result=K)}if(M._status===1)return M._result.default;throw M._result}var Ue=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Fe={map:ie,forEach:function(M,K,se){ie(M,function(){K.apply(this,arguments)},se)},count:function(M){var K=0;return ie(M,function(){K++}),K},toArray:function(M){return ie(M,function(K){return K})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return _e.Activity=S,_e.Children=Fe,_e.Component=he,_e.Fragment=i,_e.Profiler=o,_e.PureComponent=ne,_e.StrictMode=a,_e.Suspense=_,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,_e.__COMPILER_RUNTIME={__proto__:null,c:function(M){return R.H.useMemoCache(M)}},_e.cache=function(M){return function(){return M.apply(null,arguments)}},_e.cacheSignal=function(){return null},_e.cloneElement=function(M,K,se){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var re=J({},M.props),ve=M.key;if(K!=null)for(Ae in K.key!==void 0&&(ve=""+K.key),K)!A.call(K,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&K.ref===void 0||(re[Ae]=K[Ae]);var Ae=arguments.length-2;if(Ae===1)re.children=se;else if(1<Ae){for(var Ve=Array(Ae),It=0;It<Ae;It++)Ve[It]=arguments[It+2];re.children=Ve}return w(M.type,ve,re)},_e.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},_e.createElement=function(M,K,se){var re,ve={},Ae=null;if(K!=null)for(re in K.key!==void 0&&(Ae=""+K.key),K)A.call(K,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ve[re]=K[re]);var Ve=arguments.length-2;if(Ve===1)ve.children=se;else if(1<Ve){for(var It=Array(Ve),it=0;it<Ve;it++)It[it]=arguments[it+2];ve.children=It}if(M&&M.defaultProps)for(re in Ve=M.defaultProps,Ve)ve[re]===void 0&&(ve[re]=Ve[re]);return w(M,Ae,ve)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(M){return{$$typeof:p,render:M}},_e.isValidElement=D,_e.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:fe}},_e.memo=function(M,K){return{$$typeof:v,type:M,compare:K===void 0?null:K}},_e.startTransition=function(M){var K=R.T,se={};R.T=se;try{var re=M(),ve=R.S;ve!==null&&ve(se,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(Se,Ue)}catch(Ae){Ue(Ae)}finally{K!==null&&se.types!==null&&(K.types=se.types),R.T=K}},_e.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},_e.use=function(M){return R.H.use(M)},_e.useActionState=function(M,K,se){return R.H.useActionState(M,K,se)},_e.useCallback=function(M,K){return R.H.useCallback(M,K)},_e.useContext=function(M){return R.H.useContext(M)},_e.useDebugValue=function(){},_e.useDeferredValue=function(M,K){return R.H.useDeferredValue(M,K)},_e.useEffect=function(M,K){return R.H.useEffect(M,K)},_e.useEffectEvent=function(M){return R.H.useEffectEvent(M)},_e.useId=function(){return R.H.useId()},_e.useImperativeHandle=function(M,K,se){return R.H.useImperativeHandle(M,K,se)},_e.useInsertionEffect=function(M,K){return R.H.useInsertionEffect(M,K)},_e.useLayoutEffect=function(M,K){return R.H.useLayoutEffect(M,K)},_e.useMemo=function(M,K){return R.H.useMemo(M,K)},_e.useOptimistic=function(M,K){return R.H.useOptimistic(M,K)},_e.useReducer=function(M,K,se){return R.H.useReducer(M,K,se)},_e.useRef=function(M){return R.H.useRef(M)},_e.useState=function(M){return R.H.useState(M)},_e.useSyncExternalStore=function(M,K,se){return R.H.useSyncExternalStore(M,K,se)},_e.useTransition=function(){return R.H.useTransition()},_e.version="19.2.0",_e}var x0;function am(){return x0||(x0=1,df.exports=uE()),df.exports}var W=am();const Dr=lE(W);var ff={exports:{}},go={},mf={exports:{}},gf={};var E0;function hE(){return E0||(E0=1,(function(r){function e(G,ie){var fe=G.length;G.push(ie);e:for(;0<fe;){var Ue=fe-1>>>1,Fe=G[Ue];if(0<o(Fe,ie))G[Ue]=ie,G[fe]=Fe,fe=Ue;else break e}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var ie=G[0],fe=G.pop();if(fe!==ie){G[0]=fe;e:for(var Ue=0,Fe=G.length,M=Fe>>>1;Ue<M;){var K=2*(Ue+1)-1,se=G[K],re=K+1,ve=G[re];if(0>o(se,fe))re<Fe&&0>o(ve,se)?(G[Ue]=ve,G[re]=fe,Ue=re):(G[Ue]=se,G[K]=fe,Ue=K);else if(re<Fe&&0>o(ve,fe))G[Ue]=ve,G[re]=fe,Ue=re;else break e}}return ie}function o(G,ie){var fe=G.sortIndex-ie.sortIndex;return fe!==0?fe:G.id-ie.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var _=[],v=[],E=1,S=null,I=3,F=!1,X=!1,J=!1,Z=!1,he=typeof setTimeout=="function"?setTimeout:null,ue=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function me(G){for(var ie=i(v);ie!==null;){if(ie.callback===null)a(v);else if(ie.startTime<=G)a(v),ie.sortIndex=ie.expirationTime,e(_,ie);else break;ie=i(v)}}function De(G){if(J=!1,me(G),!X)if(i(_)!==null)X=!0,Se||(Se=!0,k());else{var ie=i(v);ie!==null&&Rt(De,ie.startTime-G)}}var Se=!1,R=-1,A=5,w=-1;function O(){return Z?!0:!(r.unstable_now()-w<A)}function D(){if(Z=!1,Se){var G=r.unstable_now();w=G;var ie=!0;try{e:{X=!1,J&&(J=!1,ue(R),R=-1),F=!0;var fe=I;try{t:{for(me(G),S=i(_);S!==null&&!(S.expirationTime>G&&O());){var Ue=S.callback;if(typeof Ue=="function"){S.callback=null,I=S.priorityLevel;var Fe=Ue(S.expirationTime<=G);if(G=r.unstable_now(),typeof Fe=="function"){S.callback=Fe,me(G),ie=!0;break t}S===i(_)&&a(_),me(G)}else a(_);S=i(_)}if(S!==null)ie=!0;else{var M=i(v);M!==null&&Rt(De,M.startTime-G),ie=!1}}break e}finally{S=null,I=fe,F=!1}ie=void 0}}finally{ie?k():Se=!1}}}var k;if(typeof ne=="function")k=function(){ne(D)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,nt=N.port2;N.port1.onmessage=D,k=function(){nt.postMessage(null)}}else k=function(){he(D,0)};function Rt(G,ie){R=he(function(){G(r.unstable_now())},ie)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return I},r.unstable_next=function(G){switch(I){case 1:case 2:case 3:var ie=3;break;default:ie=I}var fe=I;I=ie;try{return G()}finally{I=fe}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(G,ie){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var fe=I;I=G;try{return ie()}finally{I=fe}},r.unstable_scheduleCallback=function(G,ie,fe){var Ue=r.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ue+fe:Ue):fe=Ue,G){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=fe+Fe,G={id:E++,callback:ie,priorityLevel:G,startTime:fe,expirationTime:Fe,sortIndex:-1},fe>Ue?(G.sortIndex=fe,e(v,G),i(_)===null&&G===i(v)&&(J?(ue(R),R=-1):J=!0,Rt(De,fe-Ue))):(G.sortIndex=Fe,e(_,G),X||F||(X=!0,Se||(Se=!0,k()))),G},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(G){var ie=I;return function(){var fe=I;I=ie;try{return G.apply(this,arguments)}finally{I=fe}}}})(gf)),gf}var T0;function dE(){return T0||(T0=1,mf.exports=hE()),mf.exports}var pf={exports:{}},Xt={};var S0;function fE(){if(S0)return Xt;S0=1;var r=am();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)v+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(_,v,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:_,containerInfo:v,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Xt.createPortal=function(_,v){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return u(_,v,null,E)},Xt.flushSync=function(_){var v=f.T,E=a.p;try{if(f.T=null,a.p=2,_)return _()}finally{f.T=v,a.p=E,a.d.f()}},Xt.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},Xt.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Xt.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var E=v.as,S=p(E,v.crossOrigin),I=typeof v.integrity=="string"?v.integrity:void 0,F=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;E==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:I,fetchPriority:F}):E==="script"&&a.d.X(_,{crossOrigin:S,integrity:I,fetchPriority:F,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Xt.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var E=p(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},Xt.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var E=v.as,S=p(E,v.crossOrigin);a.d.L(_,E,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Xt.preloadModule=function(_,v){if(typeof _=="string")if(v){var E=p(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},Xt.requestFormReset=function(_){a.d.r(_)},Xt.unstable_batchedUpdates=function(_,v){return _(v)},Xt.useFormState=function(_,v,E){return f.H.useFormState(_,v,E)},Xt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Xt.version="19.2.0",Xt}var A0;function mE(){if(A0)return pf.exports;A0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),pf.exports=fE(),pf.exports}var w0;function gE(){if(w0)return go;w0=1;var r=dE(),e=am(),i=mE();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(u(t)!==t)throw Error(a(188))}function v(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,l=n;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return _(h),t;if(d===l)return _(h),n;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=d;else{for(var y=!1,x=h.child;x;){if(x===s){y=!0,s=h,l=d;break}if(x===l){y=!0,l=h,s=d;break}x=x.sibling}if(!y){for(x=d.child;x;){if(x===s){y=!0,s=d,l=h;break}if(x===l){y=!0,l=d,s=h;break}x=x.sibling}if(!y)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,I=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),X=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),he=Symbol.for("react.profiler"),ue=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),De=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function nt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case J:return"Fragment";case he:return"Profiler";case Z:return"StrictMode";case De:return"Suspense";case Se:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case X:return"Portal";case ne:return t.displayName||"Context";case ue:return(t._context.displayName||"Context")+".Consumer";case me:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return n=t.displayName||null,n!==null?n:nt(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return nt(t(n))}catch{}}return null}var Rt=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ue=[],Fe=-1;function M(t){return{current:t}}function K(t){0>Fe||(t.current=Ue[Fe],Ue[Fe]=null,Fe--)}function se(t,n){Fe++,Ue[Fe]=t.current,t.current=n}var re=M(null),ve=M(null),Ae=M(null),Ve=M(null);function It(t,n){switch(se(Ae,n),se(ve,t),se(re,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?qy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=qy(n),t=By(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(re),se(re,t)}function it(){K(re),K(ve),K(Ae)}function Ws(t){t.memoizedState!==null&&se(Ve,t);var n=re.current,s=By(n,t.type);n!==s&&(se(ve,t),se(re,s))}function Hr(t){ve.current===t&&(K(re),K(ve)),Ve.current===t&&(K(Ve),co._currentValue=fe)}var Fr,Gr;function Zn(t){if(Fr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Fr=n&&n[1]||"",Gr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fr+t+Gr}var cl=!1;function er(t,n){if(!t||cl)return"";cl=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(B){var P=B}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(B){P=B}t.call(Y.prototype)}}else{try{throw Error()}catch(B){P=B}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(B){if(B&&P&&typeof B.stack=="string")return[B.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),y=d[0],x=d[1];if(y&&x){var C=y.split(`
`),z=x.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===z.length)for(l=C.length-1,h=z.length-1;1<=l&&0<=h&&C[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==z[h]){var H=`
`+C[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=h);break}}}finally{cl=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Zn(s):""}function ul(t,n){switch(t.tag){case 26:case 27:case 5:return Zn(t.type);case 16:return Zn("Lazy");case 13:return t.child!==n&&n!==null?Zn("Suspense Fallback"):Zn("Suspense");case 19:return Zn("SuspenseList");case 0:case 15:return er(t.type,!1);case 11:return er(t.type.render,!1);case 1:return er(t.type,!0);case 31:return Zn("Activity");default:return""}}function hl(t){try{var n="",s=null;do n+=ul(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var yt=Object.prototype.hasOwnProperty,jt=r.unstable_scheduleCallback,ns=r.unstable_cancelCallback,dh=r.unstable_shouldYield,qo=r.unstable_requestPaint,tn=r.unstable_now,tr=r.unstable_getCurrentPriorityLevel,dl=r.unstable_ImmediatePriority,fl=r.unstable_UserBlockingPriority,is=r.unstable_NormalPriority,fh=r.unstable_LowPriority,Bo=r.unstable_IdlePriority,Ho=r.log,Fo=r.unstable_setDisableYieldValue,Un=null,qt=null;function Tn(t){if(typeof Ho=="function"&&Fo(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Un,t)}catch{}}var ht=Math.clz32?Math.clz32:Qo,Go=Math.log,Qr=Math.LN2;function Qo(t){return t>>>=0,t===0?32:31-(Go(t)/Qr|0)|0}var Wn=256,nr=262144,vt=4194304;function ei(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ti(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var x=l&134217727;return x!==0?(l=x&~d,l!==0?h=ei(l):(y&=x,y!==0?h=ei(y):s||(s=x&~t,s!==0&&(h=ei(s))))):(x=l&~d,x!==0?h=ei(x):y!==0?h=ei(y):s||(s=l&~t,s!==0&&(h=ei(s)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,s=n&-n,d>=s||d===32&&(s&4194048)!==0)?n:h}function zn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function mh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yo(){var t=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),t}function ni(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function ir(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function gh(t,n,s,l,h,d){var y=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var x=t.entanglements,C=t.expirationTimes,z=t.hiddenUpdates;for(s=y&~s;0<s;){var H=31-ht(s),Y=1<<H;x[H]=0,C[H]=-1;var P=z[H];if(P!==null)for(z[H]=null,H=0;H<P.length;H++){var B=P[H];B!==null&&(B.lane&=-536870913)}s&=~Y}l!==0&&sr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(y&~n))}function sr(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ht(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function ml(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-ht(s),h=1<<l;h&n|t[l]&n&&(t[l]|=n),s&=~h}}function gl(t,n){var s=n&-n;return s=(s&42)!==0?1:rr(s),(s&(t.suspendedLanes|n))!==0?0:s}function rr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ii(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ko(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:h0(t.type))}function Pn(t,n){var s=ie.p;try{return ie.p=t,n()}finally{ie.p=s}}var qn=Math.random().toString(36).slice(2),_t="__reactFiber$"+qn,Lt="__reactProps$"+qn,ii="__reactContainer$"+qn,Yr="__reactEvents$"+qn,ph="__reactListeners$"+qn,Xo="__reactHandles$"+qn,$o="__reactResources$"+qn,si="__reactMarker$"+qn;function Kr(t){delete t[_t],delete t[Lt],delete t[Yr],delete t[ph],delete t[Xo]}function ri(t){var n=t[_t];if(n)return n;for(var s=t.parentNode;s;){if(n=s[ii]||s[_t]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Xy(t);t!==null;){if(s=t[_t])return s;t=Xy(t)}return n}t=s,s=t.parentNode}return null}function Sn(t){if(t=t[_t]||t[ii]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function mn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function ai(t){var n=t[$o];return n||(n=t[$o]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function bt(t){t[si]=!0}var pl=new Set,yl={};function li(t,n){oi(t,n),oi(t+"Capture",n)}function oi(t,n){for(yl[t]=n,t=0;t<n.length;t++)pl.add(n[t])}var vl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_l={},bl={};function Jo(t){return yt.call(bl,t)?!0:yt.call(_l,t)?!1:vl.test(t)?bl[t]=!0:(_l[t]=!0,!1)}function Xr(t,n,s){if(Jo(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function gn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function xt(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function Ut(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ss(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function xl(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){s=""+y,d.call(this,y)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(y){s=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ge(t){if(!t._valueTracker){var n=ss(t)?"checked":"value";t._valueTracker=xl(t,n,""+t[n])}}function ar(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=ss(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function ci(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var lr=/[\n"\\]/g;function an(t){return t.replace(lr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function $r(t,n,s,l,h,d,y,x){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ut(n)):t.value!==""+Ut(n)&&(t.value=""+Ut(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?El(t,y,Ut(n)):s!=null?El(t,y,Ut(s)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+Ut(x):t.removeAttribute("name")}function Zo(t,n,s,l,h,d,y,x){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){Ge(t);return}s=s!=null?""+Ut(s):"",n=n!=null?""+Ut(n):s,x||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=x?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),Ge(t)}function El(t,n,s){n==="number"&&ci(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function rs(t,n,s,l){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Ut(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Wo(t,n,s){if(n!=null&&(n=""+Ut(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Ut(s):""}function as(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(Rt(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Ut(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),Ge(t)}function ln(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var ec=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tl(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||ec.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function Sl(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&Tl(t,h,l)}else for(var d in n)n.hasOwnProperty(d)&&Tl(t,d,n[d])}function Jr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ls=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zr(t){return ls.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Bn(){}var Al=null;function An(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var os=null,ui=null;function or(t){var n=Sn(t);if(n&&(t=n.stateNode)){var s=t[Lt]||null;e:switch(t=n.stateNode,n.type){case"input":if($r(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+an(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var h=l[Lt]||null;if(!h)throw Error(a(90));$r(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&ar(l)}break e;case"textarea":Wo(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&rs(t,!!s.multiple,n,!1)}}}var Wr=!1;function cs(t,n,s){if(Wr)return t(n,s);Wr=!0;try{var l=t(n);return l}finally{if(Wr=!1,(os!==null||ui!==null)&&(Kc(),os&&(n=os,t=ui,ui=os=null,or(n),t)))for(n=0;n<t.length;n++)or(t[n])}}function Hn(t,n){var s=t.stateNode;if(s===null)return null;var l=s[Lt]||null;if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cr=!1;if(wn)try{var Ke={};Object.defineProperty(Ke,"passive",{get:function(){cr=!0}}),window.addEventListener("test",Ke,Ke),window.removeEventListener("test",Ke,Ke)}catch{cr=!1}var hi=null,wl=null,ur=null;function Nl(){if(ur)return ur;var t,n=wl,s=n.length,l,h="value"in hi?hi.value:hi.textContent,d=h.length;for(t=0;t<s&&n[t]===h[t];t++);var y=s-t;for(l=1;l<=y&&n[s-l]===h[d-l];l++);return ur=h.slice(t,1<l?1-l:void 0)}function hr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ji(){return!0}function Fn(){return!1}function Bt(t){function n(s,l,h,d,y){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(s=t[x],this[x]=s?s(d):d[x]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ji:Fn,this.isPropagationStopped=Fn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),n}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=Bt(Di),us=S({},Di,{view:0,detail:0}),Cl=Bt(us),hs,ea,fi,ta=S({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ds,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fi&&(fi&&t.type==="mousemove"?(hs=t.screenX-fi.screenX,ea=t.screenY-fi.screenY):ea=hs=0,fi=t),hs)},movementY:function(t){return"movementY"in t?t.movementY:ea}}),Rl=Bt(ta),dr=S({},ta,{dataTransfer:0}),nc=Bt(dr),ic=S({},us,{relatedTarget:0}),fr=Bt(ic),Il=S({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),sc=Bt(Il),na=S({},Di,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),rc=Bt(na),ac=S({},Di,{data:0}),mi=Bt(ac),lc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uc(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=cc[t])?!!n[t]:!1}function ds(){return uc}var nn=S({},us,{key:function(t){if(t.key){var n=lc[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=hr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?oc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ds,charCode:function(t){return t.type==="keypress"?hr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hc=Bt(nn),dc=S({},ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mi=Bt(dc),c=S({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ds}),g=Bt(c),b=S({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Bt(b),L=S({},ta,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Bt(L),te=S({},Di,{newState:0,oldState:0}),Ee=Bt(te),dt=[9,13,27,32],Be=wn&&"CompositionEvent"in window,st=null;wn&&"documentMode"in document&&(st=document.documentMode);var Nn=wn&&"TextEvent"in window&&!st,gi=wn&&(!Be||st&&8<st&&11>=st),Gn=" ",Qn=!1;function mr(t,n){switch(t){case"keyup":return dt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ia(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var sa=!1;function j1(t,n){switch(t){case"compositionend":return ia(n);case"keypress":return n.which!==32?null:(Qn=!0,Gn);case"textInput":return t=n.data,t===Gn&&Qn?null:t;default:return null}}function D1(t,n){if(sa)return t==="compositionend"||!Be&&mr(t,n)?(t=Nl(),ur=wl=hi=null,sa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gi&&n.locale!=="ko"?null:n.data;default:return null}}var M1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!M1[t.type]:n==="textarea"}function Wm(t,n,s,l){os?ui?ui.push(l):ui=[l]:os=l,n=tu(n,"onChange"),0<n.length&&(s=new di("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var jl=null,Dl=null;function O1(t){Vy(t,0)}function fc(t){var n=mn(t);if(ar(n))return t}function eg(t,n){if(t==="change")return n}var tg=!1;if(wn){var yh;if(wn){var vh="oninput"in document;if(!vh){var ng=document.createElement("div");ng.setAttribute("oninput","return;"),vh=typeof ng.oninput=="function"}yh=vh}else yh=!1;tg=yh&&(!document.documentMode||9<document.documentMode)}function ig(){jl&&(jl.detachEvent("onpropertychange",sg),Dl=jl=null)}function sg(t){if(t.propertyName==="value"&&fc(Dl)){var n=[];Wm(n,Dl,t,An(t)),cs(O1,n)}}function V1(t,n,s){t==="focusin"?(ig(),jl=n,Dl=s,jl.attachEvent("onpropertychange",sg)):t==="focusout"&&ig()}function k1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fc(Dl)}function L1(t,n){if(t==="click")return fc(n)}function U1(t,n){if(t==="input"||t==="change")return fc(n)}function z1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var pn=typeof Object.is=="function"?Object.is:z1;function Ml(t,n){if(pn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!yt.call(n,h)||!pn(t[h],n[h]))return!1}return!0}function rg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ag(t,n){var s=rg(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=rg(s)}}function lg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?lg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function og(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ci(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=ci(t.document)}return n}function _h(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var P1=wn&&"documentMode"in document&&11>=document.documentMode,ra=null,bh=null,Ol=null,xh=!1;function cg(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;xh||ra==null||ra!==ci(l)||(l=ra,"selectionStart"in l&&_h(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ol&&Ml(Ol,l)||(Ol=l,l=tu(bh,"onSelect"),0<l.length&&(n=new di("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=ra)))}function gr(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var aa={animationend:gr("Animation","AnimationEnd"),animationiteration:gr("Animation","AnimationIteration"),animationstart:gr("Animation","AnimationStart"),transitionrun:gr("Transition","TransitionRun"),transitionstart:gr("Transition","TransitionStart"),transitioncancel:gr("Transition","TransitionCancel"),transitionend:gr("Transition","TransitionEnd")},Eh={},ug={};wn&&(ug=document.createElement("div").style,"AnimationEvent"in window||(delete aa.animationend.animation,delete aa.animationiteration.animation,delete aa.animationstart.animation),"TransitionEvent"in window||delete aa.transitionend.transition);function pr(t){if(Eh[t])return Eh[t];if(!aa[t])return t;var n=aa[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in ug)return Eh[t]=n[s];return t}var hg=pr("animationend"),dg=pr("animationiteration"),fg=pr("animationstart"),q1=pr("transitionrun"),B1=pr("transitionstart"),H1=pr("transitioncancel"),mg=pr("transitionend"),gg=new Map,Th="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Th.push("scrollEnd");function Yn(t,n){gg.set(t,n),li(n,[t])}var mc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Cn=[],la=0,Sh=0;function gc(){for(var t=la,n=Sh=la=0;n<t;){var s=Cn[n];Cn[n++]=null;var l=Cn[n];Cn[n++]=null;var h=Cn[n];Cn[n++]=null;var d=Cn[n];if(Cn[n++]=null,l!==null&&h!==null){var y=l.pending;y===null?h.next=h:(h.next=y.next,y.next=h),l.pending=h}d!==0&&pg(s,h,d)}}function pc(t,n,s,l){Cn[la++]=t,Cn[la++]=n,Cn[la++]=s,Cn[la++]=l,Sh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Ah(t,n,s,l){return pc(t,n,s,l),yc(t)}function yr(t,n){return pc(t,null,null,n),yc(t)}function pg(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&n!==null&&(h=31-ht(s),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=s|536870912),d):null}function yc(t){if(50<no)throw no=0,Od=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var oa={};function F1(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,n,s,l){return new F1(t,n,s,l)}function wh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Oi(t,n){var s=t.alternate;return s===null?(s=yn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function yg(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function vc(t,n,s,l,h,d){var y=0;if(l=t,typeof t=="function")wh(t)&&(y=1);else if(typeof t=="string")y=Xx(t,s,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case w:return t=yn(31,s,n,h),t.elementType=w,t.lanes=d,t;case J:return vr(s.children,h,d,n);case Z:y=8,h|=24;break;case he:return t=yn(12,s,n,h|2),t.elementType=he,t.lanes=d,t;case De:return t=yn(13,s,n,h),t.elementType=De,t.lanes=d,t;case Se:return t=yn(19,s,n,h),t.elementType=Se,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ne:y=10;break e;case ue:y=9;break e;case me:y=11;break e;case R:y=14;break e;case A:y=16,l=null;break e}y=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=yn(y,s,n,h),n.elementType=t,n.type=l,n.lanes=d,n}function vr(t,n,s,l){return t=yn(7,t,l,n),t.lanes=s,t}function Nh(t,n,s){return t=yn(6,t,null,n),t.lanes=s,t}function vg(t){var n=yn(18,null,null,0);return n.stateNode=t,n}function Ch(t,n,s){return n=yn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var _g=new WeakMap;function Rn(t,n){if(typeof t=="object"&&t!==null){var s=_g.get(t);return s!==void 0?s:(n={value:t,source:n,stack:hl(n)},_g.set(t,n),n)}return{value:t,source:n,stack:hl(n)}}var ca=[],ua=0,_c=null,Vl=0,In=[],jn=0,fs=null,pi=1,yi="";function Vi(t,n){ca[ua++]=Vl,ca[ua++]=_c,_c=t,Vl=n}function bg(t,n,s){In[jn++]=pi,In[jn++]=yi,In[jn++]=fs,fs=t;var l=pi;t=yi;var h=32-ht(l)-1;l&=~(1<<h),s+=1;var d=32-ht(n)+h;if(30<d){var y=h-h%5;d=(l&(1<<y)-1).toString(32),l>>=y,h-=y,pi=1<<32-ht(n)+h|s<<h|l,yi=d+t}else pi=1<<d|s<<h|l,yi=t}function Rh(t){t.return!==null&&(Vi(t,1),bg(t,1,0))}function Ih(t){for(;t===_c;)_c=ca[--ua],ca[ua]=null,Vl=ca[--ua],ca[ua]=null;for(;t===fs;)fs=In[--jn],In[jn]=null,yi=In[--jn],In[jn]=null,pi=In[--jn],In[jn]=null}function xg(t,n){In[jn++]=pi,In[jn++]=yi,In[jn++]=fs,pi=n.id,yi=n.overflow,fs=t}var Ht=null,et=null,Me=!1,ms=null,Dn=!1,jh=Error(a(519));function gs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw kl(Rn(n,t)),jh}function Eg(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[_t]=t,n[Lt]=l,s){case"dialog":Ce("cancel",n),Ce("close",n);break;case"iframe":case"object":case"embed":Ce("load",n);break;case"video":case"audio":for(s=0;s<so.length;s++)Ce(so[s],n);break;case"source":Ce("error",n);break;case"img":case"image":case"link":Ce("error",n),Ce("load",n);break;case"details":Ce("toggle",n);break;case"input":Ce("invalid",n),Zo(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ce("invalid",n);break;case"textarea":Ce("invalid",n),as(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||zy(n.textContent,s)?(l.popover!=null&&(Ce("beforetoggle",n),Ce("toggle",n)),l.onScroll!=null&&Ce("scroll",n),l.onScrollEnd!=null&&Ce("scrollend",n),l.onClick!=null&&(n.onclick=Bn),n=!0):n=!1,n||gs(t,!0)}function Tg(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:Ht=Ht.return}}function ha(t){if(t!==Ht)return!1;if(!Me)return Tg(t),Me=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Xd(t.type,t.memoizedProps)),s=!s),s&&et&&gs(t),Tg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));et=Ky(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));et=Ky(t)}else n===27?(n=et,Rs(t.type)?(t=ef,ef=null,et=t):et=n):et=Ht?On(t.stateNode.nextSibling):null;return!0}function _r(){et=Ht=null,Me=!1}function Dh(){var t=ms;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),ms=null),t}function kl(t){ms===null?ms=[t]:ms.push(t)}var Mh=M(null),br=null,ki=null;function ps(t,n,s){se(Mh,n._currentValue),n._currentValue=s}function Li(t){t._currentValue=Mh.current,K(Mh)}function Oh(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function Vh(t,n,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var y=h.child;d=d.firstContext;e:for(;d!==null;){var x=d;d=h;for(var C=0;C<n.length;C++)if(x.context===n[C]){d.lanes|=s,x=d.alternate,x!==null&&(x.lanes|=s),Oh(d.return,s,t),l||(y=null);break e}d=x.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(a(341));y.lanes|=s,d=y.alternate,d!==null&&(d.lanes|=s),Oh(y,s,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function da(t,n,s,l){t=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var x=h.type;pn(h.pendingProps.value,y.value)||(t!==null?t.push(x):t=[x])}}else if(h===Ve.current){if(y=h.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(co):t=[co])}h=h.return}t!==null&&Vh(n,t,s,l),n.flags|=262144}function bc(t){for(t=t.firstContext;t!==null;){if(!pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function xr(t){br=t,ki=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return Sg(br,t)}function xc(t,n){return br===null&&xr(t),Sg(t,n)}function Sg(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},ki===null){if(t===null)throw Error(a(308));ki=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ki=ki.next=n;return s}var G1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},Q1=r.unstable_scheduleCallback,Y1=r.unstable_NormalPriority,Et={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kh(){return{controller:new G1,data:new Map,refCount:0}}function Ll(t){t.refCount--,t.refCount===0&&Q1(Y1,function(){t.controller.abort()})}var Ul=null,Lh=0,fa=0,ma=null;function K1(t,n){if(Ul===null){var s=Ul=[];Lh=0,fa=Pd(),ma={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Lh++,n.then(Ag,Ag),n}function Ag(){if(--Lh===0&&Ul!==null){ma!==null&&(ma.status="fulfilled");var t=Ul;Ul=null,fa=0,ma=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function X1(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var wg=G.S;G.S=function(t,n){cy=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&K1(t,n),wg!==null&&wg(t,n)};var Er=M(null);function Uh(){var t=Er.current;return t!==null?t:We.pooledCache}function Ec(t,n){n===null?se(Er,Er.current):se(Er,n.pool)}function Ng(){var t=Uh();return t===null?null:{parent:Et._currentValue,pool:t}}var ga=Error(a(460)),zh=Error(a(474)),Tc=Error(a(542)),Sc={then:function(){}};function Cg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Rg(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Bn,Bn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,jg(t),t;default:if(typeof n.status=="string")n.then(Bn,Bn);else{if(t=We,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,jg(t),t}throw Sr=n,ga}}function Tr(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Sr=s,ga):s}}var Sr=null;function Ig(){if(Sr===null)throw Error(a(459));var t=Sr;return Sr=null,t}function jg(t){if(t===ga||t===Tc)throw Error(a(483))}var pa=null,zl=0;function Ac(t){var n=zl;return zl+=1,pa===null&&(pa=[]),Rg(pa,t,n)}function Pl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function wc(t,n){throw n.$$typeof===I?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Dg(t){function n(V,j){if(t){var U=V.deletions;U===null?(V.deletions=[j],V.flags|=16):U.push(j)}}function s(V,j){if(!t)return null;for(;j!==null;)n(V,j),j=j.sibling;return null}function l(V){for(var j=new Map;V!==null;)V.key!==null?j.set(V.key,V):j.set(V.index,V),V=V.sibling;return j}function h(V,j){return V=Oi(V,j),V.index=0,V.sibling=null,V}function d(V,j,U){return V.index=U,t?(U=V.alternate,U!==null?(U=U.index,U<j?(V.flags|=67108866,j):U):(V.flags|=67108866,j)):(V.flags|=1048576,j)}function y(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function x(V,j,U,Q){return j===null||j.tag!==6?(j=Nh(U,V.mode,Q),j.return=V,j):(j=h(j,U),j.return=V,j)}function C(V,j,U,Q){var de=U.type;return de===J?H(V,j,U.props.children,Q,U.key):j!==null&&(j.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===A&&Tr(de)===j.type)?(j=h(j,U.props),Pl(j,U),j.return=V,j):(j=vc(U.type,U.key,U.props,null,V.mode,Q),Pl(j,U),j.return=V,j)}function z(V,j,U,Q){return j===null||j.tag!==4||j.stateNode.containerInfo!==U.containerInfo||j.stateNode.implementation!==U.implementation?(j=Ch(U,V.mode,Q),j.return=V,j):(j=h(j,U.children||[]),j.return=V,j)}function H(V,j,U,Q,de){return j===null||j.tag!==7?(j=vr(U,V.mode,Q,de),j.return=V,j):(j=h(j,U),j.return=V,j)}function Y(V,j,U){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Nh(""+j,V.mode,U),j.return=V,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case F:return U=vc(j.type,j.key,j.props,null,V.mode,U),Pl(U,j),U.return=V,U;case X:return j=Ch(j,V.mode,U),j.return=V,j;case A:return j=Tr(j),Y(V,j,U)}if(Rt(j)||k(j))return j=vr(j,V.mode,U,null),j.return=V,j;if(typeof j.then=="function")return Y(V,Ac(j),U);if(j.$$typeof===ne)return Y(V,xc(V,j),U);wc(V,j)}return null}function P(V,j,U,Q){var de=j!==null?j.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return de!==null?null:x(V,j,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case F:return U.key===de?C(V,j,U,Q):null;case X:return U.key===de?z(V,j,U,Q):null;case A:return U=Tr(U),P(V,j,U,Q)}if(Rt(U)||k(U))return de!==null?null:H(V,j,U,Q,null);if(typeof U.then=="function")return P(V,j,Ac(U),Q);if(U.$$typeof===ne)return P(V,j,xc(V,U),Q);wc(V,U)}return null}function B(V,j,U,Q,de){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return V=V.get(U)||null,x(j,V,""+Q,de);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return V=V.get(Q.key===null?U:Q.key)||null,C(j,V,Q,de);case X:return V=V.get(Q.key===null?U:Q.key)||null,z(j,V,Q,de);case A:return Q=Tr(Q),B(V,j,U,Q,de)}if(Rt(Q)||k(Q))return V=V.get(U)||null,H(j,V,Q,de,null);if(typeof Q.then=="function")return B(V,j,U,Ac(Q),de);if(Q.$$typeof===ne)return B(V,j,U,xc(j,Q),de);wc(j,Q)}return null}function oe(V,j,U,Q){for(var de=null,Pe=null,ce=j,we=j=0,Ie=null;ce!==null&&we<U.length;we++){ce.index>we?(Ie=ce,ce=null):Ie=ce.sibling;var qe=P(V,ce,U[we],Q);if(qe===null){ce===null&&(ce=Ie);break}t&&ce&&qe.alternate===null&&n(V,ce),j=d(qe,j,we),Pe===null?de=qe:Pe.sibling=qe,Pe=qe,ce=Ie}if(we===U.length)return s(V,ce),Me&&Vi(V,we),de;if(ce===null){for(;we<U.length;we++)ce=Y(V,U[we],Q),ce!==null&&(j=d(ce,j,we),Pe===null?de=ce:Pe.sibling=ce,Pe=ce);return Me&&Vi(V,we),de}for(ce=l(ce);we<U.length;we++)Ie=B(ce,V,we,U[we],Q),Ie!==null&&(t&&Ie.alternate!==null&&ce.delete(Ie.key===null?we:Ie.key),j=d(Ie,j,we),Pe===null?de=Ie:Pe.sibling=Ie,Pe=Ie);return t&&ce.forEach(function(Os){return n(V,Os)}),Me&&Vi(V,we),de}function ge(V,j,U,Q){if(U==null)throw Error(a(151));for(var de=null,Pe=null,ce=j,we=j=0,Ie=null,qe=U.next();ce!==null&&!qe.done;we++,qe=U.next()){ce.index>we?(Ie=ce,ce=null):Ie=ce.sibling;var Os=P(V,ce,qe.value,Q);if(Os===null){ce===null&&(ce=Ie);break}t&&ce&&Os.alternate===null&&n(V,ce),j=d(Os,j,we),Pe===null?de=Os:Pe.sibling=Os,Pe=Os,ce=Ie}if(qe.done)return s(V,ce),Me&&Vi(V,we),de;if(ce===null){for(;!qe.done;we++,qe=U.next())qe=Y(V,qe.value,Q),qe!==null&&(j=d(qe,j,we),Pe===null?de=qe:Pe.sibling=qe,Pe=qe);return Me&&Vi(V,we),de}for(ce=l(ce);!qe.done;we++,qe=U.next())qe=B(ce,V,we,qe.value,Q),qe!==null&&(t&&qe.alternate!==null&&ce.delete(qe.key===null?we:qe.key),j=d(qe,j,we),Pe===null?de=qe:Pe.sibling=qe,Pe=qe);return t&&ce.forEach(function(aE){return n(V,aE)}),Me&&Vi(V,we),de}function Je(V,j,U,Q){if(typeof U=="object"&&U!==null&&U.type===J&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case F:e:{for(var de=U.key;j!==null;){if(j.key===de){if(de=U.type,de===J){if(j.tag===7){s(V,j.sibling),Q=h(j,U.props.children),Q.return=V,V=Q;break e}}else if(j.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===A&&Tr(de)===j.type){s(V,j.sibling),Q=h(j,U.props),Pl(Q,U),Q.return=V,V=Q;break e}s(V,j);break}else n(V,j);j=j.sibling}U.type===J?(Q=vr(U.props.children,V.mode,Q,U.key),Q.return=V,V=Q):(Q=vc(U.type,U.key,U.props,null,V.mode,Q),Pl(Q,U),Q.return=V,V=Q)}return y(V);case X:e:{for(de=U.key;j!==null;){if(j.key===de)if(j.tag===4&&j.stateNode.containerInfo===U.containerInfo&&j.stateNode.implementation===U.implementation){s(V,j.sibling),Q=h(j,U.children||[]),Q.return=V,V=Q;break e}else{s(V,j);break}else n(V,j);j=j.sibling}Q=Ch(U,V.mode,Q),Q.return=V,V=Q}return y(V);case A:return U=Tr(U),Je(V,j,U,Q)}if(Rt(U))return oe(V,j,U,Q);if(k(U)){if(de=k(U),typeof de!="function")throw Error(a(150));return U=de.call(U),ge(V,j,U,Q)}if(typeof U.then=="function")return Je(V,j,Ac(U),Q);if(U.$$typeof===ne)return Je(V,j,xc(V,U),Q);wc(V,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,j!==null&&j.tag===6?(s(V,j.sibling),Q=h(j,U),Q.return=V,V=Q):(s(V,j),Q=Nh(U,V.mode,Q),Q.return=V,V=Q),y(V)):s(V,j)}return function(V,j,U,Q){try{zl=0;var de=Je(V,j,U,Q);return pa=null,de}catch(ce){if(ce===ga||ce===Tc)throw ce;var Pe=yn(29,ce,null,V.mode);return Pe.lanes=Q,Pe.return=V,Pe}finally{}}}var Ar=Dg(!0),Mg=Dg(!1),ys=!1;function Ph(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function vs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function _s(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=yc(t),pg(t,null,s),n}return pc(t,l,n,s),yc(t)}function ql(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,ml(t,s)}}function Bh(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=y:d=d.next=y,s=s.next}while(s!==null);d===null?h=d=n:d=d.next=n}else h=d=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var Hh=!1;function Bl(){if(Hh){var t=ma;if(t!==null)throw t}}function Hl(t,n,s,l){Hh=!1;var h=t.updateQueue;ys=!1;var d=h.firstBaseUpdate,y=h.lastBaseUpdate,x=h.shared.pending;if(x!==null){h.shared.pending=null;var C=x,z=C.next;C.next=null,y===null?d=z:y.next=z,y=C;var H=t.alternate;H!==null&&(H=H.updateQueue,x=H.lastBaseUpdate,x!==y&&(x===null?H.firstBaseUpdate=z:x.next=z,H.lastBaseUpdate=C))}if(d!==null){var Y=h.baseState;y=0,H=z=C=null,x=d;do{var P=x.lane&-536870913,B=P!==x.lane;if(B?(Re&P)===P:(l&P)===P){P!==0&&P===fa&&(Hh=!0),H!==null&&(H=H.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var oe=t,ge=x;P=n;var Je=s;switch(ge.tag){case 1:if(oe=ge.payload,typeof oe=="function"){Y=oe.call(Je,Y,P);break e}Y=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=ge.payload,P=typeof oe=="function"?oe.call(Je,Y,P):oe,P==null)break e;Y=S({},Y,P);break e;case 2:ys=!0}}P=x.callback,P!==null&&(t.flags|=64,B&&(t.flags|=8192),B=h.callbacks,B===null?h.callbacks=[P]:B.push(P))}else B={lane:P,tag:x.tag,payload:x.payload,callback:x.callback,next:null},H===null?(z=H=B,C=Y):H=H.next=B,y|=P;if(x=x.next,x===null){if(x=h.shared.pending,x===null)break;B=x,x=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);H===null&&(C=Y),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=H,d===null&&(h.shared.lanes=0),Ss|=y,t.lanes=y,t.memoizedState=Y}}function Og(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Vg(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Og(s[t],n)}var ya=M(null),Nc=M(0);function kg(t,n){t=Qi,se(Nc,t),se(ya,n),Qi=t|n.baseLanes}function Fh(){se(Nc,Qi),se(ya,ya.current)}function Gh(){Qi=Nc.current,K(ya),K(Nc)}var vn=M(null),Mn=null;function bs(t){var n=t.alternate;se(ft,ft.current&1),se(vn,t),Mn===null&&(n===null||ya.current!==null||n.memoizedState!==null)&&(Mn=t)}function Qh(t){se(ft,ft.current),se(vn,t),Mn===null&&(Mn=t)}function Lg(t){t.tag===22?(se(ft,ft.current),se(vn,t),Mn===null&&(Mn=t)):xs()}function xs(){se(ft,ft.current),se(vn,vn.current)}function _n(t){K(vn),Mn===t&&(Mn=null),K(ft)}var ft=M(0);function Cc(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Zd(s)||Wd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ui=0,Te=null,Xe=null,Tt=null,Rc=!1,va=!1,wr=!1,Ic=0,Fl=0,_a=null,$1=0;function ct(){throw Error(a(321))}function Yh(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!pn(t[s],n[s]))return!1;return!0}function Kh(t,n,s,l,h,d){return Ui=d,Te=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?bp:cd,wr=!1,d=s(l,h),wr=!1,va&&(d=zg(n,s,l,h)),Ug(t),d}function Ug(t){G.H=Yl;var n=Xe!==null&&Xe.next!==null;if(Ui=0,Tt=Xe=Te=null,Rc=!1,Fl=0,_a=null,n)throw Error(a(300));t===null||St||(t=t.dependencies,t!==null&&bc(t)&&(St=!0))}function zg(t,n,s,l){Te=t;var h=0;do{if(va&&(_a=null),Fl=0,va=!1,25<=h)throw Error(a(301));if(h+=1,Tt=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=xp,d=n(s,l)}while(va);return d}function J1(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?Gl(n):n,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(Te.flags|=1024),n}function Xh(){var t=Ic!==0;return Ic=0,t}function $h(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function Jh(t){if(Rc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Rc=!1}Ui=0,Tt=Xe=Te=null,va=!1,Fl=Ic=0,_a=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Te.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function mt(){if(Xe===null){var t=Te.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var n=Tt===null?Te.memoizedState:Tt.next;if(n!==null)Tt=n,Xe=t;else{if(t===null)throw Te.alternate===null?Error(a(467)):Error(a(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},Tt===null?Te.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function jc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gl(t){var n=Fl;return Fl+=1,_a===null&&(_a=[]),t=Rg(_a,t,n),n=Te,(Tt===null?n.memoizedState:Tt.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?bp:cd),t}function Dc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Gl(t);if(t.$$typeof===ne)return Ft(t)}throw Error(a(438,String(t)))}function Zh(t){var n=null,s=Te.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Te.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=jc(),Te.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=O;return n.index++,s}function zi(t,n){return typeof n=="function"?n(t):n}function Mc(t){var n=mt();return Wh(n,Xe,t)}function Wh(t,n,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var y=h.next;h.next=d.next,d.next=y}n.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{n=h.next;var x=y=null,C=null,z=n,H=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(Re&Y)===Y:(Ui&Y)===Y){var P=z.revertLane;if(P===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===fa&&(H=!0);else if((Ui&P)===P){z=z.next,P===fa&&(H=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(x=C=Y,y=d):C=C.next=Y,Te.lanes|=P,Ss|=P;Y=z.action,wr&&s(d,Y),d=z.hasEagerState?z.eagerState:s(d,Y)}else P={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(x=C=P,y=d):C=C.next=P,Te.lanes|=Y,Ss|=Y;z=z.next}while(z!==null&&z!==n);if(C===null?y=d:C.next=x,!pn(d,t.memoizedState)&&(St=!0,H&&(s=ma,s!==null)))throw s;t.memoizedState=d,t.baseState=y,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ed(t){var n=mt(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,d=n.memoizedState;if(h!==null){s.pending=null;var y=h=h.next;do d=t(d,y.action),y=y.next;while(y!==h);pn(d,n.memoizedState)||(St=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,l]}function Pg(t,n,s){var l=Te,h=mt(),d=Me;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=n();var y=!pn((Xe||h).memoizedState,s);if(y&&(h.memoizedState=s,St=!0),h=h.queue,id(Hg.bind(null,l,h,t),[t]),h.getSnapshot!==n||y||Tt!==null&&Tt.memoizedState.tag&1){if(l.flags|=2048,ba(9,{destroy:void 0},Bg.bind(null,l,h,s,n),null),We===null)throw Error(a(349));d||(Ui&127)!==0||qg(l,n,s)}return s}function qg(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Te.updateQueue,n===null?(n=jc(),Te.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Bg(t,n,s,l){n.value=s,n.getSnapshot=l,Fg(n)&&Gg(t)}function Hg(t,n,s){return s(function(){Fg(n)&&Gg(t)})}function Fg(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!pn(t,s)}catch{return!0}}function Gg(t){var n=yr(t,2);n!==null&&dn(n,t,2)}function td(t){var n=sn();if(typeof t=="function"){var s=t;if(t=s(),wr){Tn(!0);try{s()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:t},n}function Qg(t,n,s,l){return t.baseState=s,Wh(t,Xe,typeof l=="function"?l:zi)}function Z1(t,n,s,l,h){if(kc(t))throw Error(a(485));if(t=n.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};G.T!==null?s(!0):d.isTransition=!1,l(d),s=n.pending,s===null?(d.next=n.pending=d,Yg(n,d)):(d.next=s.next,n.pending=s.next=d)}}function Yg(t,n){var s=n.action,l=n.payload,h=t.state;if(n.isTransition){var d=G.T,y={};G.T=y;try{var x=s(h,l),C=G.S;C!==null&&C(y,x),Kg(t,n,x)}catch(z){nd(t,n,z)}finally{d!==null&&y.types!==null&&(d.types=y.types),G.T=d}}else try{d=s(h,l),Kg(t,n,d)}catch(z){nd(t,n,z)}}function Kg(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Xg(t,n,l)},function(l){return nd(t,n,l)}):Xg(t,n,s)}function Xg(t,n,s){n.status="fulfilled",n.value=s,$g(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Yg(t,s)))}function nd(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,$g(n),n=n.next;while(n!==l)}t.action=null}function $g(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Jg(t,n){return n}function Zg(t,n){if(Me){var s=We.formState;if(s!==null){e:{var l=Te;if(Me){if(et){t:{for(var h=et,d=Dn;h.nodeType!==8;){if(!d){h=null;break t}if(h=On(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){et=On(h.nextSibling),l=h.data==="F!";break e}}gs(l)}l=!1}l&&(n=s[0])}}return s=sn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jg,lastRenderedState:n},s.queue=l,s=yp.bind(null,Te,l),l.dispatch=s,l=td(!1),d=od.bind(null,Te,!1,l.queue),l=sn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,s=Z1.bind(null,Te,h,d,s),h.dispatch=s,l.memoizedState=t,[n,s,!1]}function Wg(t){var n=mt();return ep(n,Xe,t)}function ep(t,n,s){if(n=Wh(t,n,Jg)[0],t=Mc(zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Gl(n)}catch(y){throw y===ga?Tc:y}else l=n;n=mt();var h=n.queue,d=h.dispatch;return s!==n.memoizedState&&(Te.flags|=2048,ba(9,{destroy:void 0},W1.bind(null,h,s),null)),[l,d,t]}function W1(t,n){t.action=n}function tp(t){var n=mt(),s=Xe;if(s!==null)return ep(n,s,t);mt(),n=n.memoizedState,s=mt();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function ba(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=Te.updateQueue,n===null&&(n=jc(),Te.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function np(){return mt().memoizedState}function Oc(t,n,s,l){var h=sn();Te.flags|=t,h.memoizedState=ba(1|n,{destroy:void 0},s,l===void 0?null:l)}function Vc(t,n,s,l){var h=mt();l=l===void 0?null:l;var d=h.memoizedState.inst;Xe!==null&&l!==null&&Yh(l,Xe.memoizedState.deps)?h.memoizedState=ba(n,d,s,l):(Te.flags|=t,h.memoizedState=ba(1|n,d,s,l))}function ip(t,n){Oc(8390656,8,t,n)}function id(t,n){Vc(2048,8,t,n)}function ex(t){Te.flags|=4;var n=Te.updateQueue;if(n===null)n=jc(),Te.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function sp(t){var n=mt().memoizedState;return ex({ref:n,nextImpl:t}),function(){if((He&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function rp(t,n){return Vc(4,2,t,n)}function ap(t,n){return Vc(4,4,t,n)}function lp(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function op(t,n,s){s=s!=null?s.concat([t]):null,Vc(4,4,lp.bind(null,n,t),s)}function sd(){}function cp(t,n){var s=mt();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&Yh(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function up(t,n){var s=mt();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&Yh(n,l[1]))return l[0];if(l=t(),wr){Tn(!0);try{t()}finally{Tn(!1)}}return s.memoizedState=[l,n],l}function rd(t,n,s){return s===void 0||(Ui&1073741824)!==0&&(Re&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=hy(),Te.lanes|=t,Ss|=t,s)}function hp(t,n,s,l){return pn(s,n)?s:ya.current!==null?(t=rd(t,s,l),pn(t,n)||(St=!0),t):(Ui&42)===0||(Ui&1073741824)!==0&&(Re&261930)===0?(St=!0,t.memoizedState=s):(t=hy(),Te.lanes|=t,Ss|=t,n)}function dp(t,n,s,l,h){var d=ie.p;ie.p=d!==0&&8>d?d:8;var y=G.T,x={};G.T=x,od(t,!1,n,s);try{var C=h(),z=G.S;if(z!==null&&z(x,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var H=X1(C,l);Ql(t,n,H,En(t))}else Ql(t,n,l,En(t))}catch(Y){Ql(t,n,{then:function(){},status:"rejected",reason:Y},En())}finally{ie.p=d,y!==null&&x.types!==null&&(y.types=x.types),G.T=y}}function tx(){}function ad(t,n,s,l){if(t.tag!==5)throw Error(a(476));var h=fp(t).queue;dp(t,h,n,fe,s===null?tx:function(){return mp(t),s(l)})}function fp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:fe},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function mp(t){var n=fp(t);n.next===null&&(n=t.alternate.memoizedState),Ql(t,n.next.queue,{},En())}function ld(){return Ft(co)}function gp(){return mt().memoizedState}function pp(){return mt().memoizedState}function nx(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=En();t=vs(s);var l=_s(n,t,s);l!==null&&(dn(l,n,s),ql(l,n,s)),n={cache:kh()},t.payload=n;return}n=n.return}}function ix(t,n,s){var l=En();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},kc(t)?vp(n,s):(s=Ah(t,n,s,l),s!==null&&(dn(s,t,l),_p(s,n,l)))}function yp(t,n,s){var l=En();Ql(t,n,s,l)}function Ql(t,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(kc(t))vp(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var y=n.lastRenderedState,x=d(y,s);if(h.hasEagerState=!0,h.eagerState=x,pn(x,y))return pc(t,n,h,0),We===null&&gc(),!1}catch{}finally{}if(s=Ah(t,n,h,l),s!==null)return dn(s,t,l),_p(s,n,l),!0}return!1}function od(t,n,s,l){if(l={lane:2,revertLane:Pd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},kc(t)){if(n)throw Error(a(479))}else n=Ah(t,s,l,2),n!==null&&dn(n,t,2)}function kc(t){var n=t.alternate;return t===Te||n!==null&&n===Te}function vp(t,n){va=Rc=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function _p(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,ml(t,s)}}var Yl={readContext:Ft,use:Dc,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};Yl.useEffectEvent=ct;var bp={readContext:Ft,use:Dc,useCallback:function(t,n){return sn().memoizedState=[t,n===void 0?null:n],t},useContext:Ft,useEffect:ip,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Oc(4194308,4,lp.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Oc(4194308,4,t,n)},useInsertionEffect:function(t,n){Oc(4,2,t,n)},useMemo:function(t,n){var s=sn();n=n===void 0?null:n;var l=t();if(wr){Tn(!0);try{t()}finally{Tn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=sn();if(s!==void 0){var h=s(n);if(wr){Tn(!0);try{s(n)}finally{Tn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=ix.bind(null,Te,t),[l.memoizedState,t]},useRef:function(t){var n=sn();return t={current:t},n.memoizedState=t},useState:function(t){t=td(t);var n=t.queue,s=yp.bind(null,Te,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:sd,useDeferredValue:function(t,n){var s=sn();return rd(s,t,n)},useTransition:function(){var t=td(!1);return t=dp.bind(null,Te,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=Te,h=sn();if(Me){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),We===null)throw Error(a(349));(Re&127)!==0||qg(l,n,s)}h.memoizedState=s;var d={value:s,getSnapshot:n};return h.queue=d,ip(Hg.bind(null,l,d,t),[t]),l.flags|=2048,ba(9,{destroy:void 0},Bg.bind(null,l,d,s,n),null),s},useId:function(){var t=sn(),n=We.identifierPrefix;if(Me){var s=yi,l=pi;s=(l&~(1<<32-ht(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Ic++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=$1++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:ld,useFormState:Zg,useActionState:Zg,useOptimistic:function(t){var n=sn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=od.bind(null,Te,!0,s),s.dispatch=n,[t,n]},useMemoCache:Zh,useCacheRefresh:function(){return sn().memoizedState=nx.bind(null,Te)},useEffectEvent:function(t){var n=sn(),s={impl:t};return n.memoizedState=s,function(){if((He&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},cd={readContext:Ft,use:Dc,useCallback:cp,useContext:Ft,useEffect:id,useImperativeHandle:op,useInsertionEffect:rp,useLayoutEffect:ap,useMemo:up,useReducer:Mc,useRef:np,useState:function(){return Mc(zi)},useDebugValue:sd,useDeferredValue:function(t,n){var s=mt();return hp(s,Xe.memoizedState,t,n)},useTransition:function(){var t=Mc(zi)[0],n=mt().memoizedState;return[typeof t=="boolean"?t:Gl(t),n]},useSyncExternalStore:Pg,useId:gp,useHostTransitionStatus:ld,useFormState:Wg,useActionState:Wg,useOptimistic:function(t,n){var s=mt();return Qg(s,Xe,t,n)},useMemoCache:Zh,useCacheRefresh:pp};cd.useEffectEvent=sp;var xp={readContext:Ft,use:Dc,useCallback:cp,useContext:Ft,useEffect:id,useImperativeHandle:op,useInsertionEffect:rp,useLayoutEffect:ap,useMemo:up,useReducer:ed,useRef:np,useState:function(){return ed(zi)},useDebugValue:sd,useDeferredValue:function(t,n){var s=mt();return Xe===null?rd(s,t,n):hp(s,Xe.memoizedState,t,n)},useTransition:function(){var t=ed(zi)[0],n=mt().memoizedState;return[typeof t=="boolean"?t:Gl(t),n]},useSyncExternalStore:Pg,useId:gp,useHostTransitionStatus:ld,useFormState:tp,useActionState:tp,useOptimistic:function(t,n){var s=mt();return Xe!==null?Qg(s,Xe,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Zh,useCacheRefresh:pp};xp.useEffectEvent=sp;function ud(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:S({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var hd={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=En(),h=vs(l);h.payload=n,s!=null&&(h.callback=s),n=_s(t,h,l),n!==null&&(dn(n,t,l),ql(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=En(),h=vs(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=_s(t,h,l),n!==null&&(dn(n,t,l),ql(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=En(),l=vs(s);l.tag=2,n!=null&&(l.callback=n),n=_s(t,l,s),n!==null&&(dn(n,t,s),ql(n,t,s))}};function Ep(t,n,s,l,h,d,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,y):n.prototype&&n.prototype.isPureReactComponent?!Ml(s,l)||!Ml(h,d):!0}function Tp(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&hd.enqueueReplaceState(n,n.state,null)}function Nr(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=S({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function Sp(t){mc(t)}function Ap(t){console.error(t)}function wp(t){mc(t)}function Lc(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Np(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function dd(t,n,s){return s=vs(s),s.tag=3,s.payload={element:null},s.callback=function(){Lc(t,n)},s}function Cp(t){return t=vs(t),t.tag=3,t}function Rp(t,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Np(n,s,l)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Np(n,s,l),typeof h!="function"&&(As===null?As=new Set([this]):As.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function sx(t,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&da(n,s,h,!0),s=vn.current,s!==null){switch(s.tag){case 31:case 13:return Mn===null?Xc():s.alternate===null&&ut===0&&(ut=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Sc?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Ld(t,l,h)),!1;case 22:return s.flags|=65536,l===Sc?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Ld(t,l,h)),!1}throw Error(a(435,s.tag))}return Ld(t,l,h),Xc(),!1}if(Me)return n=vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==jh&&(t=Error(a(422),{cause:l}),kl(Rn(t,s)))):(l!==jh&&(n=Error(a(423),{cause:l}),kl(Rn(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Rn(l,s),h=dd(t.stateNode,l,h),Bh(t,h),ut!==4&&(ut=2)),!1;var d=Error(a(520),{cause:l});if(d=Rn(d,s),to===null?to=[d]:to.push(d),ut!==4&&(ut=2),n===null)return!0;l=Rn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=dd(s.stateNode,l,t),Bh(s,t),!1;case 1:if(n=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(As===null||!As.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Cp(h),Rp(h,t,s,l),Bh(s,h),!1}s=s.return}while(s!==null);return!1}var fd=Error(a(461)),St=!1;function Gt(t,n,s,l){n.child=t===null?Mg(n,null,s,l):Ar(n,t.child,s,l)}function Ip(t,n,s,l,h){s=s.render;var d=n.ref;if("ref"in l){var y={};for(var x in l)x!=="ref"&&(y[x]=l[x])}else y=l;return xr(n),l=Kh(t,n,s,y,d,h),x=Xh(),t!==null&&!St?($h(t,n,h),Pi(t,n,h)):(Me&&x&&Rh(n),n.flags|=1,Gt(t,n,l,h),n.child)}function jp(t,n,s,l,h){if(t===null){var d=s.type;return typeof d=="function"&&!wh(d)&&d.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=d,Dp(t,n,d,l,h)):(t=vc(s.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!xd(t,h)){var y=d.memoizedProps;if(s=s.compare,s=s!==null?s:Ml,s(y,l)&&t.ref===n.ref)return Pi(t,n,h)}return n.flags|=1,t=Oi(d,l),t.ref=n.ref,t.return=n,n.child=t}function Dp(t,n,s,l,h){if(t!==null){var d=t.memoizedProps;if(Ml(d,l)&&t.ref===n.ref)if(St=!1,n.pendingProps=l=d,xd(t,h))(t.flags&131072)!==0&&(St=!0);else return n.lanes=t.lanes,Pi(t,n,h)}return md(t,n,s,l,h)}function Mp(t,n,s,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,n.child=null;return Op(t,n,d,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ec(n,d!==null?d.cachePool:null),d!==null?kg(n,d):Fh(),Lg(n);else return l=n.lanes=536870912,Op(t,n,d!==null?d.baseLanes|s:s,s,l)}else d!==null?(Ec(n,d.cachePool),kg(n,d),xs(),n.memoizedState=null):(t!==null&&Ec(n,null),Fh(),xs());return Gt(t,n,h,s),n.child}function Kl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Op(t,n,s,l,h){var d=Uh();return d=d===null?null:{parent:Et._currentValue,pool:d},n.memoizedState={baseLanes:s,cachePool:d},t!==null&&Ec(n,null),Fh(),Lg(n),t!==null&&da(t,n,l,!0),n.childLanes=h,null}function Uc(t,n){return n=Pc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Vp(t,n,s){return Ar(n,t.child,null,s),t=Uc(n,n.pendingProps),t.flags|=2,_n(n),n.memoizedState=null,t}function rx(t,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Me){if(l.mode==="hidden")return t=Uc(n,l),n.lanes=536870912,Kl(null,t);if(Qh(n),(t=et)?(t=Yy(t,Dn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:fs!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},s=vg(t),s.return=n,n.child=s,Ht=n,et=null)):t=null,t===null)throw gs(n);return n.lanes=536870912,null}return Uc(n,l)}var d=t.memoizedState;if(d!==null){var y=d.dehydrated;if(Qh(n),h)if(n.flags&256)n.flags&=-257,n=Vp(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(St||da(t,n,s,!1),h=(s&t.childLanes)!==0,St||h){if(l=We,l!==null&&(y=gl(l,s),y!==0&&y!==d.retryLane))throw d.retryLane=y,yr(t,y),dn(l,t,y),fd;Xc(),n=Vp(t,n,s)}else t=d.treeContext,et=On(y.nextSibling),Ht=n,Me=!0,ms=null,Dn=!1,t!==null&&xg(n,t),n=Uc(n,l),n.flags|=4096;return n}return t=Oi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function zc(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function md(t,n,s,l,h){return xr(n),s=Kh(t,n,s,l,void 0,h),l=Xh(),t!==null&&!St?($h(t,n,h),Pi(t,n,h)):(Me&&l&&Rh(n),n.flags|=1,Gt(t,n,s,h),n.child)}function kp(t,n,s,l,h,d){return xr(n),n.updateQueue=null,s=zg(n,l,s,h),Ug(t),l=Xh(),t!==null&&!St?($h(t,n,d),Pi(t,n,d)):(Me&&l&&Rh(n),n.flags|=1,Gt(t,n,s,d),n.child)}function Lp(t,n,s,l,h){if(xr(n),n.stateNode===null){var d=oa,y=s.contextType;typeof y=="object"&&y!==null&&(d=Ft(y)),d=new s(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=hd,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},Ph(n),y=s.contextType,d.context=typeof y=="object"&&y!==null?Ft(y):oa,d.state=n.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(ud(n,s,y,l),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&hd.enqueueReplaceState(d,d.state,null),Hl(n,l,d,h),Bl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){d=n.stateNode;var x=n.memoizedProps,C=Nr(s,x);d.props=C;var z=d.context,H=s.contextType;y=oa,typeof H=="object"&&H!==null&&(y=Ft(H));var Y=s.getDerivedStateFromProps;H=typeof Y=="function"||typeof d.getSnapshotBeforeUpdate=="function",x=n.pendingProps!==x,H||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x||z!==y)&&Tp(n,d,l,y),ys=!1;var P=n.memoizedState;d.state=P,Hl(n,l,d,h),Bl(),z=n.memoizedState,x||P!==z||ys?(typeof Y=="function"&&(ud(n,s,Y,l),z=n.memoizedState),(C=ys||Ep(n,s,C,l,P,z,y))?(H||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),d.props=l,d.state=z,d.context=y,l=C):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,qh(t,n),y=n.memoizedProps,H=Nr(s,y),d.props=H,Y=n.pendingProps,P=d.context,z=s.contextType,C=oa,typeof z=="object"&&z!==null&&(C=Ft(z)),x=s.getDerivedStateFromProps,(z=typeof x=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==Y||P!==C)&&Tp(n,d,l,C),ys=!1,P=n.memoizedState,d.state=P,Hl(n,l,d,h),Bl();var B=n.memoizedState;y!==Y||P!==B||ys||t!==null&&t.dependencies!==null&&bc(t.dependencies)?(typeof x=="function"&&(ud(n,s,x,l),B=n.memoizedState),(H=ys||Ep(n,s,H,l,P,B,C)||t!==null&&t.dependencies!==null&&bc(t.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,B,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,B,C)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),d.props=l,d.state=B,d.context=C,l=H):(typeof d.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return d=l,zc(t,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&l?(n.child=Ar(n,t.child,null,h),n.child=Ar(n,null,s,h)):Gt(t,n,s,h),n.memoizedState=d.state,t=n.child):t=Pi(t,n,h),t}function Up(t,n,s,l){return _r(),n.flags|=256,Gt(t,n,s,l),n.child}var gd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pd(t){return{baseLanes:t,cachePool:Ng()}}function yd(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=xn),t}function zp(t,n,s){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,y;if((y=d)||(y=t!==null&&t.memoizedState===null?!1:(ft.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Me){if(h?bs(n):xs(),(t=et)?(t=Yy(t,Dn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:fs!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},s=vg(t),s.return=n,n.child=s,Ht=n,et=null)):t=null,t===null)throw gs(n);return Wd(t)?n.lanes=32:n.lanes=536870912,null}var x=l.children;return l=l.fallback,h?(xs(),h=n.mode,x=Pc({mode:"hidden",children:x},h),l=vr(l,h,s,null),x.return=n,l.return=n,x.sibling=l,n.child=x,l=n.child,l.memoizedState=pd(s),l.childLanes=yd(t,y,s),n.memoizedState=gd,Kl(null,l)):(bs(n),vd(n,x))}var C=t.memoizedState;if(C!==null&&(x=C.dehydrated,x!==null)){if(d)n.flags&256?(bs(n),n.flags&=-257,n=_d(t,n,s)):n.memoizedState!==null?(xs(),n.child=t.child,n.flags|=128,n=null):(xs(),x=l.fallback,h=n.mode,l=Pc({mode:"visible",children:l.children},h),x=vr(x,h,s,null),x.flags|=2,l.return=n,x.return=n,l.sibling=x,n.child=l,Ar(n,t.child,null,s),l=n.child,l.memoizedState=pd(s),l.childLanes=yd(t,y,s),n.memoizedState=gd,n=Kl(null,l));else if(bs(n),Wd(x)){if(y=x.nextSibling&&x.nextSibling.dataset,y)var z=y.dgst;y=z,l=Error(a(419)),l.stack="",l.digest=y,kl({value:l,source:null,stack:null}),n=_d(t,n,s)}else if(St||da(t,n,s,!1),y=(s&t.childLanes)!==0,St||y){if(y=We,y!==null&&(l=gl(y,s),l!==0&&l!==C.retryLane))throw C.retryLane=l,yr(t,l),dn(y,t,l),fd;Zd(x)||Xc(),n=_d(t,n,s)}else Zd(x)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,et=On(x.nextSibling),Ht=n,Me=!0,ms=null,Dn=!1,t!==null&&xg(n,t),n=vd(n,l.children),n.flags|=4096);return n}return h?(xs(),x=l.fallback,h=n.mode,C=t.child,z=C.sibling,l=Oi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,z!==null?x=Oi(z,x):(x=vr(x,h,s,null),x.flags|=2),x.return=n,l.return=n,l.sibling=x,n.child=l,Kl(null,l),l=n.child,x=t.child.memoizedState,x===null?x=pd(s):(h=x.cachePool,h!==null?(C=Et._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Ng(),x={baseLanes:x.baseLanes|s,cachePool:h}),l.memoizedState=x,l.childLanes=yd(t,y,s),n.memoizedState=gd,Kl(t.child,l)):(bs(n),s=t.child,t=s.sibling,s=Oi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=s,n.memoizedState=null,s)}function vd(t,n){return n=Pc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Pc(t,n){return t=yn(22,t,null,n),t.lanes=0,t}function _d(t,n,s){return Ar(n,t.child,null,s),t=vd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Pp(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Oh(t.return,n,s)}function bd(t,n,s,l,h,d){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:d}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=s,y.tailMode=h,y.treeForkCount=d)}function qp(t,n,s){var l=n.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var y=ft.current,x=(y&2)!==0;if(x?(y=y&1|2,n.flags|=128):y&=1,se(ft,y),Gt(t,n,l,s),l=Me?Vl:0,!x&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Pp(t,s,n);else if(t.tag===19)Pp(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&Cc(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),bd(n,!1,h,s,d,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Cc(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}bd(n,!0,s,null,d,l);break;case"together":bd(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Pi(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Ss|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(da(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=Oi(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Oi(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function xd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&bc(t)))}function ax(t,n,s){switch(n.tag){case 3:It(n,n.stateNode.containerInfo),ps(n,Et,t.memoizedState.cache),_r();break;case 27:case 5:Ws(n);break;case 4:It(n,n.stateNode.containerInfo);break;case 10:ps(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Qh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(bs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?zp(t,n,s):(bs(n),t=Pi(t,n,s),t!==null?t.sibling:null);bs(n);break;case 19:var h=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(da(t,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return qp(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(ft,ft.current),l)break;return null;case 22:return n.lanes=0,Mp(t,n,s,n.pendingProps);case 24:ps(n,Et,t.memoizedState.cache)}return Pi(t,n,s)}function Bp(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)St=!0;else{if(!xd(t,s)&&(n.flags&128)===0)return St=!1,ax(t,n,s);St=(t.flags&131072)!==0}else St=!1,Me&&(n.flags&1048576)!==0&&bg(n,Vl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Tr(n.elementType),n.type=t,typeof t=="function")wh(t)?(l=Nr(t,l),n.tag=1,n=Lp(null,n,t,l,s)):(n.tag=0,n=md(null,n,t,l,s));else{if(t!=null){var h=t.$$typeof;if(h===me){n.tag=11,n=Ip(null,n,t,l,s);break e}else if(h===R){n.tag=14,n=jp(null,n,t,l,s);break e}}throw n=nt(t)||t,Error(a(306,n,""))}}return n;case 0:return md(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=Nr(l,n.pendingProps),Lp(t,n,l,h,s);case 3:e:{if(It(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var d=n.memoizedState;h=d.element,qh(t,n),Hl(n,l,null,s);var y=n.memoizedState;if(l=y.cache,ps(n,Et,l),l!==d.cache&&Vh(n,[Et],s,!0),Bl(),l=y.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=Up(t,n,l,s);break e}else if(l!==h){h=Rn(Error(a(424)),n),kl(h),n=Up(t,n,l,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(et=On(t.firstChild),Ht=n,Me=!0,ms=null,Dn=!0,s=Mg(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(_r(),l===h){n=Pi(t,n,s);break e}Gt(t,n,l,s)}n=n.child}return n;case 26:return zc(t,n),t===null?(s=Wy(n.type,null,n.pendingProps,null))?n.memoizedState=s:Me||(s=n.type,t=n.pendingProps,l=nu(Ae.current).createElement(s),l[_t]=n,l[Lt]=t,Qt(l,s,t),bt(l),n.stateNode=l):n.memoizedState=Wy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ws(n),t===null&&Me&&(l=n.stateNode=$y(n.type,n.pendingProps,Ae.current),Ht=n,Dn=!0,h=et,Rs(n.type)?(ef=h,et=On(l.firstChild)):et=h),Gt(t,n,n.pendingProps.children,s),zc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Me&&((h=l=et)&&(l=kx(l,n.type,n.pendingProps,Dn),l!==null?(n.stateNode=l,Ht=n,et=On(l.firstChild),Dn=!1,h=!0):h=!1),h||gs(n)),Ws(n),h=n.type,d=n.pendingProps,y=t!==null?t.memoizedProps:null,l=d.children,Xd(h,d)?l=null:y!==null&&Xd(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=Kh(t,n,J1,null,null,s),co._currentValue=h),zc(t,n),Gt(t,n,l,s),n.child;case 6:return t===null&&Me&&((t=s=et)&&(s=Lx(s,n.pendingProps,Dn),s!==null?(n.stateNode=s,Ht=n,et=null,t=!0):t=!1),t||gs(n)),null;case 13:return zp(t,n,s);case 4:return It(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ar(n,null,l,s):Gt(t,n,l,s),n.child;case 11:return Ip(t,n,n.type,n.pendingProps,s);case 7:return Gt(t,n,n.pendingProps,s),n.child;case 8:return Gt(t,n,n.pendingProps.children,s),n.child;case 12:return Gt(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,ps(n,n.type,l.value),Gt(t,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,xr(n),h=Ft(h),l=l(h),n.flags|=1,Gt(t,n,l,s),n.child;case 14:return jp(t,n,n.type,n.pendingProps,s);case 15:return Dp(t,n,n.type,n.pendingProps,s);case 19:return qp(t,n,s);case 31:return rx(t,n,s);case 22:return Mp(t,n,s,n.pendingProps);case 24:return xr(n),l=Ft(Et),t===null?(h=Uh(),h===null&&(h=We,d=kh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),n.memoizedState={parent:l,cache:h},Ph(n),ps(n,Et,h)):((t.lanes&s)!==0&&(qh(t,n),Hl(n,null,null,s),Bl()),h=t.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ps(n,Et,l)):(l=d.cache,ps(n,Et,l),l!==h.cache&&Vh(n,[Et],s,!0))),Gt(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function qi(t){t.flags|=4}function Ed(t,n,s,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(gy())t.flags|=8192;else throw Sr=Sc,zh}else t.flags&=-16777217}function Hp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!s0(n))if(gy())t.flags|=8192;else throw Sr=Sc,zh}function qc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Yo():536870912,t.lanes|=n,Sa|=n)}function Xl(t,n){if(!Me)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function tt(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function lx(t,n,s){var l=n.pendingProps;switch(Ih(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(n),null;case 1:return tt(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Li(Et),it(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(ha(n)?qi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Dh())),tt(n),null;case 26:var h=n.type,d=n.memoizedState;return t===null?(qi(n),d!==null?(tt(n),Hp(n,d)):(tt(n),Ed(n,h,null,l,s))):d?d!==t.memoizedState?(qi(n),tt(n),Hp(n,d)):(tt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&qi(n),tt(n),Ed(n,h,t,l,s)),null;case 27:if(Hr(n),s=Ae.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&qi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return tt(n),null}t=re.current,ha(n)?Eg(n):(t=$y(h,l,s),n.stateNode=t,qi(n))}return tt(n),null;case 5:if(Hr(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&qi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return tt(n),null}if(d=re.current,ha(n))Eg(n);else{var y=nu(Ae.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?y.createElement(h,{is:l.is}):y.createElement(h)}}d[_t]=n,d[Lt]=l;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=d;e:switch(Qt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&qi(n)}}return tt(n),Ed(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&qi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Ae.current,ha(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,h=Ht,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[_t]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||zy(t.nodeValue,s)),t||gs(n,!0)}else t=nu(t).createTextNode(l),t[_t]=n,n.stateNode=t}return tt(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=ha(n),s!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[_t]=n}else _r(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;tt(n),t=!1}else s=Dh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(_n(n),n):(_n(n),null);if((n.flags&128)!==0)throw Error(a(558))}return tt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ha(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[_t]=n}else _r(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;tt(n),h=!1}else h=Dh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(_n(n),n):(_n(n),null)}return _n(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),qc(n,n.updateQueue),tt(n),null);case 4:return it(),t===null&&Fd(n.stateNode.containerInfo),tt(n),null;case 10:return Li(n.type),tt(n),null;case 19:if(K(ft),l=n.memoizedState,l===null)return tt(n),null;if(h=(n.flags&128)!==0,d=l.rendering,d===null)if(h)Xl(l,!1);else{if(ut!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=Cc(t),d!==null){for(n.flags|=128,Xl(l,!1),t=d.updateQueue,n.updateQueue=t,qc(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)yg(s,t),s=s.sibling;return se(ft,ft.current&1|2),Me&&Vi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&tn()>Qc&&(n.flags|=128,h=!0,Xl(l,!1),n.lanes=4194304)}else{if(!h)if(t=Cc(d),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,qc(n,t),Xl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Me)return tt(n),null}else 2*tn()-l.renderingStartTime>Qc&&s!==536870912&&(n.flags|=128,h=!0,Xl(l,!1),n.lanes=4194304);l.isBackwards?(d.sibling=n.child,n.child=d):(t=l.last,t!==null?t.sibling=d:n.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=tn(),t.sibling=null,s=ft.current,se(ft,h?s&1|2:s&1),Me&&Vi(n,l.treeForkCount),t):(tt(n),null);case 22:case 23:return _n(n),Gh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(tt(n),n.subtreeFlags&6&&(n.flags|=8192)):tt(n),s=n.updateQueue,s!==null&&qc(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&K(Er),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Li(Et),tt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function ox(t,n){switch(Ih(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Li(Et),it(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Hr(n),null;case 31:if(n.memoizedState!==null){if(_n(n),n.alternate===null)throw Error(a(340));_r()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(_n(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));_r()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(ft),null;case 4:return it(),null;case 10:return Li(n.type),null;case 22:case 23:return _n(n),Gh(),t!==null&&K(Er),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Li(Et),null;case 25:return null;default:return null}}function Fp(t,n){switch(Ih(n),n.tag){case 3:Li(Et),it();break;case 26:case 27:case 5:Hr(n);break;case 4:it();break;case 31:n.memoizedState!==null&&_n(n);break;case 13:_n(n);break;case 19:K(ft);break;case 10:Li(n.type);break;case 22:case 23:_n(n),Gh(),t!==null&&K(Er);break;case 24:Li(Et)}}function $l(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var d=s.create,y=s.inst;l=d(),y.destroy=l}s=s.next}while(s!==h)}}catch(x){Ye(n,n.return,x)}}function Es(t,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var y=l.inst,x=y.destroy;if(x!==void 0){y.destroy=void 0,h=n;var C=s,z=x;try{z()}catch(H){Ye(h,C,H)}}}l=l.next}while(l!==d)}}catch(H){Ye(n,n.return,H)}}function Gp(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Vg(n,s)}catch(l){Ye(t,t.return,l)}}}function Qp(t,n,s){s.props=Nr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Ye(t,n,l)}}function Jl(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){Ye(t,n,h)}}function vi(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Ye(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Ye(t,n,h)}else s.current=null}function Yp(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Ye(t,t.return,h)}}function Td(t,n,s){try{var l=t.stateNode;Ix(l,t.type,s,n),l[Lt]=n}catch(h){Ye(t,t.return,h)}}function Kp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Rs(t.type)||t.tag===4}function Sd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Kp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Rs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ad(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Bn));else if(l!==4&&(l===27&&Rs(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Ad(t,n,s),t=t.sibling;t!==null;)Ad(t,n,s),t=t.sibling}function Bc(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&Rs(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Bc(t,n,s),t=t.sibling;t!==null;)Bc(t,n,s),t=t.sibling}function Xp(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Qt(n,l,s),n[_t]=t,n[Lt]=s}catch(d){Ye(t,t.return,d)}}var Bi=!1,At=!1,wd=!1,$p=typeof WeakSet=="function"?WeakSet:Set,zt=null;function cx(t,n){if(t=t.containerInfo,Yd=cu,t=og(t),_h(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var y=0,x=-1,C=-1,z=0,H=0,Y=t,P=null;t:for(;;){for(var B;Y!==s||h!==0&&Y.nodeType!==3||(x=y+h),Y!==d||l!==0&&Y.nodeType!==3||(C=y+l),Y.nodeType===3&&(y+=Y.nodeValue.length),(B=Y.firstChild)!==null;)P=Y,Y=B;for(;;){if(Y===t)break t;if(P===s&&++z===h&&(x=y),P===d&&++H===l&&(C=y),(B=Y.nextSibling)!==null)break;Y=P,P=Y.parentNode}Y=B}s=x===-1||C===-1?null:{start:x,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(Kd={focusedElem:t,selectionRange:s},cu=!1,zt=n;zt!==null;)if(n=zt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,zt=t;else for(;zt!==null;){switch(n=zt,d=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=n,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var oe=Nr(s.type,h);t=l.getSnapshotBeforeUpdate(oe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ge){Ye(s,s.return,ge)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)Jd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Jd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,zt=t;break}zt=n.return}}function Jp(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Fi(t,s),l&4&&$l(5,s);break;case 1:if(Fi(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(y){Ye(s,s.return,y)}else{var h=Nr(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Ye(s,s.return,y)}}l&64&&Gp(s),l&512&&Jl(s,s.return);break;case 3:if(Fi(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Vg(t,n)}catch(y){Ye(s,s.return,y)}}break;case 27:n===null&&l&4&&Xp(s);case 26:case 5:Fi(t,s),n===null&&l&4&&Yp(s),l&512&&Jl(s,s.return);break;case 12:Fi(t,s);break;case 31:Fi(t,s),l&4&&ey(t,s);break;case 13:Fi(t,s),l&4&&ty(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=vx.bind(null,s),Ux(t,s))));break;case 22:if(l=s.memoizedState!==null||Bi,!l){n=n!==null&&n.memoizedState!==null||At,h=Bi;var d=At;Bi=l,(At=n)&&!d?Gi(t,s,(s.subtreeFlags&8772)!==0):Fi(t,s),Bi=h,At=d}break;case 30:break;default:Fi(t,s)}}function Zp(t){var n=t.alternate;n!==null&&(t.alternate=null,Zp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Kr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var rt=null,on=!1;function Hi(t,n,s){for(s=s.child;s!==null;)Wp(t,n,s),s=s.sibling}function Wp(t,n,s){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Un,s)}catch{}switch(s.tag){case 26:At||vi(s,n),Hi(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:At||vi(s,n);var l=rt,h=on;Rs(s.type)&&(rt=s.stateNode,on=!1),Hi(t,n,s),ao(s.stateNode),rt=l,on=h;break;case 5:At||vi(s,n);case 6:if(l=rt,h=on,rt=null,Hi(t,n,s),rt=l,on=h,rt!==null)if(on)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(s.stateNode)}catch(d){Ye(s,n,d)}else try{rt.removeChild(s.stateNode)}catch(d){Ye(s,n,d)}break;case 18:rt!==null&&(on?(t=rt,Gy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Da(t)):Gy(rt,s.stateNode));break;case 4:l=rt,h=on,rt=s.stateNode.containerInfo,on=!0,Hi(t,n,s),rt=l,on=h;break;case 0:case 11:case 14:case 15:Es(2,s,n),At||Es(4,s,n),Hi(t,n,s);break;case 1:At||(vi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Qp(s,n,l)),Hi(t,n,s);break;case 21:Hi(t,n,s);break;case 22:At=(l=At)||s.memoizedState!==null,Hi(t,n,s),At=l;break;default:Hi(t,n,s)}}function ey(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Da(t)}catch(s){Ye(n,n.return,s)}}}function ty(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Da(t)}catch(s){Ye(n,n.return,s)}}function ux(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new $p),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new $p),n;default:throw Error(a(435,t.tag))}}function Hc(t,n){var s=ux(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=_x.bind(null,t,l);l.then(h,h)}})}function cn(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=t,y=n,x=y;e:for(;x!==null;){switch(x.tag){case 27:if(Rs(x.type)){rt=x.stateNode,on=!1;break e}break;case 5:rt=x.stateNode,on=!1;break e;case 3:case 4:rt=x.stateNode.containerInfo,on=!0;break e}x=x.return}if(rt===null)throw Error(a(160));Wp(d,y,h),rt=null,on=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ny(n,t),n=n.sibling}var Kn=null;function ny(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(n,t),un(t),l&4&&(Es(3,t,t.return),$l(3,t),Es(5,t,t.return));break;case 1:cn(n,t),un(t),l&512&&(At||s===null||vi(s,s.return)),l&64&&Bi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Kn;if(cn(n,t),un(t),l&512&&(At||s===null||vi(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[si]||d[_t]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Qt(d,l,s),d[_t]=t,bt(d),l=d;break e;case"link":var y=n0("link","href",h).get(l+(s.href||""));if(y){for(var x=0;x<y.length;x++)if(d=y[x],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(x,1);break t}}d=h.createElement(l),Qt(d,l,s),h.head.appendChild(d);break;case"meta":if(y=n0("meta","content",h).get(l+(s.content||""))){for(x=0;x<y.length;x++)if(d=y[x],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(x,1);break t}}d=h.createElement(l),Qt(d,l,s),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[_t]=t,bt(d),l=d}t.stateNode=l}else i0(h,t.type,t.stateNode);else t.stateNode=t0(h,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?i0(h,t.type,t.stateNode):t0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Td(t,t.memoizedProps,s.memoizedProps)}break;case 27:cn(n,t),un(t),l&512&&(At||s===null||vi(s,s.return)),s!==null&&l&4&&Td(t,t.memoizedProps,s.memoizedProps);break;case 5:if(cn(n,t),un(t),l&512&&(At||s===null||vi(s,s.return)),t.flags&32){h=t.stateNode;try{ln(h,"")}catch(oe){Ye(t,t.return,oe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Td(t,h,s!==null?s.memoizedProps:h)),l&1024&&(wd=!0);break;case 6:if(cn(n,t),un(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(oe){Ye(t,t.return,oe)}}break;case 3:if(ru=null,h=Kn,Kn=iu(n.containerInfo),cn(n,t),Kn=h,un(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Da(n.containerInfo)}catch(oe){Ye(t,t.return,oe)}wd&&(wd=!1,iy(t));break;case 4:l=Kn,Kn=iu(t.stateNode.containerInfo),cn(n,t),un(t),Kn=l;break;case 12:cn(n,t),un(t);break;case 31:cn(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Hc(t,l)));break;case 13:cn(n,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Gc=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Hc(t,l)));break;case 22:h=t.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,z=Bi,H=At;if(Bi=z||h,At=H||C,cn(n,t),At=H,Bi=z,un(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||Bi||At||Cr(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(d=C.stateNode,h)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{x=C.stateNode;var Y=C.memoizedProps.style,P=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;x.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(oe){Ye(C,C.return,oe)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(oe){Ye(C,C.return,oe)}}}else if(n.tag===18){if(s===null){C=n;try{var B=C.stateNode;h?Qy(B,!0):Qy(C.stateNode,!1)}catch(oe){Ye(C,C.return,oe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Hc(t,s))));break;case 19:cn(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Hc(t,l)));break;case 30:break;case 21:break;default:cn(n,t),un(t)}}function un(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(Kp(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,d=Sd(t);Bc(t,d,h);break;case 5:var y=s.stateNode;s.flags&32&&(ln(y,""),s.flags&=-33);var x=Sd(t);Bc(t,x,y);break;case 3:case 4:var C=s.stateNode.containerInfo,z=Sd(t);Ad(t,z,C);break;default:throw Error(a(161))}}catch(H){Ye(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function iy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;iy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Fi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Jp(t,n.alternate,n),n=n.sibling}function Cr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Es(4,n,n.return),Cr(n);break;case 1:vi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Qp(n,n.return,s),Cr(n);break;case 27:ao(n.stateNode);case 26:case 5:vi(n,n.return),Cr(n);break;case 22:n.memoizedState===null&&Cr(n);break;case 30:Cr(n);break;default:Cr(n)}t=t.sibling}}function Gi(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,d=n,y=d.flags;switch(d.tag){case 0:case 11:case 15:Gi(h,d,s),$l(4,d);break;case 1:if(Gi(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Ye(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var x=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Og(C[h],x)}catch(z){Ye(l,l.return,z)}}s&&y&64&&Gp(d),Jl(d,d.return);break;case 27:Xp(d);case 26:case 5:Gi(h,d,s),s&&l===null&&y&4&&Yp(d),Jl(d,d.return);break;case 12:Gi(h,d,s);break;case 31:Gi(h,d,s),s&&y&4&&ey(h,d);break;case 13:Gi(h,d,s),s&&y&4&&ty(h,d);break;case 22:d.memoizedState===null&&Gi(h,d,s),Jl(d,d.return);break;case 30:break;default:Gi(h,d,s)}n=n.sibling}}function Nd(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Ll(s))}function Cd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ll(t))}function Xn(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)sy(t,n,s,l),n=n.sibling}function sy(t,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(t,n,s,l),h&2048&&$l(9,n);break;case 1:Xn(t,n,s,l);break;case 3:Xn(t,n,s,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ll(t)));break;case 12:if(h&2048){Xn(t,n,s,l),t=n.stateNode;try{var d=n.memoizedProps,y=d.id,x=d.onPostCommit;typeof x=="function"&&x(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Ye(n,n.return,C)}}else Xn(t,n,s,l);break;case 31:Xn(t,n,s,l);break;case 13:Xn(t,n,s,l);break;case 23:break;case 22:d=n.stateNode,y=n.alternate,n.memoizedState!==null?d._visibility&2?Xn(t,n,s,l):Zl(t,n):d._visibility&2?Xn(t,n,s,l):(d._visibility|=2,xa(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Nd(y,n);break;case 24:Xn(t,n,s,l),h&2048&&Cd(n.alternate,n);break;default:Xn(t,n,s,l)}}function xa(t,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=t,y=n,x=s,C=l,z=y.flags;switch(y.tag){case 0:case 11:case 15:xa(d,y,x,C,h),$l(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&2?xa(d,y,x,C,h):Zl(d,y):(H._visibility|=2,xa(d,y,x,C,h)),h&&z&2048&&Nd(y.alternate,y);break;case 24:xa(d,y,x,C,h),h&&z&2048&&Cd(y.alternate,y);break;default:xa(d,y,x,C,h)}n=n.sibling}}function Zl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,h=l.flags;switch(l.tag){case 22:Zl(s,l),h&2048&&Nd(l.alternate,l);break;case 24:Zl(s,l),h&2048&&Cd(l.alternate,l);break;default:Zl(s,l)}n=n.sibling}}var Wl=8192;function Ea(t,n,s){if(t.subtreeFlags&Wl)for(t=t.child;t!==null;)ry(t,n,s),t=t.sibling}function ry(t,n,s){switch(t.tag){case 26:Ea(t,n,s),t.flags&Wl&&t.memoizedState!==null&&$x(s,Kn,t.memoizedState,t.memoizedProps);break;case 5:Ea(t,n,s);break;case 3:case 4:var l=Kn;Kn=iu(t.stateNode.containerInfo),Ea(t,n,s),Kn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Wl,Wl=16777216,Ea(t,n,s),Wl=l):Ea(t,n,s));break;default:Ea(t,n,s)}}function ay(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function eo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];zt=l,oy(l,t)}ay(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ly(t),t=t.sibling}function ly(t){switch(t.tag){case 0:case 11:case 15:eo(t),t.flags&2048&&Es(9,t,t.return);break;case 3:eo(t);break;case 12:eo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Fc(t)):eo(t);break;default:eo(t)}}function Fc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];zt=l,oy(l,t)}ay(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Es(8,n,n.return),Fc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Fc(n));break;default:Fc(n)}t=t.sibling}}function oy(t,n){for(;zt!==null;){var s=zt;switch(s.tag){case 0:case 11:case 15:Es(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ll(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,zt=l;else e:for(s=t;zt!==null;){l=zt;var h=l.sibling,d=l.return;if(Zp(l),l===s){zt=null;break e}if(h!==null){h.return=d,zt=h;break e}zt=d}}}var hx={getCacheForType:function(t){var n=Ft(Et),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return Ft(Et).controller.signal}},dx=typeof WeakMap=="function"?WeakMap:Map,He=0,We=null,Ne=null,Re=0,Qe=0,bn=null,Ts=!1,Ta=!1,Rd=!1,Qi=0,ut=0,Ss=0,Rr=0,Id=0,xn=0,Sa=0,to=null,hn=null,jd=!1,Gc=0,cy=0,Qc=1/0,Yc=null,As=null,Dt=0,ws=null,Aa=null,Yi=0,Dd=0,Md=null,uy=null,no=0,Od=null;function En(){return(He&2)!==0&&Re!==0?Re&-Re:G.T!==null?Pd():Ko()}function hy(){if(xn===0)if((Re&536870912)===0||Me){var t=nr;nr<<=1,(nr&3932160)===0&&(nr=262144),xn=t}else xn=536870912;return t=vn.current,t!==null&&(t.flags|=32),xn}function dn(t,n,s){(t===We&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(wa(t,0),Ns(t,Re,xn,!1)),ir(t,s),((He&2)===0||t!==We)&&(t===We&&((He&2)===0&&(Rr|=s),ut===4&&Ns(t,Re,xn,!1)),_i(t))}function dy(t,n,s){if((He&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||zn(t,n),h=l?gx(t,n):kd(t,n,!0),d=l;do{if(h===0){Ta&&!l&&Ns(t,n,0,!1);break}else{if(s=t.current.alternate,d&&!fx(s)){h=kd(t,n,!1),d=!1;continue}if(h===2){if(d=n,t.errorRecoveryDisabledLanes&d)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var x=t;h=to;var C=x.current.memoizedState.isDehydrated;if(C&&(wa(x,y).flags|=256),y=kd(x,y,!1),y!==2){if(Rd&&!C){x.errorRecoveryDisabledLanes|=d,Rr|=d,h=4;break e}d=hn,hn=h,d!==null&&(hn===null?hn=d:hn.push.apply(hn,d))}h=y}if(d=!1,h!==2)continue}}if(h===1){wa(t,0),Ns(t,n,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ns(l,n,xn,!Ts);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Gc+300-tn(),10<h)){if(Ns(l,n,xn,!Ts),ti(l,0,!0)!==0)break e;Yi=n,l.timeoutHandle=Hy(fy.bind(null,l,s,hn,Yc,jd,n,xn,Rr,Sa,Ts,d,"Throttled",-0,0),h);break e}fy(l,s,hn,Yc,jd,n,xn,Rr,Sa,Ts,d,null,-0,0)}}break}while(!0);_i(t)}function fy(t,n,s,l,h,d,y,x,C,z,H,Y,P,B){if(t.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},ry(n,d,Y);var oe=(d&62914560)===d?Gc-tn():(d&4194048)===d?cy-tn():0;if(oe=Jx(Y,oe),oe!==null){Yi=d,t.cancelPendingCommit=oe(xy.bind(null,t,n,d,s,l,h,y,x,C,H,Y,null,P,B)),Ns(t,d,y,!z);return}}xy(t,n,d,s,l,h,y,x,C)}function fx(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!pn(d(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ns(t,n,s,l){n&=~Id,n&=~Rr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var d=31-ht(h),y=1<<d;l[d]=-1,h&=~y}s!==0&&sr(t,s,n)}function Kc(){return(He&6)===0?(io(0),!1):!0}function Vd(){if(Ne!==null){if(Qe===0)var t=Ne.return;else t=Ne,ki=br=null,Jh(t),pa=null,zl=0,t=Ne;for(;t!==null;)Fp(t.alternate,t),t=t.return;Ne=null}}function wa(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Mx(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Yi=0,Vd(),We=t,Ne=s=Oi(t.current,null),Re=n,Qe=0,bn=null,Ts=!1,Ta=zn(t,n),Rd=!1,Sa=xn=Id=Rr=Ss=ut=0,hn=to=null,jd=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-ht(l),d=1<<h;n|=t[h],l&=~d}return Qi=n,gc(),s}function my(t,n){Te=null,G.H=Yl,n===ga||n===Tc?(n=Ig(),Qe=3):n===zh?(n=Ig(),Qe=4):Qe=n===fd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,bn=n,Ne===null&&(ut=1,Lc(t,Rn(n,t.current)))}function gy(){var t=vn.current;return t===null?!0:(Re&4194048)===Re?Mn===null:(Re&62914560)===Re||(Re&536870912)!==0?t===Mn:!1}function py(){var t=G.H;return G.H=Yl,t===null?Yl:t}function yy(){var t=G.A;return G.A=hx,t}function Xc(){ut=4,Ts||(Re&4194048)!==Re&&vn.current!==null||(Ta=!0),(Ss&134217727)===0&&(Rr&134217727)===0||We===null||Ns(We,Re,xn,!1)}function kd(t,n,s){var l=He;He|=2;var h=py(),d=yy();(We!==t||Re!==n)&&(Yc=null,wa(t,n)),n=!1;var y=ut;e:do try{if(Qe!==0&&Ne!==null){var x=Ne,C=bn;switch(Qe){case 8:Vd(),y=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(n=!0);var z=Qe;if(Qe=0,bn=null,Na(t,x,C,z),s&&Ta){y=0;break e}break;default:z=Qe,Qe=0,bn=null,Na(t,x,C,z)}}mx(),y=ut;break}catch(H){my(t,H)}while(!0);return n&&t.shellSuspendCounter++,ki=br=null,He=l,G.H=h,G.A=d,Ne===null&&(We=null,Re=0,gc()),y}function mx(){for(;Ne!==null;)vy(Ne)}function gx(t,n){var s=He;He|=2;var l=py(),h=yy();We!==t||Re!==n?(Yc=null,Qc=tn()+500,wa(t,n)):Ta=zn(t,n);e:do try{if(Qe!==0&&Ne!==null){n=Ne;var d=bn;t:switch(Qe){case 1:Qe=0,bn=null,Na(t,n,d,1);break;case 2:case 9:if(Cg(d)){Qe=0,bn=null,_y(n);break}n=function(){Qe!==2&&Qe!==9||We!==t||(Qe=7),_i(t)},d.then(n,n);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Cg(d)?(Qe=0,bn=null,_y(n)):(Qe=0,bn=null,Na(t,n,d,7));break;case 5:var y=null;switch(Ne.tag){case 26:y=Ne.memoizedState;case 5:case 27:var x=Ne;if(y?s0(y):x.stateNode.complete){Qe=0,bn=null;var C=x.sibling;if(C!==null)Ne=C;else{var z=x.return;z!==null?(Ne=z,$c(z)):Ne=null}break t}}Qe=0,bn=null,Na(t,n,d,5);break;case 6:Qe=0,bn=null,Na(t,n,d,6);break;case 8:Vd(),ut=6;break e;default:throw Error(a(462))}}px();break}catch(H){my(t,H)}while(!0);return ki=br=null,G.H=l,G.A=h,He=s,Ne!==null?0:(We=null,Re=0,gc(),ut)}function px(){for(;Ne!==null&&!dh();)vy(Ne)}function vy(t){var n=Bp(t.alternate,t,Qi);t.memoizedProps=t.pendingProps,n===null?$c(t):Ne=n}function _y(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=kp(s,n,n.pendingProps,n.type,void 0,Re);break;case 11:n=kp(s,n,n.pendingProps,n.type.render,n.ref,Re);break;case 5:Jh(n);default:Fp(s,n),n=Ne=yg(n,Qi),n=Bp(s,n,Qi)}t.memoizedProps=t.pendingProps,n===null?$c(t):Ne=n}function Na(t,n,s,l){ki=br=null,Jh(n),pa=null,zl=0;var h=n.return;try{if(sx(t,h,n,s,Re)){ut=1,Lc(t,Rn(s,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;ut=1,Lc(t,Rn(s,t.current)),Ne=null;return}n.flags&32768?(Me||l===1?t=!0:Ta||(Re&536870912)!==0?t=!1:(Ts=t=!0,(l===2||l===9||l===3||l===6)&&(l=vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),by(n,t)):$c(n)}function $c(t){var n=t;do{if((n.flags&32768)!==0){by(n,Ts);return}t=n.return;var s=lx(n.alternate,n,Qi);if(s!==null){Ne=s;return}if(n=n.sibling,n!==null){Ne=n;return}Ne=n=t}while(n!==null);ut===0&&(ut=5)}function by(t,n){do{var s=ox(t.alternate,t);if(s!==null){s.flags&=32767,Ne=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=s}while(t!==null);ut=6,Ne=null}function xy(t,n,s,l,h,d,y,x,C){t.cancelPendingCommit=null;do Jc();while(Dt!==0);if((He&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(d=n.lanes|n.childLanes,d|=Sh,gh(t,s,d,y,x,C),t===We&&(Ne=We=null,Re=0),Aa=n,ws=t,Yi=s,Dd=d,Md=h,uy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,bx(is,function(){return wy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=ie.p,ie.p=2,y=He,He|=4;try{cx(t,n,s)}finally{He=y,ie.p=h,G.T=l}}Dt=1,Ey(),Ty(),Sy()}}function Ey(){if(Dt===1){Dt=0;var t=ws,n=Aa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var l=ie.p;ie.p=2;var h=He;He|=4;try{ny(n,t);var d=Kd,y=og(t.containerInfo),x=d.focusedElem,C=d.selectionRange;if(y!==x&&x&&x.ownerDocument&&lg(x.ownerDocument.documentElement,x)){if(C!==null&&_h(x)){var z=C.start,H=C.end;if(H===void 0&&(H=z),"selectionStart"in x)x.selectionStart=z,x.selectionEnd=Math.min(H,x.value.length);else{var Y=x.ownerDocument||document,P=Y&&Y.defaultView||window;if(P.getSelection){var B=P.getSelection(),oe=x.textContent.length,ge=Math.min(C.start,oe),Je=C.end===void 0?ge:Math.min(C.end,oe);!B.extend&&ge>Je&&(y=Je,Je=ge,ge=y);var V=ag(x,ge),j=ag(x,Je);if(V&&j&&(B.rangeCount!==1||B.anchorNode!==V.node||B.anchorOffset!==V.offset||B.focusNode!==j.node||B.focusOffset!==j.offset)){var U=Y.createRange();U.setStart(V.node,V.offset),B.removeAllRanges(),ge>Je?(B.addRange(U),B.extend(j.node,j.offset)):(U.setEnd(j.node,j.offset),B.addRange(U))}}}}for(Y=[],B=x;B=B.parentNode;)B.nodeType===1&&Y.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<Y.length;x++){var Q=Y[x];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}cu=!!Yd,Kd=Yd=null}finally{He=h,ie.p=l,G.T=s}}t.current=n,Dt=2}}function Ty(){if(Dt===2){Dt=0;var t=ws,n=Aa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var l=ie.p;ie.p=2;var h=He;He|=4;try{Jp(t,n.alternate,n)}finally{He=h,ie.p=l,G.T=s}}Dt=3}}function Sy(){if(Dt===4||Dt===3){Dt=0,qo();var t=ws,n=Aa,s=Yi,l=uy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Dt=5:(Dt=0,Aa=ws=null,Ay(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(As=null),Ii(s),n=n.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Un,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,h=ie.p,ie.p=2,G.T=null;try{for(var d=t.onRecoverableError,y=0;y<l.length;y++){var x=l[y];d(x.value,{componentStack:x.stack})}}finally{G.T=n,ie.p=h}}(Yi&3)!==0&&Jc(),_i(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===Od?no++:(no=0,Od=t):no=0,io(0)}}function Ay(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ll(n)))}function Jc(){return Ey(),Ty(),Sy(),wy()}function wy(){if(Dt!==5)return!1;var t=ws,n=Dd;Dd=0;var s=Ii(Yi),l=G.T,h=ie.p;try{ie.p=32>s?32:s,G.T=null,s=Md,Md=null;var d=ws,y=Yi;if(Dt=0,Aa=ws=null,Yi=0,(He&6)!==0)throw Error(a(331));var x=He;if(He|=4,ly(d.current),sy(d,d.current,y,s),He=x,io(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Un,d)}catch{}return!0}finally{ie.p=h,G.T=l,Ay(t,n)}}function Ny(t,n,s){n=Rn(s,n),n=dd(t.stateNode,n,2),t=_s(t,n,2),t!==null&&(ir(t,2),_i(t))}function Ye(t,n,s){if(t.tag===3)Ny(t,t,s);else for(;n!==null;){if(n.tag===3){Ny(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(As===null||!As.has(l))){t=Rn(s,t),s=Cp(2),l=_s(n,s,2),l!==null&&(Rp(s,l,n,t),ir(l,2),_i(l));break}}n=n.return}}function Ld(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new dx;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Rd=!0,h.add(s),t=yx.bind(null,t,n,s),n.then(t,t))}function yx(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,We===t&&(Re&s)===s&&(ut===4||ut===3&&(Re&62914560)===Re&&300>tn()-Gc?(He&2)===0&&wa(t,0):Id|=s,Sa===Re&&(Sa=0)),_i(t)}function Cy(t,n){n===0&&(n=Yo()),t=yr(t,n),t!==null&&(ir(t,n),_i(t))}function vx(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Cy(t,s)}function _x(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Cy(t,s)}function bx(t,n){return jt(t,n)}var Zc=null,Ca=null,Ud=!1,Wc=!1,zd=!1,Cs=0;function _i(t){t!==Ca&&t.next===null&&(Ca===null?Zc=Ca=t:Ca=Ca.next=t),Wc=!0,Ud||(Ud=!0,Ex())}function io(t,n){if(!zd&&Wc){zd=!0;do for(var s=!1,l=Zc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var y=l.suspendedLanes,x=l.pingedLanes;d=(1<<31-ht(42|t)+1)-1,d&=h&~(y&~x),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,Dy(l,d))}else d=Re,d=ti(l,l===We?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||zn(l,d)||(s=!0,Dy(l,d));l=l.next}while(s);zd=!1}}function xx(){Ry()}function Ry(){Wc=Ud=!1;var t=0;Cs!==0&&Dx()&&(t=Cs);for(var n=tn(),s=null,l=Zc;l!==null;){var h=l.next,d=Iy(l,n);d===0?(l.next=null,s===null?Zc=h:s.next=h,h===null&&(Ca=s)):(s=l,(t!==0||(d&3)!==0)&&(Wc=!0)),l=h}Dt!==0&&Dt!==5||io(t),Cs!==0&&(Cs=0)}function Iy(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var y=31-ht(d),x=1<<y,C=h[y];C===-1?((x&s)===0||(x&l)!==0)&&(h[y]=mh(x,n)):C<=n&&(t.expiredLanes|=x),d&=~x}if(n=We,s=Re,s=ti(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ns(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||zn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&ns(l),Ii(s)){case 2:case 8:s=fl;break;case 32:s=is;break;case 268435456:s=Bo;break;default:s=is}return l=jy.bind(null,t),s=jt(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&ns(l),t.callbackPriority=2,t.callbackNode=null,2}function jy(t,n){if(Dt!==0&&Dt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Jc()&&t.callbackNode!==s)return null;var l=Re;return l=ti(t,t===We?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(dy(t,l,n),Iy(t,tn()),t.callbackNode!=null&&t.callbackNode===s?jy.bind(null,t):null)}function Dy(t,n){if(Jc())return null;dy(t,n,!0)}function Ex(){Ox(function(){(He&6)!==0?jt(dl,xx):Ry()})}function Pd(){if(Cs===0){var t=fa;t===0&&(t=Wn,Wn<<=1,(Wn&261888)===0&&(Wn=256)),Cs=t}return Cs}function My(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Zr(""+t)}function Oy(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function Tx(t,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var d=My((h[Lt]||null).action),y=l.submitter;y&&(n=(n=y[Lt]||null)?My(n.formAction):y.getAttribute("formAction"),n!==null&&(d=n,y=null));var x=new di("action","action",null,l,h);t.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Cs!==0){var C=y?Oy(h,y):new FormData(h);ad(s,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(x.preventDefault(),C=y?Oy(h,y):new FormData(h),ad(s,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var qd=0;qd<Th.length;qd++){var Bd=Th[qd],Sx=Bd.toLowerCase(),Ax=Bd[0].toUpperCase()+Bd.slice(1);Yn(Sx,"on"+Ax)}Yn(hg,"onAnimationEnd"),Yn(dg,"onAnimationIteration"),Yn(fg,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(q1,"onTransitionRun"),Yn(B1,"onTransitionStart"),Yn(H1,"onTransitionCancel"),Yn(mg,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var so="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(so));function Vy(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var y=l.length-1;0<=y;y--){var x=l[y],C=x.instance,z=x.currentTarget;if(x=x.listener,C!==d&&h.isPropagationStopped())break e;d=x,h.currentTarget=z;try{d(h)}catch(H){mc(H)}h.currentTarget=null,d=C}else for(y=0;y<l.length;y++){if(x=l[y],C=x.instance,z=x.currentTarget,x=x.listener,C!==d&&h.isPropagationStopped())break e;d=x,h.currentTarget=z;try{d(h)}catch(H){mc(H)}h.currentTarget=null,d=C}}}}function Ce(t,n){var s=n[Yr];s===void 0&&(s=n[Yr]=new Set);var l=t+"__bubble";s.has(l)||(ky(n,t,2,!1),s.add(l))}function Hd(t,n,s){var l=0;n&&(l|=4),ky(s,t,l,n)}var eu="_reactListening"+Math.random().toString(36).slice(2);function Fd(t){if(!t[eu]){t[eu]=!0,pl.forEach(function(s){s!=="selectionchange"&&(wx.has(s)||Hd(s,!1,t),Hd(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[eu]||(n[eu]=!0,Hd("selectionchange",!1,n))}}function ky(t,n,s,l){switch(h0(n)){case 2:var h=eE;break;case 8:h=tE;break;default:h=af}s=h.bind(null,n,s,t),h=void 0,!cr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function Gd(t,n,s,l,h){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var x=l.stateNode.containerInfo;if(x===h)break;if(y===4)for(y=l.return;y!==null;){var C=y.tag;if((C===3||C===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;x!==null;){if(y=ri(x),y===null)return;if(C=y.tag,C===5||C===6||C===26||C===27){l=d=y;continue e}x=x.parentNode}}l=l.return}cs(function(){var z=d,H=An(s),Y=[];e:{var P=gg.get(t);if(P!==void 0){var B=di,oe=t;switch(t){case"keypress":if(hr(s)===0)break e;case"keydown":case"keyup":B=hc;break;case"focusin":oe="focus",B=fr;break;case"focusout":oe="blur",B=fr;break;case"beforeblur":case"afterblur":B=fr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Rl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=nc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=g;break;case hg:case dg:case fg:B=sc;break;case mg:B=T;break;case"scroll":case"scrollend":B=Cl;break;case"wheel":B=q;break;case"copy":case"cut":case"paste":B=rc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Mi;break;case"toggle":case"beforetoggle":B=Ee}var ge=(n&4)!==0,Je=!ge&&(t==="scroll"||t==="scrollend"),V=ge?P!==null?P+"Capture":null:P;ge=[];for(var j=z,U;j!==null;){var Q=j;if(U=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||U===null||V===null||(Q=Hn(j,V),Q!=null&&ge.push(ro(j,Q,U))),Je)break;j=j.return}0<ge.length&&(P=new B(P,oe,null,s,H),Y.push({event:P,listeners:ge}))}}if((n&7)===0){e:{if(P=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",P&&s!==Al&&(oe=s.relatedTarget||s.fromElement)&&(ri(oe)||oe[ii]))break e;if((B||P)&&(P=H.window===H?H:(P=H.ownerDocument)?P.defaultView||P.parentWindow:window,B?(oe=s.relatedTarget||s.toElement,B=z,oe=oe?ri(oe):null,oe!==null&&(Je=u(oe),ge=oe.tag,oe!==Je||ge!==5&&ge!==27&&ge!==6)&&(oe=null)):(B=null,oe=z),B!==oe)){if(ge=Rl,Q="onMouseLeave",V="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(ge=Mi,Q="onPointerLeave",V="onPointerEnter",j="pointer"),Je=B==null?P:mn(B),U=oe==null?P:mn(oe),P=new ge(Q,j+"leave",B,s,H),P.target=Je,P.relatedTarget=U,Q=null,ri(H)===z&&(ge=new ge(V,j+"enter",oe,s,H),ge.target=U,ge.relatedTarget=Je,Q=ge),Je=Q,B&&oe)t:{for(ge=Nx,V=B,j=oe,U=0,Q=V;Q;Q=ge(Q))U++;Q=0;for(var de=j;de;de=ge(de))Q++;for(;0<U-Q;)V=ge(V),U--;for(;0<Q-U;)j=ge(j),Q--;for(;U--;){if(V===j||j!==null&&V===j.alternate){ge=V;break t}V=ge(V),j=ge(j)}ge=null}else ge=null;B!==null&&Ly(Y,P,B,ge,!1),oe!==null&&Je!==null&&Ly(Y,Je,oe,ge,!0)}}e:{if(P=z?mn(z):window,B=P.nodeName&&P.nodeName.toLowerCase(),B==="select"||B==="input"&&P.type==="file")var Pe=eg;else if(Zm(P))if(tg)Pe=U1;else{Pe=k1;var ce=V1}else B=P.nodeName,!B||B.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?z&&Jr(z.elementType)&&(Pe=eg):Pe=L1;if(Pe&&(Pe=Pe(t,z))){Wm(Y,Pe,s,H);break e}ce&&ce(t,P,z),t==="focusout"&&z&&P.type==="number"&&z.memoizedProps.value!=null&&El(P,"number",P.value)}switch(ce=z?mn(z):window,t){case"focusin":(Zm(ce)||ce.contentEditable==="true")&&(ra=ce,bh=z,Ol=null);break;case"focusout":Ol=bh=ra=null;break;case"mousedown":xh=!0;break;case"contextmenu":case"mouseup":case"dragend":xh=!1,cg(Y,s,H);break;case"selectionchange":if(P1)break;case"keydown":case"keyup":cg(Y,s,H)}var we;if(Be)e:{switch(t){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else sa?mr(t,s)&&(Ie="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ie="onCompositionStart");Ie&&(gi&&s.locale!=="ko"&&(sa||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&sa&&(we=Nl()):(hi=H,wl="value"in hi?hi.value:hi.textContent,sa=!0)),ce=tu(z,Ie),0<ce.length&&(Ie=new mi(Ie,t,null,s,H),Y.push({event:Ie,listeners:ce}),we?Ie.data=we:(we=ia(s),we!==null&&(Ie.data=we)))),(we=Nn?j1(t,s):D1(t,s))&&(Ie=tu(z,"onBeforeInput"),0<Ie.length&&(ce=new mi("onBeforeInput","beforeinput",null,s,H),Y.push({event:ce,listeners:Ie}),ce.data=we)),Tx(Y,t,z,s,H)}Vy(Y,n)})}function ro(t,n,s){return{instance:t,listener:n,currentTarget:s}}function tu(t,n){for(var s=n+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Hn(t,s),h!=null&&l.unshift(ro(t,h,d)),h=Hn(t,n),h!=null&&l.push(ro(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Nx(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ly(t,n,s,l,h){for(var d=n._reactName,y=[];s!==null&&s!==l;){var x=s,C=x.alternate,z=x.stateNode;if(x=x.tag,C!==null&&C===l)break;x!==5&&x!==26&&x!==27||z===null||(C=z,h?(z=Hn(s,d),z!=null&&y.unshift(ro(s,z,C))):h||(z=Hn(s,d),z!=null&&y.push(ro(s,z,C)))),s=s.return}y.length!==0&&t.push({event:n,listeners:y})}var Cx=/\r\n?/g,Rx=/\u0000|\uFFFD/g;function Uy(t){return(typeof t=="string"?t:""+t).replace(Cx,`
`).replace(Rx,"")}function zy(t,n){return n=Uy(n),Uy(t)===n}function $e(t,n,s,l,h,d){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||ln(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&ln(t,""+l);break;case"className":gn(t,"class",l);break;case"tabIndex":gn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(t,s,l);break;case"style":Sl(t,l,d);break;case"data":if(n!=="object"){gn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Zr(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(n!=="input"&&$e(t,n,"name",h.name,h,null),$e(t,n,"formEncType",h.formEncType,h,null),$e(t,n,"formMethod",h.formMethod,h,null),$e(t,n,"formTarget",h.formTarget,h,null)):($e(t,n,"encType",h.encType,h,null),$e(t,n,"method",h.method,h,null),$e(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Zr(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Bn);break;case"onScroll":l!=null&&Ce("scroll",t);break;case"onScrollEnd":l!=null&&Ce("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Zr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Ce("beforetoggle",t),Ce("toggle",t),Xr(t,"popover",l);break;case"xlinkActuate":xt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Xr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=tc.get(s)||s,Xr(t,s,l))}}function Qd(t,n,s,l,h,d){switch(s){case"style":Sl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?ln(t,l):(typeof l=="number"||typeof l=="bigint")&&ln(t,""+l);break;case"onScroll":l!=null&&Ce("scroll",t);break;case"onScrollEnd":l!=null&&Ce("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yl.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),d=t[Lt]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Xr(t,s,l)}}}function Qt(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",t),Ce("load",t);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var y=s[d];if(y!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$e(t,n,d,y,s,null)}}h&&$e(t,n,"srcSet",s.srcSet,s,null),l&&$e(t,n,"src",s.src,s,null);return;case"input":Ce("invalid",t);var x=d=y=h=null,C=null,z=null;for(l in s)if(s.hasOwnProperty(l)){var H=s[l];if(H!=null)switch(l){case"name":h=H;break;case"type":y=H;break;case"checked":C=H;break;case"defaultChecked":z=H;break;case"value":d=H;break;case"defaultValue":x=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:$e(t,n,l,H,s,null)}}Zo(t,d,x,C,z,y,h,!1);return;case"select":Ce("invalid",t),l=y=d=null;for(h in s)if(s.hasOwnProperty(h)&&(x=s[h],x!=null))switch(h){case"value":d=x;break;case"defaultValue":y=x;break;case"multiple":l=x;default:$e(t,n,h,x,s,null)}n=d,s=y,t.multiple=!!l,n!=null?rs(t,!!l,n,!1):s!=null&&rs(t,!!l,s,!0);return;case"textarea":Ce("invalid",t),d=h=l=null;for(y in s)if(s.hasOwnProperty(y)&&(x=s[y],x!=null))switch(y){case"value":l=x;break;case"defaultValue":h=x;break;case"children":d=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(a(91));break;default:$e(t,n,y,x,s,null)}as(t,l,h,d);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(l=s[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$e(t,n,C,l,s,null)}return;case"dialog":Ce("beforetoggle",t),Ce("toggle",t),Ce("cancel",t),Ce("close",t);break;case"iframe":case"object":Ce("load",t);break;case"video":case"audio":for(l=0;l<so.length;l++)Ce(so[l],t);break;case"image":Ce("error",t),Ce("load",t);break;case"details":Ce("toggle",t);break;case"embed":case"source":case"link":Ce("error",t),Ce("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(l=s[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$e(t,n,z,l,s,null)}return;default:if(Jr(n)){for(H in s)s.hasOwnProperty(H)&&(l=s[H],l!==void 0&&Qd(t,n,H,l,s,void 0));return}}for(x in s)s.hasOwnProperty(x)&&(l=s[x],l!=null&&$e(t,n,x,l,s,null))}function Ix(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,y=null,x=null,C=null,z=null,H=null;for(B in s){var Y=s[B];if(s.hasOwnProperty(B)&&Y!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":C=Y;default:l.hasOwnProperty(B)||$e(t,n,B,null,l,Y)}}for(var P in l){var B=l[P];if(Y=s[P],l.hasOwnProperty(P)&&(B!=null||Y!=null))switch(P){case"type":d=B;break;case"name":h=B;break;case"checked":z=B;break;case"defaultChecked":H=B;break;case"value":y=B;break;case"defaultValue":x=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:B!==Y&&$e(t,n,P,B,l,Y)}}$r(t,y,x,C,z,H,d,h);return;case"select":B=y=x=P=null;for(d in s)if(C=s[d],s.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":B=C;default:l.hasOwnProperty(d)||$e(t,n,d,null,l,C)}for(h in l)if(d=l[h],C=s[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":P=d;break;case"defaultValue":x=d;break;case"multiple":y=d;default:d!==C&&$e(t,n,h,d,l,C)}n=x,s=y,l=B,P!=null?rs(t,!!s,P,!1):!!l!=!!s&&(n!=null?rs(t,!!s,n,!0):rs(t,!!s,s?[]:"",!1));return;case"textarea":B=P=null;for(x in s)if(h=s[x],s.hasOwnProperty(x)&&h!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:$e(t,n,x,null,l,h)}for(y in l)if(h=l[y],d=s[y],l.hasOwnProperty(y)&&(h!=null||d!=null))switch(y){case"value":P=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&$e(t,n,y,h,l,d)}Wo(t,P,B);return;case"option":for(var oe in s)if(P=s[oe],s.hasOwnProperty(oe)&&P!=null&&!l.hasOwnProperty(oe))switch(oe){case"selected":t.selected=!1;break;default:$e(t,n,oe,null,l,P)}for(C in l)if(P=l[C],B=s[C],l.hasOwnProperty(C)&&P!==B&&(P!=null||B!=null))switch(C){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:$e(t,n,C,P,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in s)P=s[ge],s.hasOwnProperty(ge)&&P!=null&&!l.hasOwnProperty(ge)&&$e(t,n,ge,null,l,P);for(z in l)if(P=l[z],B=s[z],l.hasOwnProperty(z)&&P!==B&&(P!=null||B!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,n));break;default:$e(t,n,z,P,l,B)}return;default:if(Jr(n)){for(var Je in s)P=s[Je],s.hasOwnProperty(Je)&&P!==void 0&&!l.hasOwnProperty(Je)&&Qd(t,n,Je,void 0,l,P);for(H in l)P=l[H],B=s[H],!l.hasOwnProperty(H)||P===B||P===void 0&&B===void 0||Qd(t,n,H,P,l,B);return}}for(var V in s)P=s[V],s.hasOwnProperty(V)&&P!=null&&!l.hasOwnProperty(V)&&$e(t,n,V,null,l,P);for(Y in l)P=l[Y],B=s[Y],!l.hasOwnProperty(Y)||P===B||P==null&&B==null||$e(t,n,Y,P,l,B)}function Py(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jx(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],d=h.transferSize,y=h.initiatorType,x=h.duration;if(d&&x&&Py(y)){for(y=0,x=h.responseEnd,l+=1;l<s.length;l++){var C=s[l],z=C.startTime;if(z>x)break;var H=C.transferSize,Y=C.initiatorType;H&&Py(Y)&&(C=C.responseEnd,y+=H*(C<x?1:(x-z)/(C-z)))}if(--l,n+=8*(d+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Yd=null,Kd=null;function nu(t){return t.nodeType===9?t:t.ownerDocument}function qy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function By(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Xd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var $d=null;function Dx(){var t=window.event;return t&&t.type==="popstate"?t===$d?!1:($d=t,!0):($d=null,!1)}var Hy=typeof setTimeout=="function"?setTimeout:void 0,Mx=typeof clearTimeout=="function"?clearTimeout:void 0,Fy=typeof Promise=="function"?Promise:void 0,Ox=typeof queueMicrotask=="function"?queueMicrotask:typeof Fy<"u"?function(t){return Fy.resolve(null).then(t).catch(Vx)}:Hy;function Vx(t){setTimeout(function(){throw t})}function Rs(t){return t==="head"}function Gy(t,n){var s=n,l=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(h),Da(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")ao(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,ao(s);for(var d=s.firstChild;d;){var y=d.nextSibling,x=d.nodeName;d[si]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=y}}else s==="body"&&ao(t.ownerDocument.body);s=h}while(s);Da(n)}function Qy(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function Jd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Jd(s),Kr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function kx(t,n,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[si])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=On(t.nextSibling),t===null)break}return null}function Lx(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=On(t.nextSibling),t===null))return null;return t}function Yy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=On(t.nextSibling),t===null))return null;return t}function Zd(t){return t.data==="$?"||t.data==="$~"}function Wd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Ux(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function On(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var ef=null;function Ky(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return On(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function Xy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function $y(t,n,s){switch(n=nu(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function ao(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Kr(t)}var Vn=new Map,Jy=new Set;function iu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ki=ie.d;ie.d={f:zx,r:Px,D:qx,C:Bx,L:Hx,m:Fx,X:Qx,S:Gx,M:Yx};function zx(){var t=Ki.f(),n=Kc();return t||n}function Px(t){var n=Sn(t);n!==null&&n.tag===5&&n.type==="form"?mp(n):Ki.r(t)}var Ra=typeof document>"u"?null:document;function Zy(t,n,s){var l=Ra;if(l&&typeof n=="string"&&n){var h=an(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Jy.has(h)||(Jy.add(h),t={rel:t,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Qt(n,"link",t),bt(n),l.head.appendChild(n)))}}function qx(t){Ki.D(t),Zy("dns-prefetch",t,null)}function Bx(t,n){Ki.C(t,n),Zy("preconnect",t,n)}function Hx(t,n,s){Ki.L(t,n,s);var l=Ra;if(l&&t&&n){var h='link[rel="preload"][as="'+an(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+an(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+an(s.imageSizes)+'"]')):h+='[href="'+an(t)+'"]';var d=h;switch(n){case"style":d=Ia(t);break;case"script":d=ja(t)}Vn.has(d)||(t=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Vn.set(d,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(lo(d))||n==="script"&&l.querySelector(oo(d))||(n=l.createElement("link"),Qt(n,"link",t),bt(n),l.head.appendChild(n)))}}function Fx(t,n){Ki.m(t,n);var s=Ra;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+an(l)+'"][href="'+an(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ja(t)}if(!Vn.has(d)&&(t=S({rel:"modulepreload",href:t},n),Vn.set(d,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(oo(d)))return}l=s.createElement("link"),Qt(l,"link",t),bt(l),s.head.appendChild(l)}}}function Gx(t,n,s){Ki.S(t,n,s);var l=Ra;if(l&&t){var h=ai(l).hoistableStyles,d=Ia(t);n=n||"default";var y=h.get(d);if(!y){var x={loading:0,preload:null};if(y=l.querySelector(lo(d)))x.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Vn.get(d))&&tf(t,s);var C=y=l.createElement("link");bt(C),Qt(C,"link",t),C._p=new Promise(function(z,H){C.onload=z,C.onerror=H}),C.addEventListener("load",function(){x.loading|=1}),C.addEventListener("error",function(){x.loading|=2}),x.loading|=4,su(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:x},h.set(d,y)}}}function Qx(t,n){Ki.X(t,n);var s=Ra;if(s&&t){var l=ai(s).hoistableScripts,h=ja(t),d=l.get(h);d||(d=s.querySelector(oo(h)),d||(t=S({src:t,async:!0},n),(n=Vn.get(h))&&nf(t,n),d=s.createElement("script"),bt(d),Qt(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Yx(t,n){Ki.M(t,n);var s=Ra;if(s&&t){var l=ai(s).hoistableScripts,h=ja(t),d=l.get(h);d||(d=s.querySelector(oo(h)),d||(t=S({src:t,async:!0,type:"module"},n),(n=Vn.get(h))&&nf(t,n),d=s.createElement("script"),bt(d),Qt(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Wy(t,n,s,l){var h=(h=Ae.current)?iu(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ia(s.href),s=ai(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ia(s.href);var d=ai(h).hoistableStyles,y=d.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,y),(d=h.querySelector(lo(t)))&&!d._p&&(y.instance=d,y.state.loading=5),Vn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Vn.set(t,s),d||Kx(h,t,s,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ja(s),s=ai(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ia(t){return'href="'+an(t)+'"'}function lo(t){return'link[rel="stylesheet"]['+t+"]"}function e0(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function Kx(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Qt(n,"link",s),bt(n),t.head.appendChild(n))}function ja(t){return'[src="'+an(t)+'"]'}function oo(t){return"script[async]"+t}function t0(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+an(s.href)+'"]');if(l)return n.instance=l,bt(l),l;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),bt(l),Qt(l,"style",h),su(l,s.precedence,t),n.instance=l;case"stylesheet":h=Ia(s.href);var d=t.querySelector(lo(h));if(d)return n.state.loading|=4,n.instance=d,bt(d),d;l=e0(s),(h=Vn.get(h))&&tf(l,h),d=(t.ownerDocument||t).createElement("link"),bt(d);var y=d;return y._p=new Promise(function(x,C){y.onload=x,y.onerror=C}),Qt(d,"link",l),n.state.loading|=4,su(d,s.precedence,t),n.instance=d;case"script":return d=ja(s.src),(h=t.querySelector(oo(d)))?(n.instance=h,bt(h),h):(l=s,(h=Vn.get(d))&&(l=S({},s),nf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),bt(h),Qt(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,su(l,s.precedence,t));return n.instance}function su(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,y=0;y<l.length;y++){var x=l[y];if(x.dataset.precedence===n)d=x;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function tf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function nf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var ru=null;function n0(t,n,s){if(ru===null){var l=new Map,h=ru=new Map;h.set(s,l)}else h=ru,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var d=s[h];if(!(d[si]||d[_t]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(n)||"";y=t+y;var x=l.get(y);x?x.push(d):l.set(y,[d])}}return l}function i0(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function Xx(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function s0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function $x(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ia(l.href),d=n.querySelector(lo(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=au.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=d,bt(d);return}d=n.ownerDocument||n,l=e0(l),(h=Vn.get(h))&&tf(l,h),d=d.createElement("link"),bt(d);var y=d;y._p=new Promise(function(x,C){y.onload=x,y.onerror=C}),Qt(d,"link",l),s.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=au.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var sf=0;function Jx(t,n){return t.stylesheets&&t.count===0&&ou(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&ou(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+n);0<t.imgBytes&&sf===0&&(sf=62500*jx());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ou(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>sf?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function au(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ou(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var lu=null;function ou(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,lu=new Map,n.forEach(Zx,t),lu=null,au.call(t))}function Zx(t,n){if(!(n.state.loading&4)){var s=lu.get(t);if(s)var l=s.get(null);else{s=new Map,lu.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var y=h[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),l=y)}l&&s.set(null,l)}h=n.instance,y=h.getAttribute("data-precedence"),d=s.get(y)||l,d===l&&s.set(null,h),s.set(y,h),this.count++,l=au.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var co={$$typeof:ne,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function Wx(t,n,s,l,h,d,y,x,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function r0(t,n,s,l,h,d,y,x,C,z,H,Y){return t=new Wx(t,n,s,y,C,z,H,Y,x),n=1,d===!0&&(n|=24),d=yn(3,null,null,n),t.current=d,d.stateNode=t,n=kh(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:n},Ph(d),t}function a0(t){return t?(t=oa,t):oa}function l0(t,n,s,l,h,d){h=a0(h),l.context===null?l.context=h:l.pendingContext=h,l=vs(n),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=_s(t,l,n),s!==null&&(dn(s,t,n),ql(s,t,n))}function o0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function rf(t,n){o0(t,n),(t=t.alternate)&&o0(t,n)}function c0(t){if(t.tag===13||t.tag===31){var n=yr(t,67108864);n!==null&&dn(n,t,67108864),rf(t,67108864)}}function u0(t){if(t.tag===13||t.tag===31){var n=En();n=rr(n);var s=yr(t,n);s!==null&&dn(s,t,n),rf(t,n)}}var cu=!0;function eE(t,n,s,l){var h=G.T;G.T=null;var d=ie.p;try{ie.p=2,af(t,n,s,l)}finally{ie.p=d,G.T=h}}function tE(t,n,s,l){var h=G.T;G.T=null;var d=ie.p;try{ie.p=8,af(t,n,s,l)}finally{ie.p=d,G.T=h}}function af(t,n,s,l){if(cu){var h=lf(l);if(h===null)Gd(t,n,l,uu,s),d0(t,l);else if(iE(h,t,n,s,l))l.stopPropagation();else if(d0(t,l),n&4&&-1<nE.indexOf(t)){for(;h!==null;){var d=Sn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=ei(d.pendingLanes);if(y!==0){var x=d;for(x.pendingLanes|=2,x.entangledLanes|=2;y;){var C=1<<31-ht(y);x.entanglements[1]|=C,y&=~C}_i(d),(He&6)===0&&(Qc=tn()+500,io(0))}}break;case 31:case 13:x=yr(d,2),x!==null&&dn(x,d,2),Kc(),rf(d,2)}if(d=lf(l),d===null&&Gd(t,n,l,uu,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else Gd(t,n,l,null,s)}}function lf(t){return t=An(t),of(t)}var uu=null;function of(t){if(uu=null,t=ri(t),t!==null){var n=u(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=f(n),t!==null)return t;t=null}else if(s===31){if(t=p(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return uu=t,null}function h0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tr()){case dl:return 2;case fl:return 8;case is:case fh:return 32;case Bo:return 268435456;default:return 32}default:return 32}}var cf=!1,Is=null,js=null,Ds=null,uo=new Map,ho=new Map,Ms=[],nE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function d0(t,n){switch(t){case"focusin":case"focusout":Is=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":Ds=null;break;case"pointerover":case"pointerout":uo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ho.delete(n.pointerId)}}function fo(t,n,s,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=Sn(n),n!==null&&c0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function iE(t,n,s,l,h){switch(n){case"focusin":return Is=fo(Is,t,n,s,l,h),!0;case"dragenter":return js=fo(js,t,n,s,l,h),!0;case"mouseover":return Ds=fo(Ds,t,n,s,l,h),!0;case"pointerover":var d=h.pointerId;return uo.set(d,fo(uo.get(d)||null,t,n,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,ho.set(d,fo(ho.get(d)||null,t,n,s,l,h)),!0}return!1}function f0(t){var n=ri(t.target);if(n!==null){var s=u(n);if(s!==null){if(n=s.tag,n===13){if(n=f(s),n!==null){t.blockedOn=n,Pn(t.priority,function(){u0(s)});return}}else if(n===31){if(n=p(s),n!==null){t.blockedOn=n,Pn(t.priority,function(){u0(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=lf(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Al=l,s.target.dispatchEvent(l),Al=null}else return n=Sn(s),n!==null&&c0(n),t.blockedOn=s,!1;n.shift()}return!0}function m0(t,n,s){hu(t)&&s.delete(n)}function sE(){cf=!1,Is!==null&&hu(Is)&&(Is=null),js!==null&&hu(js)&&(js=null),Ds!==null&&hu(Ds)&&(Ds=null),uo.forEach(m0),ho.forEach(m0)}function du(t,n){t.blockedOn===n&&(t.blockedOn=null,cf||(cf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,sE)))}var fu=null;function g0(t){fu!==t&&(fu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){fu===t&&(fu=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(of(l||s)===null)continue;break}var d=Sn(s);d!==null&&(t.splice(n,3),n-=3,ad(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Da(t){function n(C){return du(C,t)}Is!==null&&du(Is,t),js!==null&&du(js,t),Ds!==null&&du(Ds,t),uo.forEach(n),ho.forEach(n);for(var s=0;s<Ms.length;s++){var l=Ms[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ms.length&&(s=Ms[0],s.blockedOn===null);)f0(s),s.blockedOn===null&&Ms.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],y=h[Lt]||null;if(typeof d=="function")y||g0(s);else if(y){var x=null;if(d&&d.hasAttribute("formAction")){if(h=d,y=d[Lt]||null)x=y.formAction;else if(of(h)!==null)continue}else x=y.action;typeof x=="function"?s[l+1]=x:(s.splice(l,3),l-=3),g0(s)}}}function p0(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function uf(t){this._internalRoot=t}mu.prototype.render=uf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=En();l0(s,l,t,n,null,null)},mu.prototype.unmount=uf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;l0(t.current,2,null,t,null,null),Kc(),n[ii]=null}};function mu(t){this._internalRoot=t}mu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ko();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Ms.length&&n!==0&&n<Ms[s].priority;s++);Ms.splice(s,0,t),s===0&&f0(t)}};var y0=e.version;if(y0!=="19.2.0")throw Error(a(527,y0,"19.2.0"));ie.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=v(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var rE={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gu.isDisabled&&gu.supportsFiber)try{Un=gu.inject(rE),qt=gu}catch{}}return go.createRoot=function(t,n){if(!o(t))throw Error(a(299));var s=!1,l="",h=Sp,d=Ap,y=wp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=r0(t,1,!1,null,null,s,l,null,h,d,y,p0),t[ii]=n.current,Fd(t),new uf(n)},go.hydrateRoot=function(t,n,s){if(!o(t))throw Error(a(299));var l=!1,h="",d=Sp,y=Ap,x=wp,C=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=r0(t,1,!0,n,s??null,l,h,C,d,y,x,p0),n.context=a0(null),s=n.current,l=En(),l=rr(l),h=vs(l),h.callback=null,_s(s,h,l),s=l,n.current.lanes=s,ir(n,s),_i(n),t[ii]=n.current,Fd(t),new mu(n)},go.version="19.2.0",go}var N0;function pE(){if(N0)return ff.exports;N0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ff.exports=gE(),ff.exports}var yE=pE(),a_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},C0=Dr.createContext&&Dr.createContext(a_),vE=["attr","size","title"];function _E(r,e){if(r==null)return{};var i=bE(r,e),a,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)a=u[o],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(i[a]=r[a])}return i}function bE(r,e){if(r==null)return{};var i={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;i[a]=r[a]}return i}function Du(){return Du=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])}return r},Du.apply(this,arguments)}function R0(r,e){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),i.push.apply(i,a)}return i}function Mu(r){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?R0(Object(i),!0).forEach(function(a){xE(r,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):R0(Object(i)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(i,a))})}return r}function xE(r,e,i){return e=EE(e),e in r?Object.defineProperty(r,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[e]=i,r}function EE(r){var e=TE(r,"string");return typeof e=="symbol"?e:e+""}function TE(r,e){if(typeof r!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var a=i.call(r,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function l_(r){return r&&r.map((e,i)=>Dr.createElement(e.tag,Mu({key:i},e.attr),l_(e.child)))}function Ze(r){return e=>Dr.createElement(SE,Du({attr:Mu({},r.attr)},e),l_(r.child))}function SE(r){var e=i=>{var{attr:a,size:o,title:u}=r,f=_E(r,vE),p=o||i.size||"1em",_;return i.className&&(_=i.className),r.className&&(_=(_?_+" ":"")+r.className),Dr.createElement("svg",Du({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,a,f,{className:_,style:Mu(Mu({color:r.color||i.color},i.style),r.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),u&&Dr.createElement("title",null,u),r.children)};return C0!==void 0?Dr.createElement(C0.Consumer,null,i=>e(i)):e(a_)}function lm(r){return Ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(r)}function o_(r){return Ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(r)}function AE(r){return Ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"},child:[]},{tag:"path",attr:{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"},child:[]}]})(r)}function If(r){return Ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"},child:[]}]})(r)}function wE(r){return Ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(r)}function NE(r){return Ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(r)}function om(r){return Ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(r)}function CE(r){return Ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(r)}function RE(r){return Ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16",y1:"13",x2:"16",y2:"21"},child:[]},{tag:"line",attr:{x1:"8",y1:"13",x2:"8",y2:"21"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"},child:[]}]})(r)}function IE(r){return Ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"},child:[]}]})(r)}function jE(r){return Ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"4",y:"4",width:"16",height:"16",rx:"2",ry:"2"},child:[]},{tag:"rect",attr:{x:"9",y:"9",width:"6",height:"6"},child:[]},{tag:"line",attr:{x1:"9",y1:"1",x2:"9",y2:"4"},child:[]},{tag:"line",attr:{x1:"15",y1:"1",x2:"15",y2:"4"},child:[]},{tag:"line",attr:{x1:"9",y1:"20",x2:"9",y2:"23"},child:[]},{tag:"line",attr:{x1:"15",y1:"20",x2:"15",y2:"23"},child:[]},{tag:"line",attr:{x1:"20",y1:"9",x2:"23",y2:"9"},child:[]},{tag:"line",attr:{x1:"20",y1:"14",x2:"23",y2:"14"},child:[]},{tag:"line",attr:{x1:"1",y1:"9",x2:"4",y2:"9"},child:[]},{tag:"line",attr:{x1:"1",y1:"14",x2:"4",y2:"14"},child:[]}]})(r)}function DE(r){return Ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"},child:[]}]})(r)}function c_(r){return Ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"},child:[]},{tag:"line",attr:{x1:"4",y1:"22",x2:"4",y2:"15"},child:[]}]})(r)}function ME(r){return Ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"9",x2:"20",y2:"9"},child:[]},{tag:"line",attr:{x1:"4",y1:"15",x2:"20",y2:"15"},child:[]},{tag:"line",attr:{x1:"10",y1:"3",x2:"8",y2:"21"},child:[]},{tag:"line",attr:{x1:"16",y1:"3",x2:"14",y2:"21"},child:[]}]})(r)}function OE(r){return Ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(r)}function VE(r){return Ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(r)}function kE(r){return Ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(r)}function u_(r){return Ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(r)}function h_(r){return Ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"},child:[]}]})(r)}function LE(r){return Ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"},child:[]},{tag:"path",attr:{d:"M19 10v2a7 7 0 0 1-14 0v-2"},child:[]},{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"8",y1:"23",x2:"16",y2:"23"},child:[]}]})(r)}function UE(r){return Ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M8 14s1.5 2 4 2 4-2 4-2"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"9.01",y2:"9"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"15.01",y2:"9"},child:[]}]})(r)}function d_(r){return Ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(r)}function zE(r){return Ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"},child:[]}]})(r)}function I0(r){return Ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"4 7 4 4 20 4 20 7"},child:[]},{tag:"line",attr:{x1:"9",y1:"20",x2:"15",y2:"20"},child:[]},{tag:"line",attr:{x1:"12",y1:"4",x2:"12",y2:"20"},child:[]}]})(r)}function jf(r){return Ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(r)}function f_(r){return Ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(r)}function PE(r){return Ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9.59 4.59A2 2 0 1 1 11 8H2m10.59 11.41A2 2 0 1 0 14 16H2m15.73-8.27A2.5 2.5 0 1 1 19.5 12H2"},child:[]}]})(r)}function qE(r){return Ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(r)}const BE=()=>{};var j0={};const m_=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},HE=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[i++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[i++],f=r[i++],p=r[i++],_=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const u=r[i++],f=r[i++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},g_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,p=f?r[o+1]:0,_=o+2<r.length,v=_?r[o+2]:0,E=u>>2,S=(u&3)<<4|p>>4;let I=(p&15)<<2|v>>6,F=v&63;_||(F=64,f||(I=64)),a.push(i[E],i[S],i[I],i[F])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(m_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):HE(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=i[r.charAt(o++)],p=o<r.length?i[r.charAt(o)]:0;++o;const v=o<r.length?i[r.charAt(o)]:64;++o;const S=o<r.length?i[r.charAt(o)]:64;if(++o,u==null||p==null||v==null||S==null)throw new FE;const I=u<<2|p>>4;if(a.push(I),v!==64){const F=p<<4&240|v>>2;if(a.push(F),S!==64){const X=v<<6&192|S;a.push(X)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class FE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GE=function(r){const e=m_(r);return g_.encodeByteArray(e,!0)},Ou=function(r){return GE(r).replace(/\./g,"")},p_=function(r){try{return g_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function QE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const YE=()=>QE().__FIREBASE_DEFAULTS__,KE=()=>{if(typeof process>"u"||typeof j0>"u")return;const r=j0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},XE=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&p_(r[1]);return e&&JSON.parse(e)},Ju=()=>{try{return BE()||YE()||KE()||XE()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},y_=r=>Ju()?.emulatorHosts?.[r],$E=r=>{const e=y_(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},v_=()=>Ju()?.config,__=r=>Ju()?.[`_${r}`];class JE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function tl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function b_(r){return(await fetch(r,{credentials:"include"})).ok}function ZE(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Ou(JSON.stringify(i)),Ou(JSON.stringify(f)),""].join(".")}const _o={};function WE(){const r={prod:[],emulator:[]};for(const e of Object.keys(_o))_o[e]?r.emulator.push(e):r.prod.push(e);return r}function eT(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let D0=!1;function x_(r,e){if(typeof window>"u"||typeof document>"u"||!tl(window.location.host)||_o[r]===e||_o[r]||D0)return;_o[r]=e;function i(I){return`__firebase__banner__${I}`}const a="__firebase__banner",u=WE().prod.length>0;function f(){const I=document.getElementById(a);I&&I.remove()}function p(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function _(I,F){I.setAttribute("width","24"),I.setAttribute("id",F),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function v(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{D0=!0,f()},I}function E(I,F){I.setAttribute("id",F),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function S(){const I=eT(a),F=i("text"),X=document.getElementById(F)||document.createElement("span"),J=i("learnmore"),Z=document.getElementById(J)||document.createElement("a"),he=i("preprendIcon"),ue=document.getElementById(he)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ne=I.element;p(ne),E(Z,J);const me=v();_(ue,he),ne.append(ue,X,Z,me),document.body.appendChild(ne)}u?(X.innerText="Preview backend disconnected.",ue.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ue.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function nT(){const r=Ju()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sT(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function rT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aT(){const r=en();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function lT(){return!nT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oT(){try{return typeof indexedDB=="object"}catch{return!1}}function cT(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const uT="FirebaseError";class ts extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=uT,Object.setPrototypeOf(this,ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Do.prototype.create)}}class Do{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?hT(u,a):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new ts(o,p,a)}}function hT(r,e){return r.replace(dT,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const dT=/\{\$([^}]+)}/g;function fT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function kr(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const u=r[o],f=e[o];if(M0(u)&&M0(f)){if(!kr(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function M0(r){return r!==null&&typeof r=="object"}function Mo(r){const e=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function mT(r,e){const i=new gT(r,e);return i.subscribe.bind(i)}class gT{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");pT(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=yf),o.error===void 0&&(o.error=yf),o.complete===void 0&&(o.complete=yf);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pT(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function yf(){}function Ci(r){return r&&r._delegate?r._delegate:r}class Lr{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ir="[DEFAULT]";class yT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new JE;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_T(e))try{this.getOrInitializeService({instanceIdentifier:Ir})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=Ir){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ir){return this.instances.has(e)}getOptions(e=Ir){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);a===p&&f.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:vT(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Ir){return this.component?this.component.multipleInstances?e:Ir:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vT(r){return r===Ir?void 0:r}function _T(r){return r.instantiationMode==="EAGER"}class bT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new yT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var je;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(je||(je={}));const xT={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},ET=je.INFO,TT={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},ST=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=TT[e];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cm{constructor(e){this.name=e,this._logLevel=ET,this._logHandler=ST,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const AT=(r,e)=>e.some(i=>r instanceof i);let O0,V0;function wT(){return O0||(O0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NT(){return V0||(V0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const E_=new WeakMap,Df=new WeakMap,T_=new WeakMap,vf=new WeakMap,um=new WeakMap;function CT(r){const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{i(Bs(r.result)),o()},f=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&E_.set(i,r)}).catch(()=>{}),um.set(e,r),e}function RT(r){if(Df.has(r))return;const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{i(),o()},f=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Df.set(r,e)}let Mf={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Df.get(r);if(e==="objectStoreNames")return r.objectStoreNames||T_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Bs(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function IT(r){Mf=r(Mf)}function jT(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(_f(this),e,...i);return T_.set(a,e.sort?e.sort():[e]),Bs(a)}:NT().includes(r)?function(...e){return r.apply(_f(this),e),Bs(E_.get(this))}:function(...e){return Bs(r.apply(_f(this),e))}}function DT(r){return typeof r=="function"?jT(r):(r instanceof IDBTransaction&&RT(r),AT(r,wT())?new Proxy(r,Mf):r)}function Bs(r){if(r instanceof IDBRequest)return CT(r);if(vf.has(r))return vf.get(r);const e=DT(r);return e!==r&&(vf.set(r,e),um.set(e,r)),e}const _f=r=>um.get(r);function MT(r,e,{blocked:i,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),p=Bs(f);return a&&f.addEventListener("upgradeneeded",_=>{a(Bs(f.result),_.oldVersion,_.newVersion,Bs(f.transaction),_)}),i&&f.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{u&&_.addEventListener("close",()=>u()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const OT=["get","getKey","getAll","getAllKeys","count"],VT=["put","add","delete","clear"],bf=new Map;function k0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(bf.get(e))return bf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=VT.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||OT.includes(i)))return;const u=async function(f,...p){const _=this.transaction(f,o?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),o&&_.done]))[0]};return bf.set(e,u),u}IT(r=>({...r,get:(e,i,a)=>k0(e,i)||r.get(e,i,a),has:(e,i)=>!!k0(e,i)||r.has(e,i)}));class kT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(LT(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function LT(r){return r.getComponent()?.type==="VERSION"}const Of="@firebase/app",L0="0.14.6";const Ji=new cm("@firebase/app"),UT="@firebase/app-compat",zT="@firebase/analytics-compat",PT="@firebase/analytics",qT="@firebase/app-check-compat",BT="@firebase/app-check",HT="@firebase/auth",FT="@firebase/auth-compat",GT="@firebase/database",QT="@firebase/data-connect",YT="@firebase/database-compat",KT="@firebase/functions",XT="@firebase/functions-compat",$T="@firebase/installations",JT="@firebase/installations-compat",ZT="@firebase/messaging",WT="@firebase/messaging-compat",eS="@firebase/performance",tS="@firebase/performance-compat",nS="@firebase/remote-config",iS="@firebase/remote-config-compat",sS="@firebase/storage",rS="@firebase/storage-compat",aS="@firebase/firestore",lS="@firebase/ai",oS="@firebase/firestore-compat",cS="firebase",uS="12.6.0";const Vf="[DEFAULT]",hS={[Of]:"fire-core",[UT]:"fire-core-compat",[PT]:"fire-analytics",[zT]:"fire-analytics-compat",[BT]:"fire-app-check",[qT]:"fire-app-check-compat",[HT]:"fire-auth",[FT]:"fire-auth-compat",[GT]:"fire-rtdb",[QT]:"fire-data-connect",[YT]:"fire-rtdb-compat",[KT]:"fire-fn",[XT]:"fire-fn-compat",[$T]:"fire-iid",[JT]:"fire-iid-compat",[ZT]:"fire-fcm",[WT]:"fire-fcm-compat",[eS]:"fire-perf",[tS]:"fire-perf-compat",[nS]:"fire-rc",[iS]:"fire-rc-compat",[sS]:"fire-gcs",[rS]:"fire-gcs-compat",[aS]:"fire-fst",[oS]:"fire-fst-compat",[lS]:"fire-vertex","fire-js":"fire-js",[cS]:"fire-js-all"};const Vu=new Map,dS=new Map,kf=new Map;function U0(r,e){try{r.container.addComponent(e)}catch(i){Ji.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Qa(r){const e=r.name;if(kf.has(e))return Ji.debug(`There were multiple attempts to register component ${e}.`),!1;kf.set(e,r);for(const i of Vu.values())U0(i,r);for(const i of dS.values())U0(i,r);return!0}function hm(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function xi(r){return r==null?!1:r.settings!==void 0}const fS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hs=new Do("app","Firebase",fS);class mS{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Lr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hs.create("app-deleted",{appName:this._name})}}const nl=uS;function S_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:Vf,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Hs.create("bad-app-name",{appName:String(o)});if(i||(i=v_()),!i)throw Hs.create("no-options");const u=Vu.get(o);if(u){if(kr(i,u.options)&&kr(a,u.config))return u;throw Hs.create("duplicate-app",{appName:o})}const f=new bT(o);for(const _ of kf.values())f.addComponent(_);const p=new mS(i,a,f);return Vu.set(o,p),p}function A_(r=Vf){const e=Vu.get(r);if(!e&&r===Vf&&v_())return S_();if(!e)throw Hs.create("no-app",{appName:r});return e}function Fs(r,e,i){let a=hS[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${a}" with version "${e}":`];o&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ji.warn(f.join(" "));return}Qa(new Lr(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const gS="firebase-heartbeat-database",pS=1,Ao="firebase-heartbeat-store";let xf=null;function w_(){return xf||(xf=MT(gS,pS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ao)}catch(i){console.warn(i)}}}}).catch(r=>{throw Hs.create("idb-open",{originalErrorMessage:r.message})})),xf}async function yS(r){try{const i=(await w_()).transaction(Ao),a=await i.objectStore(Ao).get(N_(r));return await i.done,a}catch(e){if(e instanceof ts)Ji.warn(e.message);else{const i=Hs.create("idb-get",{originalErrorMessage:e?.message});Ji.warn(i.message)}}}async function z0(r,e){try{const a=(await w_()).transaction(Ao,"readwrite");await a.objectStore(Ao).put(e,N_(r)),await a.done}catch(i){if(i instanceof ts)Ji.warn(i.message);else{const a=Hs.create("idb-set",{originalErrorMessage:i?.message});Ji.warn(a.message)}}}function N_(r){return`${r.name}!${r.options.appId}`}const vS=1024,_S=30;class bS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new ES(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=P0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>_S){const o=TS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ji.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=P0(),{heartbeatsToSend:i,unsentEntries:a}=xS(this._heartbeatsCache.heartbeats),o=Ou(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ji.warn(e),""}}}function P0(){return new Date().toISOString().substring(0,10)}function xS(r,e=vS){const i=[];let a=r.slice();for(const o of r){const u=i.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),q0(i)>e){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),q0(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class ES{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oT()?cT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await yS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return z0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return z0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function q0(r){return Ou(JSON.stringify({version:2,heartbeats:r})).length}function TS(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}function SS(r){Qa(new Lr("platform-logger",e=>new kT(e),"PRIVATE")),Qa(new Lr("heartbeat",e=>new bS(e),"PRIVATE")),Fs(Of,L0,r),Fs(Of,L0,"esm2020"),Fs("fire-js","")}SS("");var AS="firebase",wS="12.6.0";Fs(AS,wS,"app");var B0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Gs,C_;(function(){var r;function e(R,A){function w(){}w.prototype=A.prototype,R.F=A.prototype,R.prototype=new w,R.prototype.constructor=R,R.D=function(O,D,k){for(var N=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)N[nt-2]=arguments[nt];return A.prototype[D].apply(O,N)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,A,w){w||(w=0);const O=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)O[D]=A.charCodeAt(w++)|A.charCodeAt(w++)<<8|A.charCodeAt(w++)<<16|A.charCodeAt(w++)<<24;else for(D=0;D<16;++D)O[D]=A[w++]|A[w++]<<8|A[w++]<<16|A[w++]<<24;A=R.g[0],w=R.g[1],D=R.g[2];let k=R.g[3],N;N=A+(k^w&(D^k))+O[0]+3614090360&4294967295,A=w+(N<<7&4294967295|N>>>25),N=k+(D^A&(w^D))+O[1]+3905402710&4294967295,k=A+(N<<12&4294967295|N>>>20),N=D+(w^k&(A^w))+O[2]+606105819&4294967295,D=k+(N<<17&4294967295|N>>>15),N=w+(A^D&(k^A))+O[3]+3250441966&4294967295,w=D+(N<<22&4294967295|N>>>10),N=A+(k^w&(D^k))+O[4]+4118548399&4294967295,A=w+(N<<7&4294967295|N>>>25),N=k+(D^A&(w^D))+O[5]+1200080426&4294967295,k=A+(N<<12&4294967295|N>>>20),N=D+(w^k&(A^w))+O[6]+2821735955&4294967295,D=k+(N<<17&4294967295|N>>>15),N=w+(A^D&(k^A))+O[7]+4249261313&4294967295,w=D+(N<<22&4294967295|N>>>10),N=A+(k^w&(D^k))+O[8]+1770035416&4294967295,A=w+(N<<7&4294967295|N>>>25),N=k+(D^A&(w^D))+O[9]+2336552879&4294967295,k=A+(N<<12&4294967295|N>>>20),N=D+(w^k&(A^w))+O[10]+4294925233&4294967295,D=k+(N<<17&4294967295|N>>>15),N=w+(A^D&(k^A))+O[11]+2304563134&4294967295,w=D+(N<<22&4294967295|N>>>10),N=A+(k^w&(D^k))+O[12]+1804603682&4294967295,A=w+(N<<7&4294967295|N>>>25),N=k+(D^A&(w^D))+O[13]+4254626195&4294967295,k=A+(N<<12&4294967295|N>>>20),N=D+(w^k&(A^w))+O[14]+2792965006&4294967295,D=k+(N<<17&4294967295|N>>>15),N=w+(A^D&(k^A))+O[15]+1236535329&4294967295,w=D+(N<<22&4294967295|N>>>10),N=A+(D^k&(w^D))+O[1]+4129170786&4294967295,A=w+(N<<5&4294967295|N>>>27),N=k+(w^D&(A^w))+O[6]+3225465664&4294967295,k=A+(N<<9&4294967295|N>>>23),N=D+(A^w&(k^A))+O[11]+643717713&4294967295,D=k+(N<<14&4294967295|N>>>18),N=w+(k^A&(D^k))+O[0]+3921069994&4294967295,w=D+(N<<20&4294967295|N>>>12),N=A+(D^k&(w^D))+O[5]+3593408605&4294967295,A=w+(N<<5&4294967295|N>>>27),N=k+(w^D&(A^w))+O[10]+38016083&4294967295,k=A+(N<<9&4294967295|N>>>23),N=D+(A^w&(k^A))+O[15]+3634488961&4294967295,D=k+(N<<14&4294967295|N>>>18),N=w+(k^A&(D^k))+O[4]+3889429448&4294967295,w=D+(N<<20&4294967295|N>>>12),N=A+(D^k&(w^D))+O[9]+568446438&4294967295,A=w+(N<<5&4294967295|N>>>27),N=k+(w^D&(A^w))+O[14]+3275163606&4294967295,k=A+(N<<9&4294967295|N>>>23),N=D+(A^w&(k^A))+O[3]+4107603335&4294967295,D=k+(N<<14&4294967295|N>>>18),N=w+(k^A&(D^k))+O[8]+1163531501&4294967295,w=D+(N<<20&4294967295|N>>>12),N=A+(D^k&(w^D))+O[13]+2850285829&4294967295,A=w+(N<<5&4294967295|N>>>27),N=k+(w^D&(A^w))+O[2]+4243563512&4294967295,k=A+(N<<9&4294967295|N>>>23),N=D+(A^w&(k^A))+O[7]+1735328473&4294967295,D=k+(N<<14&4294967295|N>>>18),N=w+(k^A&(D^k))+O[12]+2368359562&4294967295,w=D+(N<<20&4294967295|N>>>12),N=A+(w^D^k)+O[5]+4294588738&4294967295,A=w+(N<<4&4294967295|N>>>28),N=k+(A^w^D)+O[8]+2272392833&4294967295,k=A+(N<<11&4294967295|N>>>21),N=D+(k^A^w)+O[11]+1839030562&4294967295,D=k+(N<<16&4294967295|N>>>16),N=w+(D^k^A)+O[14]+4259657740&4294967295,w=D+(N<<23&4294967295|N>>>9),N=A+(w^D^k)+O[1]+2763975236&4294967295,A=w+(N<<4&4294967295|N>>>28),N=k+(A^w^D)+O[4]+1272893353&4294967295,k=A+(N<<11&4294967295|N>>>21),N=D+(k^A^w)+O[7]+4139469664&4294967295,D=k+(N<<16&4294967295|N>>>16),N=w+(D^k^A)+O[10]+3200236656&4294967295,w=D+(N<<23&4294967295|N>>>9),N=A+(w^D^k)+O[13]+681279174&4294967295,A=w+(N<<4&4294967295|N>>>28),N=k+(A^w^D)+O[0]+3936430074&4294967295,k=A+(N<<11&4294967295|N>>>21),N=D+(k^A^w)+O[3]+3572445317&4294967295,D=k+(N<<16&4294967295|N>>>16),N=w+(D^k^A)+O[6]+76029189&4294967295,w=D+(N<<23&4294967295|N>>>9),N=A+(w^D^k)+O[9]+3654602809&4294967295,A=w+(N<<4&4294967295|N>>>28),N=k+(A^w^D)+O[12]+3873151461&4294967295,k=A+(N<<11&4294967295|N>>>21),N=D+(k^A^w)+O[15]+530742520&4294967295,D=k+(N<<16&4294967295|N>>>16),N=w+(D^k^A)+O[2]+3299628645&4294967295,w=D+(N<<23&4294967295|N>>>9),N=A+(D^(w|~k))+O[0]+4096336452&4294967295,A=w+(N<<6&4294967295|N>>>26),N=k+(w^(A|~D))+O[7]+1126891415&4294967295,k=A+(N<<10&4294967295|N>>>22),N=D+(A^(k|~w))+O[14]+2878612391&4294967295,D=k+(N<<15&4294967295|N>>>17),N=w+(k^(D|~A))+O[5]+4237533241&4294967295,w=D+(N<<21&4294967295|N>>>11),N=A+(D^(w|~k))+O[12]+1700485571&4294967295,A=w+(N<<6&4294967295|N>>>26),N=k+(w^(A|~D))+O[3]+2399980690&4294967295,k=A+(N<<10&4294967295|N>>>22),N=D+(A^(k|~w))+O[10]+4293915773&4294967295,D=k+(N<<15&4294967295|N>>>17),N=w+(k^(D|~A))+O[1]+2240044497&4294967295,w=D+(N<<21&4294967295|N>>>11),N=A+(D^(w|~k))+O[8]+1873313359&4294967295,A=w+(N<<6&4294967295|N>>>26),N=k+(w^(A|~D))+O[15]+4264355552&4294967295,k=A+(N<<10&4294967295|N>>>22),N=D+(A^(k|~w))+O[6]+2734768916&4294967295,D=k+(N<<15&4294967295|N>>>17),N=w+(k^(D|~A))+O[13]+1309151649&4294967295,w=D+(N<<21&4294967295|N>>>11),N=A+(D^(w|~k))+O[4]+4149444226&4294967295,A=w+(N<<6&4294967295|N>>>26),N=k+(w^(A|~D))+O[11]+3174756917&4294967295,k=A+(N<<10&4294967295|N>>>22),N=D+(A^(k|~w))+O[2]+718787259&4294967295,D=k+(N<<15&4294967295|N>>>17),N=w+(k^(D|~A))+O[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(D+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+k&4294967295}a.prototype.v=function(R,A){A===void 0&&(A=R.length);const w=A-this.blockSize,O=this.C;let D=this.h,k=0;for(;k<A;){if(D==0)for(;k<=w;)o(this,R,k),k+=this.blockSize;if(typeof R=="string"){for(;k<A;)if(O[D++]=R.charCodeAt(k++),D==this.blockSize){o(this,O),D=0;break}}else for(;k<A;)if(O[D++]=R[k++],D==this.blockSize){o(this,O),D=0;break}}this.h=D,this.o+=A},a.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var w=R.length-8;w<R.length;++w)R[w]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,w=0;w<4;++w)for(let O=0;O<32;O+=8)R[A++]=this.g[w]>>>O&255;return R};function u(R,A){var w=p;return Object.prototype.hasOwnProperty.call(w,R)?w[R]:w[R]=A(R)}function f(R,A){this.h=A;const w=[];let O=!0;for(let D=R.length-1;D>=0;D--){const k=R[D]|0;O&&k==A||(w[D]=k,O=!1)}this.g=w}var p={};function _(R){return-128<=R&&R<128?u(R,function(A){return new f([A|0],A<0?-1:0)}):new f([R|0],R<0?-1:0)}function v(R){if(isNaN(R)||!isFinite(R))return S;if(R<0)return Z(v(-R));const A=[];let w=1;for(let O=0;R>=w;O++)A[O]=R/w|0,w*=4294967296;return new f(A,0)}function E(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return Z(E(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=v(Math.pow(A,8));let O=S;for(let k=0;k<R.length;k+=8){var D=Math.min(8,R.length-k);const N=parseInt(R.substring(k,k+D),A);D<8?(D=v(Math.pow(A,D)),O=O.j(D).add(v(N))):(O=O.j(w),O=O.add(v(N)))}return O}var S=_(0),I=_(1),F=_(16777216);r=f.prototype,r.m=function(){if(J(this))return-Z(this).m();let R=0,A=1;for(let w=0;w<this.g.length;w++){const O=this.i(w);R+=(O>=0?O:4294967296+O)*A,A*=4294967296}return R},r.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(X(this))return"0";if(J(this))return"-"+Z(this).toString(R);const A=v(Math.pow(R,6));var w=this;let O="";for(;;){const D=me(w,A).g;w=he(w,D.j(A));let k=((w.g.length>0?w.g[0]:w.h)>>>0).toString(R);if(w=D,X(w))return k+O;for(;k.length<6;)k="0"+k;O=k+O}},r.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function X(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function J(R){return R.h==-1}r.l=function(R){return R=he(this,R),J(R)?-1:X(R)?0:1};function Z(R){const A=R.g.length,w=[];for(let O=0;O<A;O++)w[O]=~R.g[O];return new f(w,~R.h).add(I)}r.abs=function(){return J(this)?Z(this):this},r.add=function(R){const A=Math.max(this.g.length,R.g.length),w=[];let O=0;for(let D=0;D<=A;D++){let k=O+(this.i(D)&65535)+(R.i(D)&65535),N=(k>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);O=N>>>16,k&=65535,N&=65535,w[D]=N<<16|k}return new f(w,w[w.length-1]&-2147483648?-1:0)};function he(R,A){return R.add(Z(A))}r.j=function(R){if(X(this)||X(R))return S;if(J(this))return J(R)?Z(this).j(Z(R)):Z(Z(this).j(R));if(J(R))return Z(this.j(Z(R)));if(this.l(F)<0&&R.l(F)<0)return v(this.m()*R.m());const A=this.g.length+R.g.length,w=[];for(var O=0;O<2*A;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<R.g.length;D++){const k=this.i(O)>>>16,N=this.i(O)&65535,nt=R.i(D)>>>16,Rt=R.i(D)&65535;w[2*O+2*D]+=N*Rt,ue(w,2*O+2*D),w[2*O+2*D+1]+=k*Rt,ue(w,2*O+2*D+1),w[2*O+2*D+1]+=N*nt,ue(w,2*O+2*D+1),w[2*O+2*D+2]+=k*nt,ue(w,2*O+2*D+2)}for(R=0;R<A;R++)w[R]=w[2*R+1]<<16|w[2*R];for(R=A;R<2*A;R++)w[R]=0;return new f(w,0)};function ue(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function ne(R,A){this.g=R,this.h=A}function me(R,A){if(X(A))throw Error("division by zero");if(X(R))return new ne(S,S);if(J(R))return A=me(Z(R),A),new ne(Z(A.g),Z(A.h));if(J(A))return A=me(R,Z(A)),new ne(Z(A.g),A.h);if(R.g.length>30){if(J(R)||J(A))throw Error("slowDivide_ only works with positive integers.");for(var w=I,O=A;O.l(R)<=0;)w=De(w),O=De(O);var D=Se(w,1),k=Se(O,1);for(O=Se(O,2),w=Se(w,2);!X(O);){var N=k.add(O);N.l(R)<=0&&(D=D.add(w),k=N),O=Se(O,1),w=Se(w,1)}return A=he(R,D.j(A)),new ne(D,A)}for(D=S;R.l(A)>=0;){for(w=Math.max(1,Math.floor(R.m()/A.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),k=v(w),N=k.j(A);J(N)||N.l(R)>0;)w-=O,k=v(w),N=k.j(A);X(k)&&(k=I),D=D.add(k),R=he(R,N)}return new ne(D,R)}r.B=function(R){return me(this,R).h},r.and=function(R){const A=Math.max(this.g.length,R.g.length),w=[];for(let O=0;O<A;O++)w[O]=this.i(O)&R.i(O);return new f(w,this.h&R.h)},r.or=function(R){const A=Math.max(this.g.length,R.g.length),w=[];for(let O=0;O<A;O++)w[O]=this.i(O)|R.i(O);return new f(w,this.h|R.h)},r.xor=function(R){const A=Math.max(this.g.length,R.g.length),w=[];for(let O=0;O<A;O++)w[O]=this.i(O)^R.i(O);return new f(w,this.h^R.h)};function De(R){const A=R.g.length+1,w=[];for(let O=0;O<A;O++)w[O]=R.i(O)<<1|R.i(O-1)>>>31;return new f(w,R.h)}function Se(R,A){const w=A>>5;A%=32;const O=R.g.length-w,D=[];for(let k=0;k<O;k++)D[k]=A>0?R.i(k+w)>>>A|R.i(k+w+1)<<32-A:R.i(k+w);return new f(D,R.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,C_=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=v,f.fromString=E,Gs=f}).apply(typeof B0<"u"?B0:typeof self<"u"?self:typeof window<"u"?window:{});var pu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var R_,po,I_,Tu,Lf,j_,D_,M_;(function(){var r,e=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof pu=="object"&&pu];for(var g=0;g<c.length;++g){var b=c[g];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var a=i(this);function o(c,g){if(g)e:{var b=a;c=c.split(".");for(var T=0;T<c.length-1;T++){var L=c[T];if(!(L in b))break e;b=b[L]}c=c[c.length-1],T=b[c],g=g(T),g!=T&&g!=null&&e(b,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var b=[],T;for(T in g)Object.prototype.hasOwnProperty.call(g,T)&&b.push([T,g[T]]);return b}});var u=u||{},f=this||self;function p(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function _(c,g,b){return c.call.apply(c.bind,arguments)}function v(c,g,b){return v=_,v.apply(null,arguments)}function E(c,g){var b=Array.prototype.slice.call(arguments,1);return function(){var T=b.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function S(c,g){function b(){}b.prototype=g.prototype,c.Z=g.prototype,c.prototype=new b,c.prototype.constructor=c,c.Ob=function(T,L,q){for(var te=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)te[Ee-2]=arguments[Ee];return g.prototype[L].apply(T,te)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function F(c){const g=c.length;if(g>0){const b=Array(g);for(let T=0;T<g;T++)b[T]=c[T];return b}return[]}function X(c,g){for(let T=1;T<arguments.length;T++){const L=arguments[T];var b=typeof L;if(b=b!="object"?b:L?Array.isArray(L)?"array":b:"null",b=="array"||b=="object"&&typeof L.length=="number"){b=c.length||0;const q=L.length||0;c.length=b+q;for(let te=0;te<q;te++)c[b+te]=L[te]}else c.push(L)}}class J{constructor(g,b){this.i=g,this.j=b,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function Z(c){f.setTimeout(()=>{throw c},0)}function he(){var c=R;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class ue{constructor(){this.h=this.g=null}add(g,b){const T=ne.get();T.set(g,b),this.h?this.h.next=T:this.g=T,this.h=T}}var ne=new J(()=>new me,c=>c.reset());class me{constructor(){this.next=this.g=this.h=null}set(g,b){this.h=g,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let De,Se=!1,R=new ue,A=()=>{const c=Promise.resolve(void 0);De=()=>{c.then(w)}};function w(){for(var c;c=he();){try{c.h.call(c.g)}catch(b){Z(b)}var g=ne;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}Se=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};f.addEventListener("test",b,g),f.removeEventListener("test",b,g)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function nt(c,g){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}S(nt,D),nt.prototype.init=function(c,g){const b=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(b=="mouseover"?g=c.fromElement:b=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&nt.Z.h.call(this)},nt.prototype.h=function(){nt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Rt="closure_listenable_"+(Math.random()*1e6|0),G=0;function ie(c,g,b,T,L){this.listener=c,this.proxy=null,this.src=g,this.type=b,this.capture=!!T,this.ha=L,this.key=++G,this.da=this.fa=!1}function fe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ue(c,g,b){for(const T in c)g.call(b,c[T],T,c)}function Fe(c,g){for(const b in c)g.call(void 0,c[b],b,c)}function M(c){const g={};for(const b in c)g[b]=c[b];return g}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(c,g){let b,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(b in T)c[b]=T[b];for(let q=0;q<K.length;q++)b=K[q],Object.prototype.hasOwnProperty.call(T,b)&&(c[b]=T[b])}}function re(c){this.src=c,this.g={},this.h=0}re.prototype.add=function(c,g,b,T,L){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const te=Ae(c,g,T,L);return te>-1?(g=c[te],b||(g.fa=!1)):(g=new ie(g,this.src,q,!!T,L),g.fa=b,c.push(g)),g};function ve(c,g){const b=g.type;if(b in c.g){var T=c.g[b],L=Array.prototype.indexOf.call(T,g,void 0),q;(q=L>=0)&&Array.prototype.splice.call(T,L,1),q&&(fe(g),c.g[b].length==0&&(delete c.g[b],c.h--))}}function Ae(c,g,b,T){for(let L=0;L<c.length;++L){const q=c[L];if(!q.da&&q.listener==g&&q.capture==!!b&&q.ha==T)return L}return-1}var Ve="closure_lm_"+(Math.random()*1e6|0),It={};function it(c,g,b,T,L){if(Array.isArray(g)){for(let q=0;q<g.length;q++)it(c,g[q],b,T,L);return null}return b=hl(b),c&&c[Rt]?c.J(g,b,p(T)?!!T.capture:!1,L):Ws(c,g,b,!1,T,L)}function Ws(c,g,b,T,L,q){if(!g)throw Error("Invalid event type");const te=p(L)?!!L.capture:!!L;let Ee=er(c);if(Ee||(c[Ve]=Ee=new re(c)),b=Ee.add(g,b,T,te,q),b.proxy)return b;if(T=Hr(),b.proxy=T,T.src=c,T.listener=b,c.addEventListener)k||(L=te),L===void 0&&(L=!1),c.addEventListener(g.toString(),T,L);else if(c.attachEvent)c.attachEvent(Zn(g.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Hr(){function c(b){return g.call(c.src,c.listener,b)}const g=cl;return c}function Fr(c,g,b,T,L){if(Array.isArray(g))for(var q=0;q<g.length;q++)Fr(c,g[q],b,T,L);else T=p(T)?!!T.capture:!!T,b=hl(b),c&&c[Rt]?(c=c.i,q=String(g).toString(),q in c.g&&(g=c.g[q],b=Ae(g,b,T,L),b>-1&&(fe(g[b]),Array.prototype.splice.call(g,b,1),g.length==0&&(delete c.g[q],c.h--)))):c&&(c=er(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Ae(g,b,T,L)),(b=c>-1?g[c]:null)&&Gr(b))}function Gr(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Rt])ve(g.i,c);else{var b=c.type,T=c.proxy;g.removeEventListener?g.removeEventListener(b,T,c.capture):g.detachEvent?g.detachEvent(Zn(b),T):g.addListener&&g.removeListener&&g.removeListener(T),(b=er(g))?(ve(b,c),b.h==0&&(b.src=null,g[Ve]=null)):fe(c)}}}function Zn(c){return c in It?It[c]:It[c]="on"+c}function cl(c,g){if(c.da)c=!0;else{g=new nt(g,this);const b=c.listener,T=c.ha||c.src;c.fa&&Gr(c),c=b.call(T,g)}return c}function er(c){return c=c[Ve],c instanceof re?c:null}var ul="__closure_events_fn_"+(Math.random()*1e9>>>0);function hl(c){return typeof c=="function"?c:(c[ul]||(c[ul]=function(g){return c.handleEvent(g)}),c[ul])}function yt(){O.call(this),this.i=new re(this),this.M=this,this.G=null}S(yt,O),yt.prototype[Rt]=!0,yt.prototype.removeEventListener=function(c,g,b,T){Fr(this,c,g,b,T)};function jt(c,g){var b,T=c.G;if(T)for(b=[];T;T=T.G)b.push(T);if(c=c.M,T=g.type||g,typeof g=="string")g=new D(g,c);else if(g instanceof D)g.target=g.target||c;else{var L=g;g=new D(T,c),se(g,L)}L=!0;let q,te;if(b)for(te=b.length-1;te>=0;te--)q=g.g=b[te],L=ns(q,T,!0,g)&&L;if(q=g.g=c,L=ns(q,T,!0,g)&&L,L=ns(q,T,!1,g)&&L,b)for(te=0;te<b.length;te++)q=g.g=b[te],L=ns(q,T,!1,g)&&L}yt.prototype.N=function(){if(yt.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const b=c.g[g];for(let T=0;T<b.length;T++)fe(b[T]);delete c.g[g],c.h--}}this.G=null},yt.prototype.J=function(c,g,b,T){return this.i.add(String(c),g,!1,b,T)},yt.prototype.K=function(c,g,b,T){return this.i.add(String(c),g,!0,b,T)};function ns(c,g,b,T){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let L=!0;for(let q=0;q<g.length;++q){const te=g[q];if(te&&!te.da&&te.capture==b){const Ee=te.listener,dt=te.ha||te.src;te.fa&&ve(c.i,te),L=Ee.call(dt,T)!==!1&&L}}return L&&!T.defaultPrevented}function dh(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=v(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function qo(c){c.g=dh(()=>{c.g=null,c.i&&(c.i=!1,qo(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class tn extends O{constructor(g,b){super(),this.m=g,this.l=b,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:qo(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tr(c){O.call(this),this.h=c,this.g={}}S(tr,O);var dl=[];function fl(c){Ue(c.g,function(g,b){this.g.hasOwnProperty(b)&&Gr(g)},c),c.g={}}tr.prototype.N=function(){tr.Z.N.call(this),fl(this)},tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var is=f.JSON.stringify,fh=f.JSON.parse,Bo=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Ho(){}function Fo(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){D.call(this,"d")}S(qt,D);function Tn(){D.call(this,"c")}S(Tn,D);var ht={},Go=null;function Qr(){return Go=Go||new yt}ht.Ia="serverreachability";function Qo(c){D.call(this,ht.Ia,c)}S(Qo,D);function Wn(c){const g=Qr();jt(g,new Qo(g))}ht.STAT_EVENT="statevent";function nr(c,g){D.call(this,ht.STAT_EVENT,c),this.stat=g}S(nr,D);function vt(c){const g=Qr();jt(g,new nr(g,c))}ht.Ja="timingevent";function ei(c,g){D.call(this,ht.Ja,c),this.size=g}S(ei,D);function ti(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function mh(c,g,b,T,L,q){c.info(function(){if(c.g)if(q){var te="",Ee=q.split("&");for(let Be=0;Be<Ee.length;Be++){var dt=Ee[Be].split("=");if(dt.length>1){const st=dt[0];dt=dt[1];const Nn=st.split("_");te=Nn.length>=2&&Nn[1]=="type"?te+(st+"="+dt+"&"):te+(st+"=redacted&")}}}else te=null;else te=q;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+g+`
`+b+`
`+te})}function Yo(c,g,b,T,L,q,te){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+g+`
`+b+`
`+q+" "+te})}function ni(c,g,b,T){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+gh(c,b)+(T?" "+T:"")})}function ir(c,g){c.info(function(){return"TIMEOUT: "+g})}zn.prototype.info=function(){};function gh(c,g){if(!c.g)return g;if(!g)return null;try{const q=JSON.parse(g);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var b=q[c];if(!(b.length<2)){var T=b[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let te=1;te<T.length;te++)T[te]=""}}}}return is(q)}catch{return g}}var sr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ml={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},gl;function rr(){}S(rr,Ho),rr.prototype.g=function(){return new XMLHttpRequest},gl=new rr;function Ii(c){return encodeURIComponent(String(c))}function Ko(c){var g=1;c=c.split(":");const b=[];for(;g>0&&c.length;)b.push(c.shift()),g--;return c.length&&b.push(c.join(":")),b}function Pn(c,g,b,T){this.j=c,this.i=g,this.l=b,this.S=T||1,this.V=new tr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qn}function qn(){this.i=null,this.g="",this.h=!1}var _t={},Lt={};function ii(c,g,b){c.M=1,c.A=ar(xt(g)),c.u=b,c.R=!0,Yr(c,null)}function Yr(c,g){c.F=Date.now(),si(c),c.B=xt(c.A);var b=c.B,T=c.S;Array.isArray(T)||(T=[String(T)]),Jr(b.i,"t",T),c.C=0,b=c.j.L,c.h=new qn,c.g=cc(c.j,b?g:null,!c.u),c.P>0&&(c.O=new tn(v(c.Y,c,c.g),c.P)),g=c.V,b=c.g,T=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(dl[0]=L.toString()),L=dl);for(let q=0;q<L.length;q++){const te=it(b,L[q],T||g.handleEvent,!1,g.h||g);if(!te)break;g.g[te.key]=te}g=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),Wn(),mh(c.i,c.v,c.B,c.l,c.S,c.u)}Pn.prototype.ba=function(c){c=c.target;const g=this.O;g&&Fn(c)==3?g.j():this.Y(c)},Pn.prototype.Y=function(c){try{if(c==this.g)e:{const Ee=Fn(this.g),dt=this.g.ya(),Be=this.g.ca();if(!(Ee<3)&&(Ee!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||Ee!=4||dt==7||(dt==8||Be<=0?Wn(3):Wn(2)),ri(this);var g=this.g.ca();this.X=g;var b=ph(this);if(this.o=g==200,Yo(this.i,this.v,this.B,this.l,this.S,Ee,g),this.o){if(this.U&&!this.L){t:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(T)){var q=T;break t}}q=null}if(c=q)ni(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ai(this,c);else{this.o=!1,this.m=3,vt(12),mn(this),Sn(this);break e}}if(this.R){c=!0;let st;for(;!this.K&&this.C<b.length;)if(st=$o(this,b),st==Lt){Ee==4&&(this.m=4,vt(14),c=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(st==_t){this.m=4,vt(15),ni(this.i,this.l,b,"[Invalid Chunk]"),c=!1;break}else ni(this.i,this.l,st,null),ai(this,st);if(Xo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||b.length!=0||this.h.h||(this.m=1,vt(16),c=!1),this.o=this.o&&c,!c)ni(this.i,this.l,b,"[Invalid Chunked Response]"),mn(this),Sn(this);else if(b.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Il(te),te.P=!0,vt(11))}}else ni(this.i,this.l,b,null),ai(this,b);Ee==4&&mn(this),this.o&&!this.K&&(Ee==4?rc(this.j,this):(this.o=!1,si(this)))}else Di(this.g),g==400&&b.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),mn(this),Sn(this)}}}catch{}finally{}};function ph(c){if(!Xo(c))return c.g.la();const g=Bt(c.g);if(g==="")return"";let b="";const T=g.length,L=Fn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return mn(c),Sn(c),"";c.h.i=new f.TextDecoder}for(let q=0;q<T;q++)c.h.h=!0,b+=c.h.i.decode(g[q],{stream:!(L&&q==T-1)});return g.length=0,c.h.g+=b,c.C=0,c.h.g}function Xo(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function $o(c,g){var b=c.C,T=g.indexOf(`
`,b);return T==-1?Lt:(b=Number(g.substring(b,T)),isNaN(b)?_t:(T+=1,T+b>g.length?Lt:(g=g.slice(T,T+b),c.C=T+b,g)))}Pn.prototype.cancel=function(){this.K=!0,mn(this)};function si(c){c.T=Date.now()+c.H,Kr(c,c.H)}function Kr(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ti(v(c.aa,c),g)}function ri(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Pn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ir(this.i,this.B),this.M!=2&&(Wn(),vt(17)),mn(this),this.m=2,Sn(this)):Kr(this,this.T-c)};function Sn(c){c.j.I==0||c.K||rc(c.j,c)}function mn(c){ri(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,fl(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function ai(c,g){try{var b=c.j;if(b.I!=0&&(b.g==c||oi(b.h,c))){if(!c.L&&oi(b.h,c)&&b.I==3){try{var T=b.Ba.g.parse(g)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<c.F)na(b),hs(b);else break e;fr(b),vt(18)}}else b.xa=L[1],0<b.xa-b.K&&L[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=ti(v(b.Va,b),6e3));li(b.h)<=1&&b.ta&&(b.ta=void 0)}else mi(b,11)}else if((c.L||b.g==c)&&na(b),!N(g))for(L=b.Ba.g.parse(g),g=0;g<L.length;g++){let Be=L[g];const st=Be[0];if(!(st<=b.K))if(b.K=st,Be=Be[1],b.I==2)if(Be[0]=="c"){b.M=Be[1],b.ba=Be[2];const Nn=Be[3];Nn!=null&&(b.ka=Nn,b.j.info("VER="+b.ka));const gi=Be[4];gi!=null&&(b.za=gi,b.j.info("SVER="+b.za));const Gn=Be[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(T=1.5*Gn,b.O=T,b.j.info("backChannelRequestTimeoutMs_="+T)),T=b;const Qn=c.g;if(Qn){const mr=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mr){var q=T.h;q.g||mr.indexOf("spdy")==-1&&mr.indexOf("quic")==-1&&mr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(vl(q,q.h),q.h=null))}if(T.G){const ia=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;ia&&(T.wa=ia,Ge(T.J,T.G,ia))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-c.F,b.j.info("Handshake RTT: "+b.T+"ms")),T=b;var te=c;if(T.na=oc(T,T.L?T.ba:null,T.W),te.L){_l(T.h,te);var Ee=te,dt=T.O;dt&&(Ee.H=dt),Ee.D&&(ri(Ee),si(Ee)),T.g=te}else ic(T);b.i.length>0&&fi(b)}else Be[0]!="stop"&&Be[0]!="close"||mi(b,7);else b.I==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?mi(b,7):Cl(b):Be[0]!="noop"&&b.l&&b.l.qa(Be),b.A=0)}}Wn(4)}catch{}}var bt=class{constructor(c,g){this.g=c,this.map=g}};function pl(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function yl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function li(c){return c.h?1:c.g?c.g.size:0}function oi(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function vl(c,g){c.g?c.g.add(g):c.h=g}function _l(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}pl.prototype.cancel=function(){if(this.i=bl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function bl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const b of c.g.values())g=g.concat(b.G);return g}return F(c.i)}var Jo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xr(c,g){if(c){c=c.split("&");for(let b=0;b<c.length;b++){const T=c[b].indexOf("=");let L,q=null;T>=0?(L=c[b].substring(0,T),q=c[b].substring(T+1)):L=c[b],g(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function gn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof gn?(this.l=c.l,Ut(this,c.j),this.o=c.o,this.g=c.g,ss(this,c.u),this.h=c.h,xl(this,tc(c.i)),this.m=c.m):c&&(g=String(c).match(Jo))?(this.l=!1,Ut(this,g[1]||"",!0),this.o=ci(g[2]||""),this.g=ci(g[3]||"",!0),ss(this,g[4]),this.h=ci(g[5]||"",!0),xl(this,g[6]||"",!0),this.m=ci(g[7]||"")):(this.l=!1,this.i=new as(null,this.l))}gn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(lr(g,$r,!0),":");var b=this.g;return(b||g=="file")&&(c.push("//"),(g=this.o)&&c.push(lr(g,$r,!0),"@"),c.push(Ii(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&c.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(lr(b,b.charAt(0)=="/"?El:Zo,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",lr(b,Wo)),c.join("")},gn.prototype.resolve=function(c){const g=xt(this);let b=!!c.j;b?Ut(g,c.j):b=!!c.o,b?g.o=c.o:b=!!c.g,b?g.g=c.g:b=c.u!=null;var T=c.h;if(b)ss(g,c.u);else if(b=!!c.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=g.h.lastIndexOf("/");L!=-1&&(T=g.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let te=0;te<L.length;){const Ee=L[te++];Ee=="."?T&&te==L.length&&q.push(""):Ee==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&te==L.length&&q.push("")):(q.push(Ee),T=!0)}T=q.join("/")}else T=L}return b?g.h=T:b=c.i.toString()!=="",b?xl(g,tc(c.i)):b=!!c.m,b&&(g.m=c.m),g};function xt(c){return new gn(c)}function Ut(c,g,b){c.j=b?ci(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ss(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function xl(c,g,b){g instanceof as?(c.i=g,Zr(c.i,c.l)):(b||(g=lr(g,rs)),c.i=new as(g,c.l))}function Ge(c,g,b){c.i.set(g,b)}function ar(c){return Ge(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ci(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function lr(c,g,b){return typeof c=="string"?(c=encodeURI(c).replace(g,an),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function an(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var $r=/[#\/\?@]/g,Zo=/[#\?:]/g,El=/[#\?]/g,rs=/[#\?@]/g,Wo=/#/g;function as(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function ln(c){c.g||(c.g=new Map,c.h=0,c.i&&Xr(c.i,function(g,b){c.add(decodeURIComponent(g.replace(/\+/g," ")),b)}))}r=as.prototype,r.add=function(c,g){ln(this),this.i=null,c=ls(this,c);let b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(g),this.h+=1,this};function ec(c,g){ln(c),g=ls(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Tl(c,g){return ln(c),g=ls(c,g),c.g.has(g)}r.forEach=function(c,g){ln(this),this.g.forEach(function(b,T){b.forEach(function(L){c.call(g,L,T,this)},this)},this)};function Sl(c,g){ln(c);let b=[];if(typeof g=="string")Tl(c,g)&&(b=b.concat(c.g.get(ls(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)b=b.concat(c[g]);return b}r.set=function(c,g){return ln(this),this.i=null,c=ls(this,c),Tl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=Sl(this,c),c.length>0?String(c[0]):g):g};function Jr(c,g,b){ec(c,g),b.length>0&&(c.i=null,c.g.set(ls(c,g),F(b)),c.h+=b.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let T=0;T<g.length;T++){var b=g[T];const L=Ii(b);b=Sl(this,b);for(let q=0;q<b.length;q++){let te=L;b[q]!==""&&(te+="="+Ii(b[q])),c.push(te)}}return this.i=c.join("&")};function tc(c){const g=new as;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function ls(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Zr(c,g){g&&!c.j&&(ln(c),c.i=null,c.g.forEach(function(b,T){const L=T.toLowerCase();T!=L&&(ec(this,T),Jr(this,L,b))},c)),c.j=g}function Bn(c,g){const b=new zn;if(f.Image){const T=new Image;T.onload=E(An,b,"TestLoadImage: loaded",!0,g,T),T.onerror=E(An,b,"TestLoadImage: error",!1,g,T),T.onabort=E(An,b,"TestLoadImage: abort",!1,g,T),T.ontimeout=E(An,b,"TestLoadImage: timeout",!1,g,T),f.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else g(!1)}function Al(c,g){const b=new zn,T=new AbortController,L=setTimeout(()=>{T.abort(),An(b,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:T.signal}).then(q=>{clearTimeout(L),q.ok?An(b,"TestPingServer: ok",!0,g):An(b,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(L),An(b,"TestPingServer: error",!1,g)})}function An(c,g,b,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(b)}catch{}}function os(){this.g=new Bo}function ui(c){this.i=c.Sb||null,this.h=c.ab||!1}S(ui,Ho),ui.prototype.g=function(){return new or(this.i,this.h)};function or(c,g){yt.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(or,yt),r=or.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,Hn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,cs(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Wr(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Wr(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?cs(this):Hn(this),this.readyState==3&&Wr(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,cs(this))},r.Na=function(c){this.g&&(this.response=c,cs(this))},r.ga=function(){this.g&&cs(this)};function cs(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Hn(c)}r.setRequestHeader=function(c,g){this.A.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var b=g.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=g.next();return c.join(`\r
`)};function Hn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(or.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function wn(c){let g="";return Ue(c,function(b,T){g+=T,g+=":",g+=b,g+=`\r
`}),g}function cr(c,g,b){e:{for(T in b){var T=!1;break e}T=!0}T||(b=wn(b),typeof c=="string"?b!=null&&Ii(b):Ge(c,g,b))}function Ke(c){yt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Ke,yt);var hi=/^https?$/i,wl=["POST","PUT"];r=Ke.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,g,b,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():gl.g(),this.g.onreadystatechange=I(v(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(q){ur(this,q);return}if(c=b||"",b=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)b.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())b.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(b.keys()).find(q=>q.toLowerCase()=="content-type"),L=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(wl,g,void 0)>=0)||T||L||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,te]of b)this.g.setRequestHeader(q,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){ur(this,q)}};function ur(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,Nl(c),ji(c)}function Nl(c){c.A||(c.A=!0,jt(c,"complete"),jt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,jt(this,"complete"),jt(this,"abort"),ji(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ji(this,!0)),Ke.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?hr(this):this.Xa())},r.Xa=function(){hr(this)};function hr(c){if(c.h&&typeof u<"u"){if(c.v&&Fn(c)==4)setTimeout(c.Ca.bind(c),0);else if(jt(c,"readystatechange"),Fn(c)==4){c.h=!1;try{const q=c.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var b;if(!(b=g)){var T;if(T=q===0){let te=String(c.D).match(Jo)[1]||null;!te&&f.self&&f.self.location&&(te=f.self.location.protocol.slice(0,-1)),T=!hi.test(te?te.toLowerCase():"")}b=T}if(b)jt(c,"complete"),jt(c,"success");else{c.o=6;try{var L=Fn(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",Nl(c)}}finally{ji(c)}}}}function ji(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const b=c.g;c.g=null,g||jt(c,"ready");try{b.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Fn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Fn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),fh(g)}};function Bt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Di(c){const g={};c=(c.g&&Fn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(N(c[T]))continue;var b=Ko(c[T]);const L=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const q=g[L]||[];g[L]=q,q.push(b)}Fe(g,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function di(c,g,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||g}function us(c){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=di("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=di("baseRetryDelayMs",5e3,c),this.Za=di("retryDelaySeedMs",1e4,c),this.Ta=di("forwardChannelMaxRetries",2,c),this.va=di("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new pl(c&&c.concurrentRequestLimit),this.Ba=new os,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=us.prototype,r.ka=8,r.I=1,r.connect=function(c,g,b,T){vt(0),this.W=c,this.H=g||{},b&&T!==void 0&&(this.H.OSID=b,this.H.OAID=T),this.F=this.X,this.J=oc(this,null,this.W),fi(this)};function Cl(c){if(ea(c),c.I==3){var g=c.V++,b=xt(c.J);if(Ge(b,"SID",c.M),Ge(b,"RID",g),Ge(b,"TYPE","terminate"),dr(c,b),g=new Pn(c,c.j,g),g.M=2,g.A=ar(xt(b)),b=!1,f.navigator&&f.navigator.sendBeacon)try{b=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!b&&f.Image&&(new Image().src=g.A,b=!0),b||(g.g=cc(g.j,null),g.g.ea(g.A)),g.F=Date.now(),si(g)}lc(c)}function hs(c){c.g&&(Il(c),c.g.cancel(),c.g=null)}function ea(c){hs(c),c.v&&(f.clearTimeout(c.v),c.v=null),na(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function fi(c){if(!yl(c.h)&&!c.m){c.m=!0;var g=c.Ea;De||A(),Se||(De(),Se=!0),R.add(g,c),c.D=0}}function ta(c,g){return li(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ti(v(c.Ea,c,g),ac(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new Pn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=M(q),se(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)e:{for(var g=0,b=0;b<this.i.length;b++){t:{var T=this.i[b];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(g+=T,g>4096){g=b;break e}if(g===4096||b===this.i.length-1){g=b+1;break e}}g=1e3}else g=1e3;g=nc(this,L,g),b=xt(this.J),Ge(b,"RID",c),Ge(b,"CVER",22),this.G&&Ge(b,"X-HTTP-Session-Id",this.G),dr(this,b),q&&(this.R?g="headers="+Ii(wn(q))+"&"+g:this.u&&cr(b,this.u,q)),vl(this.h,L),this.Ra&&Ge(b,"TYPE","init"),this.S?(Ge(b,"$req",g),Ge(b,"SID","null"),L.U=!0,ii(L,b,null)):ii(L,b,g),this.I=2}}else this.I==3&&(c?Rl(this,c):this.i.length==0||yl(this.h)||Rl(this))};function Rl(c,g){var b;g?b=g.l:b=c.V++;const T=xt(c.J);Ge(T,"SID",c.M),Ge(T,"RID",b),Ge(T,"AID",c.K),dr(c,T),c.u&&c.o&&cr(T,c.u,c.o),b=new Pn(c,c.j,b,c.D+1),c.u===null&&(b.J=c.o),g&&(c.i=g.G.concat(c.i)),g=nc(c,b,1e3),b.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),vl(c.h,b),ii(b,T,g)}function dr(c,g){c.H&&Ue(c.H,function(b,T){Ge(g,T,b)}),c.l&&Ue({},function(b,T){Ge(g,T,b)})}function nc(c,g,b){b=Math.min(c.i.length,b);const T=c.l?v(c.l.Ka,c.l,c):null;e:{var L=c.i;let Ee=-1;for(;;){const dt=["count="+b];Ee==-1?b>0?(Ee=L[0].g,dt.push("ofs="+Ee)):Ee=0:dt.push("ofs="+Ee);let Be=!0;for(let st=0;st<b;st++){var q=L[st].g;const Nn=L[st].map;if(q-=Ee,q<0)Ee=Math.max(0,L[st].g-100),Be=!1;else try{q="req"+q+"_"||"";try{var te=Nn instanceof Map?Nn:Object.entries(Nn);for(const[gi,Gn]of te){let Qn=Gn;p(Gn)&&(Qn=is(Gn)),dt.push(q+gi+"="+encodeURIComponent(Qn))}}catch(gi){throw dt.push(q+"type="+encodeURIComponent("_badmap")),gi}}catch{T&&T(Nn)}}if(Be){te=dt.join("&");break e}}te=void 0}return c=c.i.splice(0,b),g.G=c,te}function ic(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;De||A(),Se||(De(),Se=!0),R.add(g,c),c.A=0}}function fr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ti(v(c.Da,c),ac(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,sc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ti(v(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),hs(this),sc(this))};function Il(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function sc(c){c.g=new Pn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=xt(c.na);Ge(g,"RID","rpc"),Ge(g,"SID",c.M),Ge(g,"AID",c.K),Ge(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ge(g,"TO",c.ia),Ge(g,"TYPE","xmlhttp"),dr(c,g),c.u&&c.o&&cr(g,c.u,c.o),c.O&&(c.g.H=c.O);var b=c.g;c=c.ba,b.M=1,b.A=ar(xt(g)),b.u=null,b.R=!0,Yr(b,c)}r.Va=function(){this.C!=null&&(this.C=null,hs(this),fr(this),vt(19))};function na(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function rc(c,g){var b=null;if(c.g==g){na(c),Il(c),c.g=null;var T=2}else if(oi(c.h,g))b=g.G,_l(c.h,g),T=1;else return;if(c.I!=0){if(g.o)if(T==1){b=g.u?g.u.length:0,g=Date.now()-g.F;var L=c.D;T=Qr(),jt(T,new ei(T,b)),fi(c)}else ic(c);else if(L=g.m,L==3||L==0&&g.X>0||!(T==1&&ta(c,g)||T==2&&fr(c)))switch(b&&b.length>0&&(g=c.h,g.i=g.i.concat(b)),L){case 1:mi(c,5);break;case 4:mi(c,10);break;case 3:mi(c,6);break;default:mi(c,2)}}}function ac(c,g){let b=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(b*=2),b*g}function mi(c,g){if(c.j.info("Error code "+g),g==2){var b=v(c.bb,c),T=c.Ua;const L=!T;T=new gn(T||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ut(T,"https"),ar(T),L?Bn(T.toString(),b):Al(T.toString(),b)}else vt(2);c.I=0,c.l&&c.l.pa(g),lc(c),ea(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function lc(c){if(c.I=0,c.ja=[],c.l){const g=bl(c.h);(g.length!=0||c.i.length!=0)&&(X(c.ja,g),X(c.ja,c.i),c.h.i.length=0,F(c.i),c.i.length=0),c.l.oa()}}function oc(c,g,b){var T=b instanceof gn?xt(b):new gn(b);if(T.g!="")g&&(T.g=g+"."+T.g),ss(T,T.u);else{var L=f.location;T=L.protocol,g=g?g+"."+L.hostname:L.hostname,L=+L.port;const q=new gn(null);T&&Ut(q,T),g&&(q.g=g),L&&ss(q,L),b&&(q.h=b),T=q}return b=c.G,g=c.wa,b&&g&&Ge(T,b,g),Ge(T,"VER",c.ka),dr(c,T),T}function cc(c,g,b){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new Ke(new ui({ab:b})):new Ke(c.ma),g.Fa(c.L),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function uc(){}r=uc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ds(){}ds.prototype.g=function(c,g){return new nn(c,g)};function nn(c,g){yt.call(this),this.g=new us(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!N(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!N(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Mi(this)}S(nn,yt),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Cl(this.g)},nn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.v&&(b={},b.__data__=is(c),c=b);g.i.push(new bt(g.Ya++,c)),g.I==3&&fi(g)},nn.prototype.N=function(){this.g.l=null,delete this.j,Cl(this.g),delete this.g,nn.Z.N.call(this)};function hc(c){qt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const b in g){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}S(hc,qt);function dc(){Tn.call(this),this.status=1}S(dc,Tn);function Mi(c){this.g=c}S(Mi,uc),Mi.prototype.ra=function(){jt(this.g,"a")},Mi.prototype.qa=function(c){jt(this.g,new hc(c))},Mi.prototype.pa=function(c){jt(this.g,new dc)},Mi.prototype.oa=function(){jt(this.g,"b")},ds.prototype.createWebChannel=ds.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,M_=function(){return new ds},D_=function(){return Qr()},j_=ht,Lf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},sr.NO_ERROR=0,sr.TIMEOUT=8,sr.HTTP_ERROR=6,Tu=sr,ml.COMPLETE="complete",I_=ml,Fo.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",yt.prototype.listen=yt.prototype.J,po=Fo,Ke.prototype.listenOnce=Ke.prototype.K,Ke.prototype.getLastError=Ke.prototype.Ha,Ke.prototype.getLastErrorCode=Ke.prototype.ya,Ke.prototype.getStatus=Ke.prototype.ca,Ke.prototype.getResponseJson=Ke.prototype.La,Ke.prototype.getResponseText=Ke.prototype.la,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Fa,R_=Ke}).apply(typeof pu<"u"?pu:typeof self<"u"?self:typeof window<"u"?window:{});const H0="@firebase/firestore",F0="4.9.2";class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");let il="12.3.0";const Ur=new cm("@firebase/firestore");function Ma(){return Ur.logLevel}function ae(r,...e){if(Ur.logLevel<=je.DEBUG){const i=e.map(dm);Ur.debug(`Firestore (${il}): ${r}`,...i)}}function Zi(r,...e){if(Ur.logLevel<=je.ERROR){const i=e.map(dm);Ur.error(`Firestore (${il}): ${r}`,...i)}}function Ya(r,...e){if(Ur.logLevel<=je.WARN){const i=e.map(dm);Ur.warn(`Firestore (${il}): ${r}`,...i)}}function dm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function xe(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,O_(r,a,i)}function O_(r,e,i){let a=`FIRESTORE (${il}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Zi(a),new Error(a)}function ot(r,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||O_(e,o,a)}function Le(r,e){return r}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends ts{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class V_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Jt.UNAUTHENTICATED)))}shutdown(){}}class CS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class RS{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){ot(this.o===void 0,42304);let a=this.i;const o=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let u=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Mr,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const _=u;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},p=_=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Mr)}}),0),f()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ot(typeof a.accessToken=="string",31837,{l:a}),new V_(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class IS{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jS{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new IS(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class G0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DS{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){ot(this.o===void 0,3512);const a=u=>{u.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ae("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>a(u)))};const o=u=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new G0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(ot(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new G0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function MS(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class k_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=MS(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<i&&(a+=e.charAt(o[u]%62))}return a}}function Oe(r,e){return r<e?-1:r>e?1:0}function Uf(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const o=r.charAt(a),u=e.charAt(a);if(o!==u)return Ef(o)===Ef(u)?Oe(o,u):Ef(o)?1:-1}return Oe(r.length,e.length)}const OS=55296,VS=57343;function Ef(r){const e=r.charCodeAt(0);return e>=OS&&e<=VS}function Ka(r,e,i){return r.length===e.length&&r.every(((a,o)=>i(a,e[o])))}const Q0="__name__";class bi{constructor(e,i,a){i===void 0?i=0:i>e.length&&xe(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&xe(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return bi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof bi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const u=bi.compareSegments(e.get(o),i.get(o));if(u!==0)return u}return Oe(e.length,i.length)}static compareSegments(e,i){const a=bi.isNumericId(e),o=bi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?bi.extractNumericId(e).compare(bi.extractNumericId(i)):Uf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gs.fromString(e.substring(4,e.length-2))}}class at extends bi{construct(e,i,a){return new at(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new le(ee.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new at(i)}static emptyPath(){return new at([])}}const kS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends bi{construct(e,i,a){return new Wt(e,i,a)}static isValidIdentifier(e){return kS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Q0}static keyField(){return new Wt([Q0])}static fromServerFormat(e){const i=[];let a="",o=0;const u=()=>{if(a.length===0)throw new le(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new le(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new le(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(a+=p,o++):(u(),o++)}if(u(),f)throw new le(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(i)}static emptyPath(){return new Wt([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(at.fromString(e))}static fromName(e){return new pe(at.fromString(e).popFirst(5))}static empty(){return new pe(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return at.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new at(e.slice()))}}function LS(r,e,i){if(!i)throw new le(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function US(r,e,i,a){if(e===!0&&a===!0)throw new le(ee.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Y0(r){if(pe.isDocumentKey(r))throw new le(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function L_(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Zu(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":xe(12329,{type:typeof r})}function zf(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Zu(r);throw new le(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Ct(r,e){const i={typeString:r};return e&&(i.value=e),i}function Oo(r,e){if(!L_(r))throw new le(ee.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const f=r[a];if(o&&typeof f!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){i=`Expected '${a}' field to equal '${u.value}'`;break}}if(i)throw new le(ee.INVALID_ARGUMENT,i);return!0}const K0=-62135596800,X0=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*X0);return new lt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new le(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new le(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<K0)throw new le(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/X0}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Oo(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-K0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:Ct("string",lt._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new lt(0,0))}static max(){return new be(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const wo=-1;function zS(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=be.fromTimestamp(a===1e9?new lt(i+1,0):new lt(i,a));return new Qs(o,pe.empty(),e)}function PS(r){return new Qs(r.readTime,r.key,wo)}class Qs{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Qs(be.min(),pe.empty(),wo)}static max(){return new Qs(be.max(),pe.empty(),wo)}}function qS(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=pe.comparator(r.documentKey,e.documentKey),i!==0?i:Oe(r.largestBatchId,e.largestBatchId))}const BS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Wu(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==BS)throw r;ae("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,a)=>{i(e)}))}static reject(e){return new $(((i,a)=>{a(e)}))}static waitFor(e){return new $(((i,a)=>{let o=0,u=0,f=!1;e.forEach((p=>{++o,p.next((()=>{++u,f&&u===o&&i()}),(_=>a(_)))})),f=!0,u===o&&i()}))}static or(e){let i=$.resolve(!1);for(const a of e)i=i.next((o=>o?$.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,u)=>{a.push(i.call(this,o,u))})),this.waitFor(a)}static mapArray(e,i){return new $(((a,o)=>{const u=e.length,f=new Array(u);let p=0;for(let _=0;_<u;_++){const v=_;i(e[v]).next((E=>{f[v]=E,++p,p===u&&a(f)}),(E=>o(E)))}}))}static doWhile(e,i){return new $(((a,o)=>{const u=()=>{e()===!0?i().next((()=>{u()}),o):a()};u()}))}}function FS(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function sl(r){return r.name==="IndexedDbTransactionError"}class eh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}eh.ce=-1;const GS=-1;function th(r){return r==null}function ku(r){return r===0&&1/r==-1/0}function QS(r){return typeof r=="number"&&Number.isInteger(r)&&!ku(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const U_="";function YS(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=$0(e)),e=KS(r.get(i),e);return $0(e)}function KS(r,e){let i=e;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":i+="";break;case U_:i+="";break;default:i+=u}}return i}function $0(r){return r+U_+""}function J0(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function rl(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function z_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class pt{constructor(e,i){this.comparator=e,this.root=i||Yt.EMPTY}insert(e,i){return new pt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yu(this.root,e,this.comparator,!1)}getReverseIterator(){return new yu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yu(this.root,e,this.comparator,!0)}}class yu{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=i?a(e.key,i):1,i&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,i,a,o,u){this.key=e,this.value=i,this.color=a??Yt.RED,this.left=o??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,u){return new Yt(e??this.key,i??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,i,a),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,i,a,o,u){return this}insert(e,i,a){return new Yt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Z0(this.data.getIterator())}getIteratorFrom(e){return new Z0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Mt(this.comparator);return i.data=e,i}}class Z0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ps{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new Ps([])}unionWith(e){let i=new Mt(Wt.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Ps(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ka(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class P_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new P_("Invalid base64 string: "+u):u}})(e);return new Kt(i)}static fromUint8Array(e){const i=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Kt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const XS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(r){if(ot(!!r,39018),typeof r=="string"){let e=0;const i=XS.exec(r);if(ot(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:gt(r.seconds),nanos:gt(r.nanos)}}function gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ks(r){return typeof r=="string"?Kt.fromBase64String(r):Kt.fromUint8Array(r)}const q_="server_timestamp",B_="__type__",H_="__previous_value__",F_="__local_write_time__";function fm(r){return(r?.mapValue?.fields||{})[B_]?.stringValue===q_}function nh(r){const e=r.mapValue.fields[H_];return fm(e)?nh(e):e}function No(r){const e=Ys(r.mapValue.fields[F_].timestampValue);return new lt(e.seconds,e.nanos)}class $S{constructor(e,i,a,o,u,f,p,_,v,E){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=E}}const Lu="(default)";class Co{constructor(e,i){this.projectId=e,this.database=i||Lu}static empty(){return new Co("","")}get isDefaultDatabase(){return this.database===Lu}isEqual(e){return e instanceof Co&&e.projectId===this.projectId&&e.database===this.database}}const G_="__type__",JS="__max__",vu={mapValue:{}},Q_="__vector__",Uu="value";function Xs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?fm(r)?4:WS(r)?9007199254740991:ZS(r)?10:11:xe(28295,{value:r})}function Ri(r,e){if(r===e)return!0;const i=Xs(r);if(i!==Xs(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return No(r).isEqual(No(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Ys(o.timestampValue),p=Ys(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return Ks(o.bytesValue).isEqual(Ks(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=gt(o.doubleValue),p=gt(u.doubleValue);return f===p?ku(f)===ku(p):isNaN(f)&&isNaN(p)}return!1})(r,e);case 9:return Ka(r.arrayValue.values||[],e.arrayValue.values||[],Ri);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(J0(f)!==J0(p))return!1;for(const _ in f)if(f.hasOwnProperty(_)&&(p[_]===void 0||!Ri(f[_],p[_])))return!1;return!0})(r,e);default:return xe(52216,{left:r})}}function Ro(r,e){return(r.values||[]).find((i=>Ri(i,e)))!==void 0}function Xa(r,e){if(r===e)return 0;const i=Xs(r),a=Xs(e);if(i!==a)return Oe(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Oe(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const p=gt(u.integerValue||u.doubleValue),_=gt(f.integerValue||f.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(r,e);case 3:return W0(r.timestampValue,e.timestampValue);case 4:return W0(No(r),No(e));case 5:return Uf(r.stringValue,e.stringValue);case 6:return(function(u,f){const p=Ks(u),_=Ks(f);return p.compareTo(_)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const p=u.split("/"),_=f.split("/");for(let v=0;v<p.length&&v<_.length;v++){const E=Oe(p[v],_[v]);if(E!==0)return E}return Oe(p.length,_.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const p=Oe(gt(u.latitude),gt(f.latitude));return p!==0?p:Oe(gt(u.longitude),gt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return ev(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const p=u.fields||{},_=f.fields||{},v=p[Uu]?.arrayValue,E=_[Uu]?.arrayValue,S=Oe(v?.values?.length||0,E?.values?.length||0);return S!==0?S:ev(v,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===vu.mapValue&&f===vu.mapValue)return 0;if(u===vu.mapValue)return 1;if(f===vu.mapValue)return-1;const p=u.fields||{},_=Object.keys(p),v=f.fields||{},E=Object.keys(v);_.sort(),E.sort();for(let S=0;S<_.length&&S<E.length;++S){const I=Uf(_[S],E[S]);if(I!==0)return I;const F=Xa(p[_[S]],v[E[S]]);if(F!==0)return F}return Oe(_.length,E.length)})(r.mapValue,e.mapValue);default:throw xe(23264,{he:i})}}function W0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Oe(r,e);const i=Ys(r),a=Ys(e),o=Oe(i.seconds,a.seconds);return o!==0?o:Oe(i.nanos,a.nanos)}function ev(r,e){const i=r.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const u=Xa(i[o],a[o]);if(u)return u}return Oe(i.length,a.length)}function $a(r){return Pf(r)}function Pf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Ys(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Ks(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return pe.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const u of i.values||[])o?o=!1:a+=",",a+=Pf(u);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const f of a)u?u=!1:o+=",",o+=`${f}:${Pf(i.fields[f])}`;return o+"}"})(r.mapValue):xe(61005,{value:r})}function Su(r){switch(Xs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nh(r);return e?16+Su(e):16;case 5:return 2*r.stringValue.length;case 6:return Ks(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,u)=>o+Su(u)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return rl(a.fields,((u,f)=>{o+=u.length+Su(f)})),o})(r.mapValue);default:throw xe(13486,{value:r})}}function tv(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function qf(r){return!!r&&"integerValue"in r}function mm(r){return!!r&&"arrayValue"in r}function nv(r){return!!r&&"nullValue"in r}function iv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Tf(r){return!!r&&"mapValue"in r}function ZS(r){return(r?.mapValue?.fields||{})[G_]?.stringValue===Q_}function bo(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return rl(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=bo(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=bo(r.arrayValue.values[i]);return e}return{...r}}function WS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===JS}class Ei{constructor(e){this.value=e}static empty(){return new Ei({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Tf(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=bo(i)}setAll(e){let i=Wt.emptyPath(),a={},o=[];e.forEach(((f,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,o),a={},o=[],i=p.popLast()}f?a[p.lastSegment()]=bo(f):o.push(p.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,a,o)}delete(e){const i=this.field(e.popLast());Tf(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ri(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Tf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){rl(i,((o,u)=>e[o]=u));for(const o of a)delete e[o]}clone(){return new Ei(bo(this.value))}}class Zt{constructor(e,i,a,o,u,f,p){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(e){return new Zt(e,0,be.min(),be.min(),be.min(),Ei.empty(),0)}static newFoundDocument(e,i,a,o){return new Zt(e,1,i,be.min(),a,o,0)}static newNoDocument(e,i){return new Zt(e,2,i,be.min(),be.min(),Ei.empty(),0)}static newUnknownDocument(e,i){return new Zt(e,3,i,be.min(),be.min(),Ei.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ei.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ei.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zu{constructor(e,i){this.position=e,this.inclusive=i}}function sv(r,e,i){let a=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?a=pe.comparator(pe.fromName(f.referenceValue),i.key):a=Xa(f,i.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function rv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ri(r.position[i],e.position[i]))return!1;return!0}class Io{constructor(e,i="asc"){this.field=e,this.dir=i}}function e2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Y_{}class Nt extends Y_{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new n2(e,i,a):i==="array-contains"?new r2(e,a):i==="in"?new a2(e,a):i==="not-in"?new l2(e,a):i==="array-contains-any"?new o2(e,a):new Nt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new i2(e,a):new s2(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Xa(i,this.value)):i!==null&&Xs(this.value)===Xs(i)&&this.matchesComparison(Xa(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends Y_{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Jn(e,i)}matches(e){return K_(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function K_(r){return r.op==="and"}function X_(r){return t2(r)&&K_(r)}function t2(r){for(const e of r.filters)if(e instanceof Jn)return!1;return!0}function Bf(r){if(r instanceof Nt)return r.field.canonicalString()+r.op.toString()+$a(r.value);if(X_(r))return r.filters.map((e=>Bf(e))).join(",");{const e=r.filters.map((i=>Bf(i))).join(",");return`${r.op}(${e})`}}function $_(r,e){return r instanceof Nt?(function(a,o){return o instanceof Nt&&a.op===o.op&&a.field.isEqual(o.field)&&Ri(a.value,o.value)})(r,e):r instanceof Jn?(function(a,o){return o instanceof Jn&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((u,f,p)=>u&&$_(f,o.filters[p])),!0):!1})(r,e):void xe(19439)}function J_(r){return r instanceof Nt?(function(i){return`${i.field.canonicalString()} ${i.op} ${$a(i.value)}`})(r):r instanceof Jn?(function(i){return i.op.toString()+" {"+i.getFilters().map(J_).join(" ,")+"}"})(r):"Filter"}class n2 extends Nt{constructor(e,i,a){super(e,i,a),this.key=pe.fromName(a.referenceValue)}matches(e){const i=pe.comparator(e.key,this.key);return this.matchesComparison(i)}}class i2 extends Nt{constructor(e,i){super(e,"in",i),this.keys=Z_("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class s2 extends Nt{constructor(e,i){super(e,"not-in",i),this.keys=Z_("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Z_(r,e){return(e.arrayValue?.values||[]).map((i=>pe.fromName(i.referenceValue)))}class r2 extends Nt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return mm(i)&&Ro(i.arrayValue,this.value)}}class a2 extends Nt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Ro(this.value.arrayValue,i)}}class l2 extends Nt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ro(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ro(this.value.arrayValue,i)}}class o2 extends Nt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!mm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ro(this.value.arrayValue,a)))}}class c2{constructor(e,i=null,a=[],o=[],u=null,f=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function av(r,e=null,i=[],a=[],o=null,u=null,f=null){return new c2(r,e,i,a,o,u,f)}function gm(r){const e=Le(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>Bf(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),th(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>$a(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>$a(a))).join(",")),e.Te=i}return e.Te}function pm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!e2(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!$_(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!rv(r.startAt,e.startAt)&&rv(r.endAt,e.endAt)}function Hf(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class al{constructor(e,i=null,a=[],o=[],u=null,f="F",p=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function u2(r,e,i,a,o,u,f,p){return new al(r,e,i,a,o,u,f,p)}function W_(r){return new al(r)}function lv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function eb(r){return r.collectionGroup!==null}function xo(r){const e=Le(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),i.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Mt(Wt.comparator);return f.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(e).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Io(u,a))})),i.has(Wt.keyField().canonicalString())||e.Ie.push(new Io(Wt.keyField(),a))}return e.Ie}function Ti(r){const e=Le(r);return e.Ee||(e.Ee=h2(e,xo(r))),e.Ee}function h2(r,e){if(r.limitType==="F")return av(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Io(o.field,u)}));const i=r.endAt?new zu(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new zu(r.startAt.position,r.startAt.inclusive):null;return av(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function Ff(r,e){const i=r.filters.concat([e]);return new al(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Gf(r,e,i){return new al(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function ih(r,e){return pm(Ti(r),Ti(e))&&r.limitType===e.limitType}function tb(r){return`${gm(Ti(r))}|lt:${r.limitType}`}function Oa(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>J_(o))).join(", ")}]`),th(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>$a(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>$a(o))).join(",")),`Target(${a})`})(Ti(r))}; limitType=${r.limitType})`}function sh(r,e){return e.isFoundDocument()&&(function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):pe.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(r,e)&&(function(a,o){for(const u of xo(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(f,p,_){const v=sv(f,p,_);return f.inclusive?v<=0:v<0})(a.startAt,xo(a),o)||a.endAt&&!(function(f,p,_){const v=sv(f,p,_);return f.inclusive?v>=0:v>0})(a.endAt,xo(a),o))})(r,e)}function d2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function nb(r){return(e,i)=>{let a=!1;for(const o of xo(r)){const u=f2(o,e,i);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function f2(r,e,i){const a=r.field.isKeyField()?pe.comparator(e.key,i.key):(function(u,f,p){const _=f.data.field(u),v=p.data.field(u);return _!==null&&v!==null?Xa(_,v):xe(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return xe(19790,{direction:r.dir})}}class Pr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){rl(this.inner,((i,a)=>{for(const[o,u]of a)e(o,u)}))}isEmpty(){return z_(this.inner)}size(){return this.innerSize}}const m2=new pt(pe.comparator);function $s(){return m2}const ib=new pt(pe.comparator);function yo(...r){let e=ib;for(const i of r)e=e.insert(i.key,i);return e}function g2(r){let e=ib;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function jr(){return Eo()}function sb(){return Eo()}function Eo(){return new Pr((r=>r.toString()),((r,e)=>r.isEqual(e)))}const p2=new Mt(pe.comparator);function ze(...r){let e=p2;for(const i of r)e=e.add(i);return e}const y2=new Mt(Oe);function v2(){return y2}function ym(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ku(e)?"-0":e}}function rb(r){return{integerValue:""+r}}function _2(r,e){return QS(e)?rb(e):ym(r,e)}class rh{constructor(){this._=void 0}}function b2(r,e,i){return r instanceof Qf?(function(o,u){const f={fields:{[B_]:{stringValue:q_},[F_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&fm(u)&&(u=nh(u)),u&&(f.fields[H_]=u),{mapValue:f}})(i,e):r instanceof Pu?ab(r,e):r instanceof qu?lb(r,e):(function(o,u){const f=E2(o,u),p=ov(f)+ov(o.Ae);return qf(f)&&qf(o.Ae)?rb(p):ym(o.serializer,p)})(r,e)}function x2(r,e,i){return r instanceof Pu?ab(r,e):r instanceof qu?lb(r,e):i}function E2(r,e){return r instanceof Yf?(function(a){return qf(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(e)?e:{integerValue:0}:null}class Qf extends rh{}class Pu extends rh{constructor(e){super(),this.elements=e}}function ab(r,e){const i=ob(e);for(const a of r.elements)i.some((o=>Ri(o,a)))||i.push(a);return{arrayValue:{values:i}}}class qu extends rh{constructor(e){super(),this.elements=e}}function lb(r,e){let i=ob(e);for(const a of r.elements)i=i.filter((o=>!Ri(o,a)));return{arrayValue:{values:i}}}class Yf extends rh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function ov(r){return gt(r.integerValue||r.doubleValue)}function ob(r){return mm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function T2(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof Pu&&o instanceof Pu||a instanceof qu&&o instanceof qu?Ka(a.elements,o.elements,Ri):a instanceof Yf&&o instanceof Yf?Ri(a.Ae,o.Ae):a instanceof Qf&&o instanceof Qf})(r.transform,e.transform)}class Or{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Or}static exists(e){return new Or(void 0,e)}static updateTime(e){return new Or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Au(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class vm{}function cb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new A2(r.key,Or.none()):new _m(r.key,r.data,Or.none());{const i=r.data,a=Ei.empty();let o=new Mt(Wt.comparator);for(let u of e.fields)if(!o.has(u)){let f=i.field(u);f===null&&u.length>1&&(u=u.popLast(),f=i.field(u)),f===null?a.delete(u):a.set(u,f),o=o.add(u)}return new ah(r.key,a,new Ps(o.toArray()),Or.none())}}function S2(r,e,i){r instanceof _m?(function(o,u,f){const p=o.value.clone(),_=uv(o.fieldTransforms,u,f.transformResults);p.setAll(_),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,i):r instanceof ah?(function(o,u,f){if(!Au(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=uv(o.fieldTransforms,u,f.transformResults),_=u.data;_.setAll(ub(o)),_.setAll(p),u.convertToFoundDocument(f.version,_).setHasCommittedMutations()})(r,e,i):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,i)}function To(r,e,i,a){return r instanceof _m?(function(u,f,p,_){if(!Au(u.precondition,f))return p;const v=u.value.clone(),E=hv(u.fieldTransforms,_,f);return v.setAll(E),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),null})(r,e,i,a):r instanceof ah?(function(u,f,p,_){if(!Au(u.precondition,f))return p;const v=hv(u.fieldTransforms,_,f),E=f.data;return E.setAll(ub(u)),E.setAll(v),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,e,i,a):(function(u,f,p){return Au(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(r,e,i)}function cv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Ka(a,o,((u,f)=>T2(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class _m extends vm{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ah extends vm{constructor(e,i,a,o,u=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function ub(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function uv(r,e,i){const a=new Map;ot(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const u=r[o],f=u.transform,p=e.data.field(u.field);a.set(u.field,x2(f,p,i[o]))}return a}function hv(r,e,i){const a=new Map;for(const o of r){const u=o.transform,f=i.data.field(o.field);a.set(o.field,b2(u,f,e))}return a}class A2 extends vm{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class w2{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&S2(u,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=To(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=To(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=sb();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=i.has(o.key)?null:p;const _=cb(f,p);_!==null&&a.set(o.key,_),f.isValidDocument()||f.convertToNoDocument(be.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),ze())}isEqual(e){return this.batchId===e.batchId&&Ka(this.mutations,e.mutations,((i,a)=>cv(i,a)))&&Ka(this.baseMutations,e.baseMutations,((i,a)=>cv(i,a)))}}class N2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class C2{constructor(e,i){this.count=e,this.unchangedNames=i}}var wt,ke;function hb(r){if(r===void 0)return Zi("GRPC error has no .code"),ee.UNKNOWN;switch(r){case wt.OK:return ee.OK;case wt.CANCELLED:return ee.CANCELLED;case wt.UNKNOWN:return ee.UNKNOWN;case wt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case wt.INTERNAL:return ee.INTERNAL;case wt.UNAVAILABLE:return ee.UNAVAILABLE;case wt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case wt.NOT_FOUND:return ee.NOT_FOUND;case wt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case wt.ABORTED:return ee.ABORTED;case wt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case wt.DATA_LOSS:return ee.DATA_LOSS;default:return xe(39323,{code:r})}}(ke=wt||(wt={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";function R2(){return new TextEncoder}const I2=new Gs([4294967295,4294967295],0);function dv(r){const e=R2().encode(r),i=new C_;return i.update(e),new Uint8Array(i.digest())}function fv(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Gs([i,a],0),new Gs([o,u],0)]}class bm{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new vo(`Invalid padding: ${i}`);if(a<0)throw new vo(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new vo(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new vo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Gs.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(Gs.fromNumber(a)));return o.compare(I2)===1&&(o=new Gs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=dv(e),[a,o]=fv(i);for(let u=0;u<this.hashCount;u++){const f=this.ye(a,o,u);if(!this.we(f))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new bm(u,o,i);return a.forEach((p=>f.insert(p))),f}insert(e){if(this.ge===0)return;const i=dv(e),[a,o]=fv(i);for(let u=0;u<this.hashCount;u++){const f=this.ye(a,o,u);this.Se(f)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class vo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class lh{constructor(e,i,a,o,u){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,Vo.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new lh(be.min(),o,new pt(Oe),$s(),ze())}}class Vo{constructor(e,i,a,o,u){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Vo(a,i,ze(),ze(),ze())}}class wu{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class db{constructor(e,i){this.targetId=e,this.Ce=i}}class fb{constructor(e,i,a=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class mv{constructor(){this.ve=0,this.Fe=gv(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),i=ze(),a=ze();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:xe(38017,{changeType:u})}})),new Vo(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=gv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ot(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class j2{constructor(e){this.Ge=e,this.ze=new Map,this.je=$s(),this.Je=_u(),this.He=_u(),this.Ye=new pt(Oe)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const u=o.target;if(Hf(u))if(a===0){const f=new pe(u.path);this.et(i,f,Zt.newNoDocument(f,be.min()))}else ot(a===1,20013,{expectedCount:a});else{const f=this._t(i);if(f!==a){const p=this.ut(e),_=p?this.ct(p,e,f):1;if(_!==0){this.it(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=i;let f,p;try{f=Ks(a).toUint8Array()}catch(_){if(_ instanceof P_)return Ya("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new bm(f,o,u)}catch(_){return Ya(_ instanceof vo?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((u=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(i,u,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((u,f)=>{const p=this.ot(f);if(p){if(u.current&&Hf(p.target)){const _=new pe(p.target.path);this.It(_).has(f)||this.Et(f,_)||this.et(f,_,Zt.newNoDocument(_,e))}u.Be&&(i.set(f,u.ke()),u.qe())}}));let a=ze();this.He.forEach(((u,f)=>{let p=!0;f.forEachWhile((_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new lh(e,i,this.Ye,this.je,a);return this.je=$s(),this.Je=_u(),this.He=_u(),this.Ye=new pt(Oe),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new mv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Mt(Oe),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Mt(Oe),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ae("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new mv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function _u(){return new pt(pe.comparator)}function gv(){return new pt(pe.comparator)}const D2={asc:"ASCENDING",desc:"DESCENDING"},M2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},O2={and:"AND",or:"OR"};class V2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Kf(r,e){return r.useProto3Json||th(e)?e:{value:e}}function Xf(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Ua(r){return ot(!!r,49232),be.fromTimestamp((function(i){const a=Ys(i);return new lt(a.seconds,a.nanos)})(r))}function gb(r,e){return $f(r,e).canonicalString()}function $f(r,e){const i=(function(o){return new at(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function pb(r){const e=at.fromString(r);return ot(xb(e),10190,{key:e.toString()}),e}function Sf(r,e){const i=pb(e);if(i.get(1)!==r.databaseId.projectId)throw new le(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new le(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new pe(vb(i))}function yb(r,e){return gb(r.databaseId,e)}function k2(r){const e=pb(r);return e.length===4?at.emptyPath():vb(e)}function pv(r){return new at(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function vb(r){return ot(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function L2(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:xe(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(v,E){return v.useProto3Json?(ot(E===void 0||typeof E=="string",58123),Kt.fromBase64String(E||"")):(ot(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Kt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&(function(v){const E=v.code===void 0?ee.UNKNOWN:hb(v.code);return new le(E,v.message||"")})(f);i=new fb(a,o,u,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Sf(r,a.document.name),u=Ua(a.document.updateTime),f=a.document.createTime?Ua(a.document.createTime):be.min(),p=new Ei({mapValue:{fields:a.document.fields}}),_=Zt.newFoundDocument(o,u,f,p),v=a.targetIds||[],E=a.removedTargetIds||[];i=new wu(v,E,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Sf(r,a.document),u=a.readTime?Ua(a.readTime):be.min(),f=Zt.newNoDocument(o,u),p=a.removedTargetIds||[];i=new wu([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Sf(r,a.document),u=a.removedTargetIds||[];i=new wu([],u,o,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,f=new C2(o,u),p=a.targetId;i=new db(p,f)}}return i}function U2(r,e){return{documents:[yb(r,e.path)]}}function z2(r,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=yb(r,o);const u=(function(v){if(v.length!==0)return bb(Jn.create(v,"and"))})(e.filters);u&&(i.structuredQuery.where=u);const f=(function(v){if(v.length!==0)return v.map((E=>(function(I){return{field:Va(I.field),direction:B2(I.dir)}})(E)))})(e.orderBy);f&&(i.structuredQuery.orderBy=f);const p=Kf(r,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:i,parent:o}}function P2(r){let e=k2(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){ot(a===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];i.where&&(u=(function(S){const I=_b(S);return I instanceof Jn&&X_(I)?I.getFilters():[I]})(i.where));let f=[];i.orderBy&&(f=(function(S){return S.map((I=>(function(X){return new Io(ka(X.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(X.direction))})(I)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let I;return I=typeof S=="object"?S.value:S,th(I)?null:I})(i.limit));let _=null;i.startAt&&(_=(function(S){const I=!!S.before,F=S.values||[];return new zu(F,I)})(i.startAt));let v=null;return i.endAt&&(v=(function(S){const I=!S.before,F=S.values||[];return new zu(F,I)})(i.endAt)),u2(e,o,f,u,p,"F",_,v)}function q2(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function _b(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ka(i.unaryFilter.field);return Nt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=ka(i.unaryFilter.field);return Nt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ka(i.unaryFilter.field);return Nt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ka(i.unaryFilter.field);return Nt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Nt.create(ka(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Jn.create(i.compositeFilter.filters.map((a=>_b(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(i.compositeFilter.op))})(r):xe(30097,{filter:r})}function B2(r){return D2[r]}function H2(r){return M2[r]}function F2(r){return O2[r]}function Va(r){return{fieldPath:r.canonicalString()}}function ka(r){return Wt.fromServerFormat(r.fieldPath)}function bb(r){return r instanceof Nt?(function(i){if(i.op==="=="){if(iv(i.value))return{unaryFilter:{field:Va(i.field),op:"IS_NAN"}};if(nv(i.value))return{unaryFilter:{field:Va(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(iv(i.value))return{unaryFilter:{field:Va(i.field),op:"IS_NOT_NAN"}};if(nv(i.value))return{unaryFilter:{field:Va(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Va(i.field),op:H2(i.op),value:i.value}}})(r):r instanceof Jn?(function(i){const a=i.getFilters().map((o=>bb(o)));return a.length===1?a[0]:{compositeFilter:{op:F2(i.op),filters:a}}})(r):xe(54877,{filter:r})}function xb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class qs{constructor(e,i,a,o,u=be.min(),f=be.min(),p=Kt.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new qs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class G2{constructor(e){this.yt=e}}function Q2(r){const e=P2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Gf(e,e.limit,"L"):e}class Y2{constructor(){this.Cn=new K2}addToCollectionParentIndex(e,i){return this.Cn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(Qs.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(Qs.min())}updateCollectionGroup(e,i,a){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class K2{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Mt(at.comparator),u=!o.has(a);return this.index[i]=o.add(a),u}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Mt(at.comparator)).toArray()}}const yv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Eb=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(Eb,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class Ja{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ja(0)}static cr(){return new Ja(-1)}}const vv="LruGarbageCollector",X2=1048576;function _v([r,e],[i,a]){const o=Oe(r,i);return o===0?Oe(e,a):o}class $2{constructor(e){this.Ir=e,this.buffer=new Mt(_v),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();_v(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class J2{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ae(vv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){sl(i)?ae(vv,"Ignoring IndexedDB error during garbage collection: ",i):await Wu(i)}await this.Vr(3e5)}))}}class Z2{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(eh.ce);const a=new $2(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(yv)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,u,f,p,_,v;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(a=S,p=Date.now(),this.removeTargets(e,a,i)))).next((S=>(u=S,_=Date.now(),this.removeOrphanedDocuments(e,a)))).next((S=>(v=Date.now(),Ma()<=je.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(_-p)+`ms
	Removed ${S} documents in `+(v-_)+`ms
Total Duration: ${v-E}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function W2(r,e){return new Z2(r,e)}class eA{constructor(){this.changes=new Pr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class tA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class nA{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&To(a.mutation,o,Ps.empty(),lt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,ze()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=ze()){const o=jr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((u=>{let f=yo();return u.forEach(((p,_)=>{f=f.insert(p,_.overlayedDocument)})),f}))))}getOverlayedDocuments(e,i){const a=jr();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,ze())))}populateOverlays(e,i,a){const o=[];return a.forEach((u=>{i.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,p)=>{i.set(f,p)}))}))}computeViews(e,i,a,o){let u=$s();const f=Eo(),p=(function(){return Eo()})();return i.forEach(((_,v)=>{const E=a.get(v.key);o.has(v.key)&&(E===void 0||E.mutation instanceof ah)?u=u.insert(v.key,v):E!==void 0?(f.set(v.key,E.mutation.getFieldMask()),To(E.mutation,v,E.mutation.getFieldMask(),lt.now())):f.set(v.key,Ps.empty())})),this.recalculateAndSaveOverlays(e,u).next((_=>(_.forEach(((v,E)=>f.set(v,E))),i.forEach(((v,E)=>p.set(v,new tA(E,f.get(v)??null)))),p)))}recalculateAndSaveOverlays(e,i){const a=Eo();let o=new pt(((f,p)=>f-p)),u=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((f=>{for(const p of f)p.keys().forEach((_=>{const v=i.get(_);if(v===null)return;let E=a.get(_)||Ps.empty();E=p.applyToLocalView(v,E),a.set(_,E);const S=(o.get(p.batchId)||ze()).add(_);o=o.insert(p.batchId,S)}))})).next((()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),v=_.key,E=_.value,S=sb();E.forEach((I=>{if(!u.has(I)){const F=cb(i.get(I),a.get(I));F!==null&&S.set(I,F),u=u.add(I)}})),f.push(this.documentOverlayCache.saveOverlays(e,v,S))}return $.waitFor(f)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(f){return pe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):eb(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-u.size):$.resolve(jr());let p=wo,_=u;return f.next((v=>$.forEach(v,((E,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),u.get(E)?$.resolve():this.remoteDocumentCache.getEntry(e,E).next((I=>{_=_.insert(E,I)}))))).next((()=>this.populateOverlays(e,v,u))).next((()=>this.computeViews(e,_,v,ze()))).next((E=>({batchId:p,changes:g2(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pe(i)).next((a=>{let o=yo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const u=i.collectionGroup;let f=yo();return this.indexManager.getCollectionParents(e,u).next((p=>$.forEach(p,(_=>{const v=(function(S,I){return new al(I,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(u));return this.getDocumentsMatchingCollectionQuery(e,v,a,o).next((E=>{E.forEach(((S,I)=>{f=f.insert(S,I)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,u,o)))).next((f=>{u.forEach(((_,v)=>{const E=v.getKey();f.get(E)===null&&(f=f.insert(E,Zt.newInvalidDocument(E)))}));let p=yo();return f.forEach(((_,v)=>{const E=u.get(_);E!==void 0&&To(E.mutation,v,Ps.empty(),lt.now()),sh(i,v)&&(p=p.insert(_,v))})),p}))}}class iA{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ua(o.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:Q2(o.bundledQuery),readTime:Ua(o.readTime)}})(i)),$.resolve()}}class sA{constructor(){this.overlays=new pt(pe.comparator),this.qr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const a=jr();return $.forEach(i,(o=>this.getOverlay(e,o).next((u=>{u!==null&&a.set(o,u)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,u)=>{this.St(e,i,u)})),$.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(e,i,a){const o=jr(),u=i.length+1,f=new pe(i.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const _=p.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===u&&_.largestBatchId>a&&o.set(_.getKey(),_)}return $.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let u=new pt(((v,E)=>v-E));const f=this.overlays.getIterator();for(;f.hasNext();){const v=f.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let E=u.get(v.largestBatchId);E===null&&(E=jr(),u=u.insert(v.largestBatchId,E)),E.set(v.getKey(),v)}}const p=jr(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,E)=>p.set(v,E))),!(p.size()>=o)););return $.resolve(p)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new N2(i,a));let u=this.qr.get(i);u===void 0&&(u=ze(),this.qr.set(i,u)),this.qr.set(i,u.add(a.key))}}class rA{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}class xm{constructor(){this.Qr=new Mt(Pt.$r),this.Ur=new Mt(Pt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Pt(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Pt(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new pe(new at([])),a=new Pt(i,e),o=new Pt(i,e+1),u=[];return this.Ur.forEachInRange([a,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new pe(new at([])),a=new Pt(i,e),o=new Pt(i,e+1);let u=ze();return this.Ur.forEachInRange([a,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const i=new Pt(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Pt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return pe.comparator(e.key,i.key)||Oe(e.Yr,i.Yr)}static Kr(e,i){return Oe(e.Yr,i.Yr)||pe.comparator(e.key,i.key)}}class aA{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Mt(Pt.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new w2(u,i,a,o);this.mutationQueue.push(f);for(const p of o)this.Zr=this.Zr.add(new Pt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return $.resolve(f)}lookupMutationBatch(e,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),u=o<0?0:o;return $.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?GS:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Pt(i,0),o=new Pt(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([a,o],(f=>{const p=this.Xr(f.Yr);u.push(p)})),$.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Mt(Oe);return i.forEach((o=>{const u=new Pt(o,0),f=new Pt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(p=>{a=a.add(p.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let u=a;pe.isDocumentKey(u)||(u=u.child(""));const f=new Pt(new pe(u),0);let p=new Mt(Oe);return this.Zr.forEachWhile((_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===o&&(p=p.add(_.Yr)),!0)}),f),$.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){ot(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(o=>{const u=new Pt(o.key,i.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Pt(i,0),o=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class lA{constructor(e){this.ri=e,this.docs=(function(){return new pt(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),u=o?o.size:0,f=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():Zt.newInvalidDocument(i))}getEntries(e,i){let a=$s();return i.forEach((o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))})),$.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let u=$s();const f=i.path,p=new pe(f.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:v,value:{document:E}}=_.getNext();if(!f.isPrefixOf(v.path))break;v.path.length>f.length+1||qS(PS(E),a)<=0||(o.has(E.key)||sh(i,E))&&(u=u.insert(E.key,E.mutableCopy()))}return $.resolve(u)}getAllFromCollectionGroup(e,i,a,o){xe(9500)}ii(e,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new oA(this)}getSize(e){return $.resolve(this.size)}}class oA extends eA{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class cA{constructor(e){this.persistence=e,this.si=new Pr((i=>gm(i)),pm),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new xm,this.targetCount=0,this.ai=Ja.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Ja(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.Pr(i),$.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,a){let o=0;const u=[];return this.si.forEach(((f,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),$.waitFor(u).next((()=>o))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),$.waitFor(u)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(e,i){return $.resolve(this._i.containsKey(i))}}class Tb{constructor(e,i){this.ui={},this.overlays={},this.ci=new eh(0),this.li=!1,this.li=!0,this.hi=new rA,this.referenceDelegate=e(this),this.Pi=new cA(this),this.indexManager=new Y2,this.remoteDocumentCache=(function(o){return new lA(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new G2(i),this.Ii=new iA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new sA,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new aA(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){ae("MemoryPersistence","Starting transaction:",e);const o=new uA(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class uA extends HS{constructor(e){super(),this.currentSequenceNumber=e}}class Em{constructor(e){this.persistence=e,this.Ri=new xm,this.Vi=null}static mi(e){return new Em(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const o=pe.fromPath(a);return this.gi(e,o).next((u=>{u||i.removeEntry(o,be.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Bu{constructor(e,i){this.persistence=e,this.pi=new Pr((a=>YS(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=W2(this,i)}static mi(e,i){return new Bu(e,i)}Ei(){}di(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return $.forEach(this.pi,((a,o)=>this.br(e,a,o).next((u=>u?$.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,i).next((p=>{p||(a++,u.removeEntry(f,be.min()))})))).next((()=>u.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Su(e.data.value)),i}br(e,i,a){return $.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return $.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Tm{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=ze(),o=ze();for(const u of i.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Tm(e,i.fromCache,a,o)}}class hA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class dA{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return lT()?8:FS(en())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const u={result:null};return this.ys(e,i).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,i,o,a).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new hA;return this.Ss(e,i,f).next((p=>{if(u.result=p,this.Vs)return this.bs(e,i,f,p.size)}))})).next((()=>u.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(Ma()<=je.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Oa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Ma()<=je.DEBUG&&ae("QueryEngine","Query:",Oa(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Ma()<=je.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Oa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ti(i))):$.resolve())}ys(e,i){if(lv(i))return $.resolve(null);let a=Ti(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Gf(i,null,"F"),a=Ti(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((u=>{const f=ze(...u);return this.ps.getDocuments(e,f).next((p=>this.indexManager.getMinOffset(e,a).next((_=>{const v=this.Ds(i,p);return this.Cs(i,v,f,_.readTime)?this.ys(e,Gf(i,null,"F")):this.vs(e,v,i,_)}))))})))))}ws(e,i,a,o){return lv(i)||o.isEqual(be.min())?$.resolve(null):this.ps.getDocuments(e,a).next((u=>{const f=this.Ds(i,u);return this.Cs(i,f,a,o)?$.resolve(null):(Ma()<=je.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Oa(i)),this.vs(e,f,i,zS(o,wo)).next((p=>p)))}))}Ds(e,i){let a=new Mt(nb(e));return i.forEach(((o,u)=>{sh(e,u)&&(a=a.add(u))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const u=e.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,i,a){return Ma()<=je.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Oa(i)),this.ps.getDocumentsMatchingQuery(e,i,Qs.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((u=>(i.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Sm="LocalStore",fA=3e8;class mA{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new pt(Oe),this.xs=new Pr((u=>gm(u)),pm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function gA(r,e,i,a){return new mA(r,e,i,a)}async function Sb(r,e){const i=Le(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((u=>(o=u,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((u=>{const f=[],p=[];let _=ze();for(const v of o){f.push(v.batchId);for(const E of v.mutations)_=_.add(E.key)}for(const v of u){p.push(v.batchId);for(const E of v.mutations)_=_.add(E.key)}return i.localDocuments.getDocuments(a,_).next((v=>({Ls:v,removedBatchIds:f,addedBatchIds:p})))}))}))}function Ab(r){const e=Le(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function pA(r,e){const i=Le(r),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((E,S)=>{const I=o.get(S);if(!I)return;p.push(i.Pi.removeMatchingKeys(u,E.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(u,E.addedDocuments,S))));let F=I.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?F=F.withResumeToken(Kt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):E.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(E.resumeToken,a)),o=o.insert(S,F),(function(J,Z,he){return J.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=fA?!0:he.addedDocuments.size+he.modifiedDocuments.size+he.removedDocuments.size>0})(I,F,E)&&p.push(i.Pi.updateTargetData(u,F))}));let _=$s(),v=ze();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(u,E))})),p.push(yA(u,f,e.documentUpdates).next((E=>{_=E.ks,v=E.qs}))),!a.isEqual(be.min())){const E=i.Pi.getLastRemoteSnapshotVersion(u).next((S=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,a)));p.push(E)}return $.waitFor(p).next((()=>f.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,_,v))).next((()=>_))})).then((u=>(i.Ms=o,u)))}function yA(r,e,i){let a=ze(),o=ze();return i.forEach((u=>a=a.add(u))),e.getEntries(r,a).next((u=>{let f=$s();return i.forEach(((p,_)=>{const v=u.get(p);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(p)),_.isNoDocument()&&_.version.isEqual(be.min())?(e.removeEntry(p,_.readTime),f=f.insert(p,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),f=f.insert(p,_)):ae(Sm,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",_.version)})),{ks:f,qs:o}}))}function vA(r,e){const i=Le(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((u=>u?(o=u,$.resolve(o)):i.Pi.allocateTargetId(a).next((f=>(o=new qs(e,f,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function Jf(r,e,i){const a=Le(r),o=a.Ms.get(e),u=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",u,(f=>a.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!sl(f))throw f;ae(Sm,`Failed to update sequence numbers for target ${e}: ${f}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function bv(r,e,i){const a=Le(r);let o=be.min(),u=ze();return a.persistence.runTransaction("Execute query","readwrite",(f=>(function(_,v,E){const S=Le(_),I=S.xs.get(E);return I!==void 0?$.resolve(S.Ms.get(I)):S.Pi.getTargetData(v,E)})(a,f,Ti(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(f,p.targetId).next((_=>{u=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(f,e,i?o:be.min(),i?u:ze()))).next((p=>(_A(a,d2(e),p),{documents:p,Qs:u})))))}function _A(r,e,i){let a=r.Os.get(e)||be.min();i.forEach(((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),r.Os.set(e,a)}class xv{constructor(){this.activeTargetIds=v2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bA{constructor(){this.Mo=new xv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new xv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class xA{Oo(e){}shutdown(){}}const Ev="ConnectivityMonitor";class Tv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ae(Ev,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ae(Ev,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let bu=null;function Zf(){return bu===null?bu=(function(){return 268435456+Math.round(2147483648*Math.random())})():bu++,"0x"+bu.toString(16)}const Af="RestConnection",EA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TA{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Lu?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,u){const f=Zf(),p=this.zo(e,i.toUriEncodedString());ae(Af,`Sending RPC '${e}' ${f}:`,p,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,u);const{host:v}=new URL(p),E=tl(v);return this.Jo(e,p,_,a,E).then((S=>(ae(Af,`Received RPC '${e}' ${f}: `,S),S)),(S=>{throw Ya(Af,`RPC '${e}' ${f} failed with error: `,S,"url: ",p,"request:",a),S}))}Ho(e,i,a,o,u,f){return this.Go(e,i,a,o,u)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+il})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,u)=>e[u]=o)),a&&a.headers.forEach(((o,u)=>e[u]=o))}zo(e,i){const a=EA[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class SA{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const $t="WebChannelConnection";class AA extends TA{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,u){const f=Zf();return new Promise(((p,_)=>{const v=new R_;v.setWithCredentials(!0),v.listenOnce(I_.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Tu.NO_ERROR:const S=v.getResponseJson();ae($t,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),p(S);break;case Tu.TIMEOUT:ae($t,`RPC '${e}' ${f} timed out`),_(new le(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Tu.HTTP_ERROR:const I=v.getStatus();if(ae($t,`RPC '${e}' ${f} failed with status:`,I,"response text:",v.getResponseText()),I>0){let F=v.getResponseJson();Array.isArray(F)&&(F=F[0]);const X=F?.error;if(X&&X.status&&X.message){const J=(function(he){const ue=he.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(ue)>=0?ue:ee.UNKNOWN})(X.status);_(new le(J,X.message))}else _(new le(ee.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new le(ee.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:f,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ae($t,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);ae($t,`RPC '${e}' ${f} sending request:`,o),v.send(i,"POST",E,a,15)}))}T_(e,i,a){const o=Zf(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=M_(),p=D_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const E=u.join("");ae($t,`Creating RPC '${e}' stream ${o}: ${E}`,_);const S=f.createWebChannel(E,_);this.I_(S);let I=!1,F=!1;const X=new SA({Yo:Z=>{F?ae($t,`Not sending because RPC '${e}' stream ${o} is closed:`,Z):(I||(ae($t,`Opening RPC '${e}' stream ${o} transport.`),S.open(),I=!0),ae($t,`RPC '${e}' stream ${o} sending:`,Z),S.send(Z))},Zo:()=>S.close()}),J=(Z,he,ue)=>{Z.listen(he,(ne=>{try{ue(ne)}catch(me){setTimeout((()=>{throw me}),0)}}))};return J(S,po.EventType.OPEN,(()=>{F||(ae($t,`RPC '${e}' stream ${o} transport opened.`),X.o_())})),J(S,po.EventType.CLOSE,(()=>{F||(F=!0,ae($t,`RPC '${e}' stream ${o} transport closed`),X.a_(),this.E_(S))})),J(S,po.EventType.ERROR,(Z=>{F||(F=!0,Ya($t,`RPC '${e}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),X.a_(new le(ee.UNAVAILABLE,"The operation could not be completed")))})),J(S,po.EventType.MESSAGE,(Z=>{if(!F){const he=Z.data[0];ot(!!he,16349);const ue=he,ne=ue?.error||ue[0]?.error;if(ne){ae($t,`RPC '${e}' stream ${o} received error:`,ne);const me=ne.status;let De=(function(A){const w=wt[A];if(w!==void 0)return hb(w)})(me),Se=ne.message;De===void 0&&(De=ee.INTERNAL,Se="Unknown error status: "+me+" with message "+ne.message),F=!0,X.a_(new le(De,Se)),S.close()}else ae($t,`RPC '${e}' stream ${o} received:`,he),X.u_(he)}})),J(p,j_.STAT_EVENT,(Z=>{Z.stat===Lf.PROXY?ae($t,`RPC '${e}' stream ${o} detected buffering proxy`):Z.stat===Lf.NOPROXY&&ae($t,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{X.__()}),0),X}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function wf(){return typeof document<"u"?document:null}function oh(r){return new V2(r,!0)}class wb{constructor(e,i,a=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Sv="PersistentStream";class wA{constructor(e,i,a,o,u,f,p,_){this.Mi=e,this.S_=a,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new wb(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===ee.RESOURCE_EXHAUSTED?(Zi(i.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new le(ee.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ae(Sv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ae(Sv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class NA extends wA{constructor(e,i,a,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,f),this.serializer=u}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=L2(this.serializer,e),a=(function(u){if(!("targetChange"in u))return be.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?be.min():f.readTime?Ua(f.readTime):be.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=pv(this.serializer),i.addTarget=(function(u,f){let p;const _=f.target;if(p=Hf(_)?{documents:U2(u,_)}:{query:z2(u,_).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=mb(u,f.resumeToken);const v=Kf(u,f.expectedCount);v!==null&&(p.expectedCount=v)}else if(f.snapshotVersion.compareTo(be.min())>0){p.readTime=Xf(u,f.snapshotVersion.toTimestamp());const v=Kf(u,f.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,e);const a=q2(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=pv(this.serializer),i.removeTarget=e,this.q_(i)}}class CA{}class RA extends CA{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,$f(i,a),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(ee.UNKNOWN,u.toString())}))}Ho(e,i,a,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.Ho(e,$f(i,a),o,f,p,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new le(ee.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class IA{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zi(i),this.aa=!1):ae("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Za="RemoteStore";class jA{constructor(e,i,a,o,u){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{a.enqueueAndForget((async()=>{Lo(this)&&(ae(Za,"Restarting streams for network reachability change."),await(async function(_){const v=Le(_);v.Ea.add(4),await ko(v),v.Ra.set("Unknown"),v.Ea.delete(4),await ch(v)})(this))}))})),this.Ra=new IA(a,o)}}async function ch(r){if(Lo(r))for(const e of r.da)await e(!0)}async function ko(r){for(const e of r.da)await e(!1)}function Nb(r,e){const i=Le(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Cm(i)?Nm(i):ll(i).O_()&&wm(i,e))}function Am(r,e){const i=Le(r),a=ll(i);i.Ia.delete(e),a.O_()&&Cb(i,e),i.Ia.size===0&&(a.O_()?a.L_():Lo(i)&&i.Ra.set("Unknown"))}function wm(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}ll(r).Y_(e)}function Cb(r,e){r.Va.Ue(e),ll(r).Z_(e)}function Nm(r){r.Va=new j2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),ll(r).start(),r.Ra.ua()}function Cm(r){return Lo(r)&&!ll(r).x_()&&r.Ia.size>0}function Lo(r){return Le(r).Ea.size===0}function Rb(r){r.Va=void 0}async function DA(r){r.Ra.set("Online")}async function MA(r){r.Ia.forEach(((e,i)=>{wm(r,e)}))}async function OA(r,e){Rb(r),Cm(r)?(r.Ra.ha(e),Nm(r)):r.Ra.set("Unknown")}async function VA(r,e,i){if(r.Ra.set("Online"),e instanceof fb&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.Va.removeTarget(p))})(r,e)}catch(a){ae(Za,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Av(r,a)}else if(e instanceof wu?r.Va.Ze(e):e instanceof db?r.Va.st(e):r.Va.tt(e),!i.isEqual(be.min()))try{const a=await Ab(r.localStore);i.compareTo(a)>=0&&await(function(u,f){const p=u.Va.Tt(f);return p.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const E=u.Ia.get(v);E&&u.Ia.set(v,E.withResumeToken(_.resumeToken,f))}})),p.targetMismatches.forEach(((_,v)=>{const E=u.Ia.get(_);if(!E)return;u.Ia.set(_,E.withResumeToken(Kt.EMPTY_BYTE_STRING,E.snapshotVersion)),Cb(u,_);const S=new qs(E.target,_,v,E.sequenceNumber);wm(u,S)})),u.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){ae(Za,"Failed to raise snapshot:",a),await Av(r,a)}}async function Av(r,e,i){if(!sl(e))throw e;r.Ea.add(1),await ko(r),r.Ra.set("Offline"),i||(i=()=>Ab(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ae(Za,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await ch(r)}))}async function wv(r,e){const i=Le(r);i.asyncQueue.verifyOperationInProgress(),ae(Za,"RemoteStore received new credentials");const a=Lo(i);i.Ea.add(3),await ko(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await ch(i)}async function kA(r,e){const i=Le(r);e?(i.Ea.delete(2),await ch(i)):e||(i.Ea.add(2),await ko(i),i.Ra.set("Unknown"))}function ll(r){return r.ma||(r.ma=(function(i,a,o){const u=Le(i);return u.sa(),new NA(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:DA.bind(null,r),t_:MA.bind(null,r),r_:OA.bind(null,r),H_:VA.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Cm(r)?Nm(r):r.Ra.set("Unknown")):(await r.ma.stop(),Rb(r))}))),r.ma}class Rm{constructor(e,i,a,o,u){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,u){const f=Date.now()+a,p=new Rm(e,i,f,o,u);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ib(r,e){if(Zi("AsyncQueue",`${e}: ${r}`),sl(r))return new le(ee.UNAVAILABLE,`${e}: ${r}`);throw r}class za{static emptySet(e){return new za(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||pe.comparator(i.key,a.key):(i,a)=>pe.comparator(i.key,a.key),this.keyedMap=yo(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof za)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new za;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class Nv{constructor(){this.ga=new pt(pe.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class Wa{constructor(e,i,a,o,u,f,p,_,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,o,u){const f=[];return i.forEach((p=>{f.push({type:0,doc:p})})),new Wa(e,i,za.emptySet(i),f,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class LA{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class UA{constructor(){this.queries=Cv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Le(i),u=o.queries;o.queries=Cv(),u.forEach(((f,p)=>{for(const _ of p.Sa)_.onError(a)}))})(this,new le(ee.ABORTED,"Firestore shutting down"))}}function Cv(){return new Pr((r=>tb(r)),ih)}async function zA(r,e){const i=Le(r);let a=3;const o=e.query;let u=i.queries.get(o);u?!u.ba()&&e.Da()&&(a=2):(u=new LA,a=e.Da()?0:1);try{switch(a){case 0:u.wa=await i.onListen(o,!0);break;case 1:u.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(f){const p=Ib(f,`Initialization of query '${Oa(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,u),u.Sa.push(e),e.va(i.onlineState),u.wa&&e.Fa(u.wa)&&Im(i)}async function PA(r,e){const i=Le(r),a=e.query;let o=3;const u=i.queries.get(a);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function qA(r,e){const i=Le(r);let a=!1;for(const o of e){const u=o.query,f=i.queries.get(u);if(f){for(const p of f.Sa)p.Fa(o)&&(a=!0);f.wa=o}}a&&Im(i)}function BA(r,e,i){const a=Le(r),o=a.queries.get(e);if(o)for(const u of o.Sa)u.onError(i);a.queries.delete(e)}function Im(r){r.Ca.forEach((e=>{e.next()}))}var Wf,Rv;(Rv=Wf||(Wf={})).Ma="default",Rv.Cache="cache";class HA{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Wa(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Wa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Wf.Cache}}class jb{constructor(e){this.key=e}}class Db{constructor(e){this.key=e}}class FA{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=nb(e),this.tu=new za(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new Nv,o=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,f=o,p=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,S)=>{const I=o.get(E),F=sh(this.query,S)?S:null,X=!!I&&this.mutatedKeys.has(I.key),J=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let Z=!1;I&&F?I.data.isEqual(F.data)?X!==J&&(a.track({type:3,doc:F}),Z=!0):this.su(I,F)||(a.track({type:2,doc:F}),Z=!0,(_&&this.eu(F,_)>0||v&&this.eu(F,v)<0)&&(p=!0)):!I&&F?(a.track({type:0,doc:F}),Z=!0):I&&!F&&(a.track({type:1,doc:I}),Z=!0,(_||v)&&(p=!0)),Z&&(F?(f=f.add(F),u=J?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{tu:f,iu:a,Cs:p,mutatedKeys:u}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,S)=>(function(F,X){const J=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:Z})}};return J(F)-J(X)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(a),o=o??!1;const p=i&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,v=_!==this.Za;return this.Za=_,f.length!==0||v?{snapshot:new Wa(this.query,e.tu,u,f,e.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Nv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new Db(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new jb(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=ze();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Wa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const jm="SyncEngine";class GA{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class QA{constructor(e){this.key=e,this.hu=!1}}class YA{constructor(e,i,a,o,u,f){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Pr((p=>tb(p)),ih),this.Iu=new Map,this.Eu=new Set,this.du=new pt(pe.comparator),this.Au=new Map,this.Ru=new xm,this.Vu={},this.mu=new Map,this.fu=Ja.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function KA(r,e,i=!0){const a=Lb(r);let o;const u=a.Tu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Mb(a,e,i,!0),o}async function XA(r,e){const i=Lb(r);await Mb(i,e,!0,!1)}async function Mb(r,e,i,a){const o=await vA(r.localStore,Ti(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,i);let p;return a&&(p=await $A(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&i&&Nb(r.remoteStore,o),p}async function $A(r,e,i,a,o){r.pu=(S,I,F)=>(async function(J,Z,he,ue){let ne=Z.view.ru(he);ne.Cs&&(ne=await bv(J.localStore,Z.query,!1).then((({documents:R})=>Z.view.ru(R,ne))));const me=ue&&ue.targetChanges.get(Z.targetId),De=ue&&ue.targetMismatches.get(Z.targetId)!=null,Se=Z.view.applyChanges(ne,J.isPrimaryClient,me,De);return jv(J,Z.targetId,Se.au),Se.snapshot})(r,S,I,F);const u=await bv(r.localStore,e,!0),f=new FA(e,u.Qs),p=f.ru(u.documents),_=Vo.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),v=f.applyChanges(p,r.isPrimaryClient,_);jv(r,i,v.au);const E=new GA(e,i,f);return r.Tu.set(e,E),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),v.snapshot}async function JA(r,e,i){const a=Le(r),o=a.Tu.get(e),u=a.Iu.get(o.targetId);if(u.length>1)return a.Iu.set(o.targetId,u.filter((f=>!ih(f,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Jf(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Am(a.remoteStore,o.targetId),em(a,o.targetId)})).catch(Wu)):(em(a,o.targetId),await Jf(a.localStore,o.targetId,!0))}async function ZA(r,e){const i=Le(r),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Am(i.remoteStore,a.targetId))}async function Ob(r,e){const i=Le(r);try{const a=await pA(i.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=i.Au.get(u);f&&(ot(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?ot(f.hu,14607):o.removedDocuments.size>0&&(ot(f.hu,42227),f.hu=!1))})),await kb(i,a,e)}catch(a){await Wu(a)}}function Iv(r,e,i){const a=Le(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((u,f)=>{const p=f.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(f,p){const _=Le(f);_.onlineState=p;let v=!1;_.queries.forEach(((E,S)=>{for(const I of S.Sa)I.va(p)&&(v=!0)})),v&&Im(_)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function WA(r,e,i){const a=Le(r);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),u=o&&o.key;if(u){let f=new pt(pe.comparator);f=f.insert(u,Zt.newNoDocument(u,be.min()));const p=ze().add(u),_=new lh(be.min(),new Map,new pt(Oe),f,p);await Ob(a,_),a.du=a.du.remove(u),a.Au.delete(e),Dm(a)}else await Jf(a.localStore,e,!1).then((()=>em(a,e,i))).catch(Wu)}function em(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||Vb(r,a)}))}function Vb(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Am(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Dm(r))}function jv(r,e,i){for(const a of i)a instanceof jb?(r.Ru.addReference(a.key,e),ew(r,a)):a instanceof Db?(ae(jm,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||Vb(r,a.key)):xe(19791,{wu:a})}function ew(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(ae(jm,"New document in limbo: "+i),r.Eu.add(a),Dm(r))}function Dm(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new pe(at.fromString(e)),a=r.fu.next();r.Au.set(a,new QA(i)),r.du=r.du.insert(i,a),Nb(r.remoteStore,new qs(Ti(W_(i.path)),a,"TargetPurposeLimboResolution",eh.ce))}}async function kb(r,e,i){const a=Le(r),o=[],u=[],f=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{f.push(a.pu(_,e,i).then((v=>{if((v||i)&&a.isPrimaryClient){const E=v?!v.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,E?"current":"not-current")}if(v){o.push(v);const E=Tm.As(_.targetId,v);u.push(E)}})))})),await Promise.all(f),a.Pu.H_(o),await(async function(_,v){const E=Le(_);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(v,(I=>$.forEach(I.Es,(F=>E.persistence.referenceDelegate.addReference(S,I.targetId,F))).next((()=>$.forEach(I.ds,(F=>E.persistence.referenceDelegate.removeReference(S,I.targetId,F)))))))))}catch(S){if(!sl(S))throw S;ae(Sm,"Failed to update sequence numbers: "+S)}for(const S of v){const I=S.targetId;if(!S.fromCache){const F=E.Ms.get(I),X=F.snapshotVersion,J=F.withLastLimboFreeSnapshotVersion(X);E.Ms=E.Ms.insert(I,J)}}})(a.localStore,u))}async function tw(r,e){const i=Le(r);if(!i.currentUser.isEqual(e)){ae(jm,"User change. New user:",e.toKey());const a=await Sb(i.localStore,e);i.currentUser=e,(function(u,f){u.mu.forEach((p=>{p.forEach((_=>{_.reject(new le(ee.CANCELLED,f))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await kb(i,a.Ls)}}function nw(r,e){const i=Le(r),a=i.Au.get(e);if(a&&a.hu)return ze().add(a.key);{let o=ze();const u=i.Iu.get(e);if(!u)return o;for(const f of u){const p=i.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function Lb(r){const e=Le(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ob.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WA.bind(null,e),e.Pu.H_=qA.bind(null,e.eventManager),e.Pu.yu=BA.bind(null,e.eventManager),e}class Hu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=oh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return gA(this.persistence,new dA,e.initialUser,this.serializer)}Cu(e){return new Tb(Em.mi,this.serializer)}Du(e){return new bA}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hu.provider={build:()=>new Hu};class iw extends Hu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){ot(this.persistence.referenceDelegate instanceof Bu,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new J2(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new Tb((a=>Bu.mi(a,i)),this.serializer)}}class tm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Iv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=tw.bind(null,this.syncEngine),await kA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new UA})()}createDatastore(e){const i=oh(e.databaseInfo.databaseId),a=(function(u){return new AA(u)})(e.databaseInfo);return(function(u,f,p,_){return new RA(u,f,p,_)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,u,f,p){return new jA(a,o,u,f,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>Iv(this.syncEngine,i,0)),(function(){return Tv.v()?new Tv:new xA})())}createSyncEngine(e,i){return(function(o,u,f,p,_,v,E){const S=new YA(o,u,f,p,_,v);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Le(i);ae(Za,"RemoteStore shutting down."),a.Ea.add(5),await ko(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}tm.provider={build:()=>new tm};class sw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Zi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Js="FirestoreClient";class rw{constructor(e,i,a,o,u){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=k_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async f=>{ae(Js,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(a,(f=>(ae(Js,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Ib(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Nf(r,e){r.asyncQueue.verifyOperationInProgress(),ae(Js,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await Sb(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Dv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await aw(r);ae(Js,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>wv(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>wv(e.remoteStore,o))),r._onlineComponents=e}async function aw(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ae(Js,"Using user provided OfflineComponentProvider");try{await Nf(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ya("Error using user provided cache. Falling back to memory cache: "+i),await Nf(r,new Hu)}}else ae(Js,"Using default OfflineComponentProvider"),await Nf(r,new iw(void 0));return r._offlineComponents}async function lw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ae(Js,"Using user provided OnlineComponentProvider"),await Dv(r,r._uninitializedComponentsProvider._online)):(ae(Js,"Using default OnlineComponentProvider"),await Dv(r,new tm))),r._onlineComponents}async function ow(r){const e=await lw(r),i=e.eventManager;return i.onListen=KA.bind(null,e.syncEngine),i.onUnlisten=JA.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=XA.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=ZA.bind(null,e.syncEngine),i}function cw(r,e,i={}){const a=new Mr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,_,v){const E=new sw({next:I=>{E.Nu(),f.enqueueAndForget((()=>PA(u,S))),I.fromCache&&_.source==="server"?v.reject(new le(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(I)},error:I=>v.reject(I)}),S=new HA(p,E,{includeMetadataChanges:!0,qa:!0});return zA(u,S)})(await ow(r),r.asyncQueue,e,i,a))),a.promise}function Ub(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const Mv=new Map;const zb="firestore.googleapis.com",Ov=!0;class Vv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zb,this.ssl=Ov}else this.host=e.host,this.ssl=e.ssl??Ov;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Eb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<X2)throw new le(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}US("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ub(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new le(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new le(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new le(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mm{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new NS;switch(a.type){case"firstParty":return new jS(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new le(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Mv.get(i);a&&(ae("ComponentProvider","Removing Datastore"),Mv.delete(i),a.terminate())})(this),Promise.resolve()}}function uw(r,e,i,a={}){r=zf(r,Mm);const o=tl(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${i}`;o&&(b_(`https://${p}`),x_("Firestore",!0)),u.host!==zb&&u.host!==p&&Ya("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...u,host:p,ssl:o,emulatorOptions:a};if(!kr(_,f)&&(r._setSettings(_),a.mockUserToken)){let v,E;if(typeof a.mockUserToken=="string")v=a.mockUserToken,E=Jt.MOCK_USER;else{v=ZE(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new le(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Jt(S)}r._authCredentials=new CS(new V_(v,E))}}class qr{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new qr(this.firestore,e,this._query)}}class rn{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}toJSON(){return{type:rn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Oo(i,rn._jsonSchema))return new rn(e,a||null,new pe(at.fromString(i.referencePath)))}}rn._jsonSchemaVersion="firestore/documentReference/1.0",rn._jsonSchema={type:Ct("string",rn._jsonSchemaVersion),referencePath:Ct("string")};class Pa extends qr{constructor(e,i,a){super(e,i,W_(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new pe(e))}withConverter(e){return new Pa(this.firestore,e,this._path)}}function Ot(r,e,...i){if(r=Ci(r),LS("collection","path",e),r instanceof Mm){const a=at.fromString(e,...i);return Y0(a),new Pa(r,null,a)}{if(!(r instanceof rn||r instanceof Pa))throw new le(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(at.fromString(e,...i));return Y0(a),new Pa(r.firestore,null,a)}}const kv="AsyncQueue";class Lv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new wb(this,"async_queue_retry"),this._c=()=>{const a=wf();a&&ae(kv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=wf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=wf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Mr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!sl(e))throw e;ae(kv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Zi("INTERNAL UNHANDLED ERROR: ",Uv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Rm.createAndSchedule(this,e,i,a,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&xe(47125,{Pc:Uv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Uv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Pb extends Mm{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new Lv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Lv(e),this._firestoreClient=void 0,await e}}}function hw(r,e){const i=typeof r=="object"?r:A_(),a=typeof r=="string"?r:Lu,o=hm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=$E("firestore");u&&uw(o,...u)}return o}function dw(r){if(r._terminated)throw new le(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||fw(r),r._firestoreClient}function fw(r){const e=r._freezeSettings(),i=(function(o,u,f,p){return new $S(o,u,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Ub(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new rw(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kn(Kt.fromBase64String(e))}catch(i){throw new le(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new kn(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Oo(e,kn._jsonSchema))return kn.fromBase64String(e.bytes)}}kn._jsonSchemaVersion="firestore/bytes/1.0",kn._jsonSchema={type:Ct("string",kn._jsonSchemaVersion),bytes:Ct("string")};class qb{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new le(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Bb{constructor(e){this._methodName=e}}class Si{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new le(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new le(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Si._jsonSchemaVersion}}static fromJSON(e){if(Oo(e,Si._jsonSchema))return new Si(e.latitude,e.longitude)}}Si._jsonSchemaVersion="firestore/geoPoint/1.0",Si._jsonSchema={type:Ct("string",Si._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};class Ai{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Oo(e,Ai._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ai(e.vectorValues);throw new le(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ai._jsonSchemaVersion="firestore/vectorValue/1.0",Ai._jsonSchema={type:Ct("string",Ai._jsonSchemaVersion),vectorValues:Ct("object")};const mw=/^__.*__$/;function Hb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:r})}}class Om{constructor(e,i,a,o,u,f){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Om({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return nm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Hb(this.Ac)&&mw.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class gw{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||oh(e)}Cc(e,i,a,o=!1){return new Om({Ac:e,methodName:i,Dc:a,path:Wt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pw(r){const e=r._freezeSettings(),i=oh(r._databaseId);return new gw(r._databaseId,!!e.ignoreUndefinedProperties,i)}function yw(r,e,i,a=!1){return Vm(i,r.Cc(a?4:3,e))}function Vm(r,e){if(Fb(r=Ci(r)))return _w("Unsupported field value:",e,r),vw(r,e);if(r instanceof Bb)return(function(a,o){if(!Hb(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const u=[];let f=0;for(const p of a){let _=Vm(p,o.wc(f));_==null&&(_={nullValue:"NULL_VALUE"}),u.push(_),f++}return{arrayValue:{values:u}}})(r,e)}return(function(a,o){if((a=Ci(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return _2(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=lt.fromDate(a);return{timestampValue:Xf(o.serializer,u)}}if(a instanceof lt){const u=new lt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Xf(o.serializer,u)}}if(a instanceof Si)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof kn)return{bytesValue:mb(o.serializer,a._byteString)};if(a instanceof rn){const u=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:gb(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Ai)return(function(f,p){return{mapValue:{fields:{[G_]:{stringValue:Q_},[Uu]:{arrayValue:{values:f.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return ym(p.serializer,v)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Zu(a)}`)})(r,e)}function vw(r,e){const i={};return z_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rl(r,((a,o)=>{const u=Vm(o,e.mc(a));u!=null&&(i[a]=u)})),{mapValue:{fields:i}}}function Fb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof lt||r instanceof Si||r instanceof kn||r instanceof rn||r instanceof Bb||r instanceof Ai)}function _w(r,e,i){if(!Fb(i)||!L_(i)){const a=Zu(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}const bw=new RegExp("[~\\*/\\[\\]]");function xw(r,e,i){if(e.search(bw)>=0)throw nm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new qb(...e.split("."))._internalPath}catch{throw nm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function nm(r,e,i,a,o){const u=a&&!a.isEmpty(),f=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(u||f)&&(_+=" (found",u&&(_+=` in field ${a}`),f&&(_+=` in document ${o}`),_+=")"),new le(ee.INVALID_ARGUMENT,p+r+_)}class Gb{constructor(e,i,a,o,u){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ew(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(km("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Ew extends Gb{data(){return super.data()}}function km(r,e){return typeof e=="string"?xw(r,e):e instanceof qb?e._internalPath:e._delegate._internalPath}function Tw(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lm{}class Qb extends Lm{}function Um(r,e,...i){let a=[];e instanceof Lm&&a.push(e),a=a.concat(i),(function(u){const f=u.filter((_=>_ instanceof Pm)).length,p=u.filter((_=>_ instanceof zm)).length;if(f>1||f>0&&p>0)throw new le(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)r=o._apply(r);return r}class zm extends Qb{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new zm(e,i,a)}_apply(e){const i=this._parse(e);return Kb(e._query,i),new qr(e.firestore,e.converter,Ff(e._query,i))}_parse(e){const i=pw(e.firestore);return(function(u,f,p,_,v,E,S){let I;if(v.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new le(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Pv(S,E);const X=[];for(const J of S)X.push(zv(_,u,J));I={arrayValue:{values:X}}}else I=zv(_,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Pv(S,E),I=yw(p,f,S,E==="in"||E==="not-in");return Nt.create(v,E,I)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Pm extends Lm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Pm(e,i)}_parse(e){const i=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:Jn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,u){let f=o;const p=u.getFlattenedFilters();for(const _ of p)Kb(f,_),f=Ff(f,_)})(e._query,i),new qr(e.firestore,e.converter,Ff(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qm extends Qb{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new qm(e,i)}_apply(e){const i=(function(o,u,f){if(o.startAt!==null)throw new le(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Io(u,f)})(e._query,this._field,this._direction);return new qr(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new al(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function Yb(r,e="asc"){const i=e,a=km("orderBy",r);return qm._create(a,i)}function zv(r,e,i){if(typeof(i=Ci(i))=="string"){if(i==="")throw new le(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eb(e)&&i.indexOf("/")!==-1)throw new le(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(at.fromString(i));if(!pe.isDocumentKey(a))throw new le(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return tv(r,new pe(a))}if(i instanceof rn)return tv(r,i._key);throw new le(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zu(i)}.`)}function Pv(r,e){if(!Array.isArray(r)||r.length===0)throw new le(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Kb(r,e){const i=(function(o,u){for(const f of o)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new le(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class Sw{convertValue(e,i="none"){switch(Xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return rl(e,((o,u)=>{a[o]=this.convertValue(u,i)})),a}convertVectorValue(e){const i=e.fields?.[Uu].arrayValue?.values?.map((a=>gt(a.doubleValue)));return new Ai(i)}convertGeoPoint(e){return new Si(gt(e.latitude),gt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=nh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(No(e));default:return null}}convertTimestamp(e){const i=Ys(e);return new lt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=at.fromString(e);ot(xb(a),9688,{name:e});const o=new Co(a.get(1),a.get(3)),u=new pe(a.popFirst(5));return o.isEqual(i)||Zi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}class xu{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qa extends Gb{constructor(e,i,a,o,u,f){super(e,i,a,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Nu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(km("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=qa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}qa._jsonSchemaVersion="firestore/documentSnapshot/1.0",qa._jsonSchema={type:Ct("string",qa._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class Nu extends qa{data(e={}){return super.data(e)}}class Ba{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new xu(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Nu(this._firestore,this._userDataWriter,a.key,a,new xu(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new le(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((p=>{const _=new Nu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new xu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const _=new Nu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new xu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,E=-1;return p.type!==0&&(v=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),E=f.indexOf(p.doc.key)),{type:Aw(p.type),doc:_,oldIndex:v,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ba._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=k_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Aw(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:r})}}Ba._jsonSchemaVersion="firestore/querySnapshot/1.0",Ba._jsonSchema={type:Ct("string",Ba._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class ww extends Sw{constructor(e){super(),this.firestore=e}convertBytes(e){return new kn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,i)}}function Vt(r){r=zf(r,qr);const e=zf(r.firestore,Pb),i=dw(e),a=new ww(e);return Tw(r._query),cw(i,r._query).then((o=>new Ba(e,a,r,o)))}(function(e,i=!0){(function(o){il=o})(nl),Qa(new Lr("firestore",((a,{instanceIdentifier:o,options:u})=>{const f=a.getProvider("app").getImmediate(),p=new Pb(new RS(a.getProvider("auth-internal")),new DS(f,a.getProvider("app-check-internal")),(function(v,E){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new le(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Co(v.options.projectId,E)})(f,o),f);return u={useFetchStreams:i,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Fs(H0,F0,e),Fs(H0,F0,"esm2020")})();function Xb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Nw=Xb,$b=new Do("auth","Firebase",Xb());const Fu=new cm("@firebase/auth");function Cw(r,...e){Fu.logLevel<=je.WARN&&Fu.warn(`Auth (${nl}): ${r}`,...e)}function Cu(r,...e){Fu.logLevel<=je.ERROR&&Fu.error(`Auth (${nl}): ${r}`,...e)}function Wi(r,...e){throw Bm(r,...e)}function wi(r,...e){return Bm(r,...e)}function Jb(r,e,i){const a={...Nw(),[e]:i};return new Do("auth","Firebase",a).create(e,{appName:r.name})}function Vr(r){return Jb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Bm(r,...e){if(typeof r!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return $b.create(r,...e)}function ye(r,e,...i){if(!r)throw Bm(e,...i)}function Xi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Cu(e),new Error(e)}function es(r,e){r||Xi(e)}function im(){return typeof self<"u"&&self.location?.href||""}function Rw(){return qv()==="http:"||qv()==="https:"}function qv(){return typeof self<"u"&&self.location?.protocol||null}function Iw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Rw()||sT()||"connection"in navigator)?navigator.onLine:!0}function jw(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Uo{constructor(e,i){this.shortDelay=e,this.longDelay=i,es(i>e,"Short delay should be less than long delay!"),this.isMobile=tT()||rT()}get(){return Iw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Hm(r,e){es(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Zb{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Dw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Mw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Ow=new Uo(3e4,6e4);function Fm(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ol(r,e,i,a,o={}){return Wb(r,o,async()=>{let u={},f={};a&&(e==="GET"?f=a:u={body:JSON.stringify(a)});const p=Mo({key:r.config.apiKey,...f}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const v={method:e,headers:_,...u};return iT()||(v.referrerPolicy="no-referrer"),r.emulatorConfig&&tl(r.emulatorConfig.host)&&(v.credentials="include"),Zb.fetch()(await e1(r,r.config.apiHost,i,p),v)})}async function Wb(r,e,i){r._canInitEmulator=!1;const a={...Dw,...e};try{const o=new kw(r),u=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Eu(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[_,v]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Eu(r,"credential-already-in-use",f);if(_==="EMAIL_EXISTS")throw Eu(r,"email-already-in-use",f);if(_==="USER_DISABLED")throw Eu(r,"user-disabled",f);const E=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Jb(r,E,v);Wi(r,E)}}catch(o){if(o instanceof ts)throw o;Wi(r,"network-request-failed",{message:String(o)})}}async function Vw(r,e,i,a,o={}){const u=await ol(r,e,i,a,o);return"mfaPendingCredential"in u&&Wi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function e1(r,e,i,a){const o=`${e}${i}?${a}`,u=r,f=u.config.emulator?Hm(r.config,o):`${r.config.apiScheme}://${o}`;return Mw.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class kw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(wi(this.auth,"network-request-failed")),Ow.get())})}}function Eu(r,e,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=wi(r,e,a);return o.customData._tokenResponse=i,o}async function Lw(r,e){return ol(r,"POST","/v1/accounts:delete",e)}async function Gu(r,e){return ol(r,"POST","/v1/accounts:lookup",e)}function So(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Uw(r,e=!1){const i=Ci(r),a=await i.getIdToken(e),o=Gm(a);ye(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:a,authTime:So(Cf(o.auth_time)),issuedAtTime:So(Cf(o.iat)),expirationTime:So(Cf(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Cf(r){return Number(r)*1e3}function Gm(r){const[e,i,a]=r.split(".");if(e===void 0||i===void 0||a===void 0)return Cu("JWT malformed, contained fewer than 3 sections"),null;try{const o=p_(i);return o?JSON.parse(o):(Cu("Failed to decode base64 JWT payload"),null)}catch(o){return Cu("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Bv(r){const e=Gm(r);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function jo(r,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof ts&&zw(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function zw({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class Pw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class sm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=So(this.lastLoginAt),this.creationTime=So(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Qu(r){const e=r.auth,i=await r.getIdToken(),a=await jo(r,Gu(e,{idToken:i}));ye(a?.users.length,e,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?t1(o.providerUserInfo):[],f=Bw(r.providerData,u),p=r.isAnonymous,_=!(r.email&&o.passwordHash)&&!f?.length,v=p?_:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new sm(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(r,E)}async function qw(r){const e=Ci(r);await Qu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Bw(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function t1(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Hw(r,e){const i=await Wb(r,{},async()=>{const a=Mo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await e1(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return r.emulatorConfig&&tl(r.emulatorConfig.host)&&(_.credentials="include"),Zb.fetch()(f,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Fw(r,e){return ol(r,"POST","/v2/accounts:revokeToken",Fm(r,e))}class Ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Bv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const i=Bv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:u}=await Hw(e,i);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:u}=i,f=new Ha;return a&&(ye(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),o&&(ye(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ye(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ha,this.toJSON())}_performRefresh(){return Xi("not implemented")}}function Vs(r,e){ye(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class $n{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new Pw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new sm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await jo(this,this.stsTokenManager.getToken(this.auth,e));return ye(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return Uw(this,e)}reload(){return qw(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new $n({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Qu(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xi(this.auth.app))return Promise.reject(Vr(this.auth));const e=await this.getIdToken();return await jo(this,Lw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,u=i.phoneNumber??void 0,f=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,v=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:S,emailVerified:I,isAnonymous:F,providerData:X,stsTokenManager:J}=i;ye(S&&J,e,"internal-error");const Z=Ha.fromJSON(this.name,J);ye(typeof S=="string",e,"internal-error"),Vs(a,e.name),Vs(o,e.name),ye(typeof I=="boolean",e,"internal-error"),ye(typeof F=="boolean",e,"internal-error"),Vs(u,e.name),Vs(f,e.name),Vs(p,e.name),Vs(_,e.name),Vs(v,e.name),Vs(E,e.name);const he=new $n({uid:S,auth:e,email:o,emailVerified:I,displayName:a,isAnonymous:F,photoURL:f,phoneNumber:u,tenantId:p,stsTokenManager:Z,createdAt:v,lastLoginAt:E});return X&&Array.isArray(X)&&(he.providerData=X.map(ue=>({...ue}))),_&&(he._redirectEventId=_),he}static async _fromIdTokenResponse(e,i,a=!1){const o=new Ha;o.updateFromServerResponse(i);const u=new $n({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Qu(u),u}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];ye(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?t1(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,p=new Ha;p.updateFromIdToken(a);const _=new $n({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:f}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new sm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(_,v),_}}const Hv=new Map;function $i(r){es(r instanceof Function,"Expected a class definition");let e=Hv.get(r);return e?(es(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Hv.set(r,e),e)}class n1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}n1.type="NONE";const Fv=n1;function Ru(r,e,i){return`firebase:${r}:${e}:${i}`}class Fa{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=Ru(this.userKey,o.apiKey,u),this.fullPersistenceKey=Ru("persistence",o.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Gu(this.auth,{idToken:e}).catch(()=>{});return i?$n._fromGetAccountInfoResponse(this.auth,i,e):null}return $n._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new Fa($i(Fv),e,a);const o=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let u=o[0]||$i(Fv);const f=Ru(a,e.config.apiKey,e.name);let p=null;for(const v of i)try{const E=await v._get(f);if(E){let S;if(typeof E=="string"){const I=await Gu(e,{idToken:E}).catch(()=>{});if(!I)break;S=await $n._fromGetAccountInfoResponse(e,I,E)}else S=$n._fromJSON(e,E);v!==u&&(p=S),u=v;break}}catch{}const _=o.filter(v=>v._shouldAllowMigration);return!u._shouldAllowMigration||!_.length?new Fa(u,e,a):(u=_[0],p&&await u._set(f,p.toJSON()),await Promise.all(i.map(async v=>{if(v!==u)try{await v._remove(f)}catch{}})),new Fa(u,e,a))}}function Gv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(a1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(i1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(o1(e))return"Blackberry";if(c1(e))return"Webos";if(s1(e))return"Safari";if((e.includes("chrome/")||r1(e))&&!e.includes("edge/"))return"Chrome";if(l1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function i1(r=en()){return/firefox\//i.test(r)}function s1(r=en()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function r1(r=en()){return/crios\//i.test(r)}function a1(r=en()){return/iemobile/i.test(r)}function l1(r=en()){return/android/i.test(r)}function o1(r=en()){return/blackberry/i.test(r)}function c1(r=en()){return/webos/i.test(r)}function Qm(r=en()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Gw(r=en()){return Qm(r)&&!!window.navigator?.standalone}function Qw(){return aT()&&document.documentMode===10}function u1(r=en()){return Qm(r)||l1(r)||c1(r)||o1(r)||/windows phone/i.test(r)||a1(r)}function h1(r,e=[]){let i;switch(r){case"Browser":i=Gv(en());break;case"Worker":i=`${Gv(en())}-${r}`;break;default:i=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${nl}/${a}`}class Yw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=u=>new Promise((f,p)=>{try{const _=e(u);f(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function Kw(r,e={}){return ol(r,"GET","/v2/passwordPolicy",Fm(r,e))}const Xw=6;class $w{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Xw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class Jw{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qv(this),this.idTokenSubscription=new Qv(this),this.beforeStateQueue=new Yw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$b,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=$i(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Fa.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Gu(this,{idToken:e}),a=await $n._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(xi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===f)&&p?.user&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Qu(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xi(this.app))return Promise.reject(Vr(this));const i=e?Ci(e):null;return i&&ye(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xi(this.app)?Promise.reject(Vr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xi(this.app)?Promise.reject(Vr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Kw(this),i=new $w(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Do("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Fw(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&$i(e)||this._popupRedirectResolver;ye(i,this,"argument-error"),this.redirectPersistenceManager=await Fa.create(this,[$i(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,a,o);return()=>{f=!0,_()}}else{const _=e.addObserver(i);return()=>{f=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=h1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(xi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Cw(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ym(r){return Ci(r)}class Qv{constructor(e){this.auth=e,this.observer=null,this.addObserver=mT(i=>this.observer=i)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Km={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Zw(r){Km=r}function Ww(r){return Km.loadJS(r)}function eN(){return Km.gapiScript}function tN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function nN(r,e){const i=hm(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),u=i.getOptions();if(kr(u,e??{}))return o;Wi(o,"already-initialized")}return i.initialize({options:e})}function iN(r,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map($i);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function sN(r,e,i){const a=Ym(r);ye(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=d1(e),{host:f,port:p}=rN(e),_=p===null?"":`:${p}`,v={url:`${u}//${f}${_}/`},E=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){ye(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),ye(kr(v,a.config.emulator)&&kr(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=v,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,tl(f)?(b_(`${u}//${f}${_}`),x_("Auth",!0)):aN()}function d1(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function rN(r){const e=d1(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:Yv(a.substr(u.length+1))}}else{const[u,f]=a.split(":");return{host:u,port:Yv(f)}}}function Yv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function aN(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class f1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Xi("not implemented")}_getIdTokenResponse(e){return Xi("not implemented")}_linkToIdToken(e,i){return Xi("not implemented")}_getReauthenticationResolver(e){return Xi("not implemented")}}async function Ga(r,e){return Vw(r,"POST","/v1/accounts:signInWithIdp",Fm(r,e))}const lN="http://localhost";class zr extends f1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new zr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Wi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...u}=i;if(!a||!o)return null;const f=new zr(a,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const i=this.buildRequest();return Ga(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,Ga(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Ga(e,i)}buildRequest(){const e={requestUri:lN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Mo(i)}return e}}class m1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class zo extends m1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ks extends zo{constructor(){super("facebook.com")}static credential(e){return zr._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ks.credential(e.oauthAccessToken)}catch{return null}}}ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";ks.PROVIDER_ID="facebook.com";class Ls extends zo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return zr._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return Ls.credential(i,a)}catch{return null}}}Ls.GOOGLE_SIGN_IN_METHOD="google.com";Ls.PROVIDER_ID="google.com";class Us extends zo{constructor(){super("github.com")}static credential(e){return zr._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Us.credential(e.oauthAccessToken)}catch{return null}}}Us.GITHUB_SIGN_IN_METHOD="github.com";Us.PROVIDER_ID="github.com";class zs extends zo{constructor(){super("twitter.com")}static credential(e,i){return zr._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return zs.credential(i,a)}catch{return null}}}zs.TWITTER_SIGN_IN_METHOD="twitter.com";zs.PROVIDER_ID="twitter.com";class el{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const u=await $n._fromIdTokenResponse(e,a,o),f=Kv(a);return new el({user:u,providerId:f,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=Kv(a);return new el({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function Kv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Yu extends ts{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Yu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new Yu(e,i,a,o)}}function g1(r,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Yu._fromErrorAndOperation(r,u,e,a):u})}async function oN(r,e,i=!1){const a=await jo(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return el._forOperation(r,"link",a)}async function cN(r,e,i=!1){const{auth:a}=r;if(xi(a.app))return Promise.reject(Vr(a));const o="reauthenticate";try{const u=await jo(r,g1(a,o,e,r),i);ye(u.idToken,a,"internal-error");const f=Gm(u.idToken);ye(f,a,"internal-error");const{sub:p}=f;return ye(r.uid===p,a,"user-mismatch"),el._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Wi(a,"user-mismatch"),u}}async function uN(r,e,i=!1){if(xi(r.app))return Promise.reject(Vr(r));const a="signIn",o=await g1(r,a,e),u=await el._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(u.user),u}function hN(r,e,i,a){return Ci(r).onIdTokenChanged(e,i,a)}function dN(r,e,i){return Ci(r).beforeAuthStateChanged(e,i)}const Ku="__sak";class p1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Ku,"1"),this.storage.removeItem(Ku),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const fN=1e3,mN=10;class y1 extends p1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=u1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((f,p,_)=>{this.notifyListeners(f,_)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!i&&this.localCache[a]===f||this.notifyListeners(a,f)},u=this.storage.getItem(a);Qw()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,mN):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},fN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}y1.type="LOCAL";const gN=y1;class v1 extends p1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}v1.type="SESSION";const _1=v1;function pN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class uh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new uh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:u}=i.data,f=this.handlersMap[o];if(!f?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(f).map(async v=>v(i.origin,u)),_=await pN(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uh.receivers=[];function Xm(r="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return r+i}class yN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,_)=>{const v=Xm("",20);o.port1.start();const E=setTimeout(()=>{_(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(S){const I=S;if(I.data.eventId===v)switch(I.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(I.data.response);break;default:clearTimeout(E),clearTimeout(u),_(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:v,data:i},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ni(){return window}function vN(r){Ni().location.href=r}function b1(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function _N(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bN(){return navigator?.serviceWorker?.controller||null}function xN(){return b1()?self:null}const x1="firebaseLocalStorageDb",EN=1,Xu="firebaseLocalStorage",E1="fbase_key";class Po{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function hh(r,e){return r.transaction([Xu],e?"readwrite":"readonly").objectStore(Xu)}function TN(){const r=indexedDB.deleteDatabase(x1);return new Po(r).toPromise()}function rm(){const r=indexedDB.open(x1,EN);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Xu,{keyPath:E1})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Xu)?e(a):(a.close(),await TN(),e(await rm()))})})}async function Xv(r,e,i){const a=hh(r,!0).put({[E1]:e,value:i});return new Po(a).toPromise()}async function SN(r,e){const i=hh(r,!1).get(e),a=await new Po(i).toPromise();return a===void 0?null:a.value}function $v(r,e){const i=hh(r,!0).delete(e);return new Po(i).toPromise()}const AN=800,wN=3;class T1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>wN)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return b1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uh._getInstance(xN()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await _N(),!this.activeServiceWorker)return;this.sender=new yN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rm();return await Xv(e,Ku,"1"),await $v(e,Ku),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>Xv(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>SN(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>$v(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=hh(o,!1).getAll();return new Po(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}T1.type="LOCAL";const NN=T1;new Uo(3e4,6e4);function CN(r,e){return e?$i(e):(ye(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class $m extends f1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ga(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Ga(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Ga(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function RN(r){return uN(r.auth,new $m(r),r.bypassAuthState)}function IN(r){const{auth:e,user:i}=r;return ye(i,e,"internal-error"),cN(i,new $m(r),r.bypassAuthState)}async function jN(r){const{auth:e,user:i}=r;return ye(i,e,"internal-error"),oN(i,new $m(r),r.bypassAuthState)}class S1{constructor(e,i,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:u,error:f,type:p}=e;if(f){this.reject(f);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RN;case"linkViaPopup":case"linkViaRedirect":return jN;case"reauthViaPopup":case"reauthViaRedirect":return IN;default:Wi(this.auth,"internal-error")}}resolve(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const DN=new Uo(2e3,1e4);class La extends S1{constructor(e,i,a,o,u){super(e,i,o,u),this.provider=a,this.authWindow=null,this.pollId=null,La.currentPopupAction&&La.currentPopupAction.cancel(),La.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){es(this.filter.length===1,"Popup operations only handle one event");const e=Xm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,La.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DN.get())};e()}}La.currentPopupAction=null;const MN="pendingRedirect",Iu=new Map;class ON extends S1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Iu.get(this.auth._key());if(!e){try{const a=await VN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Iu.set(this.auth._key(),e)}return this.bypassAuthState||Iu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VN(r,e){const i=UN(e),a=LN(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function kN(r,e){Iu.set(r._key(),e)}function LN(r){return $i(r._redirectPersistence)}function UN(r){return Ru(MN,r.config.apiKey,r.name)}async function zN(r,e,i=!1){if(xi(r.app))return Promise.reject(Vr(r));const a=Ym(r),o=CN(a,e),f=await new ON(a,o,i).execute();return f&&!i&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}const PN=600*1e3;class qN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!BN(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!A1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(wi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=PN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jv(e))}saveEventToCache(e){this.cachedEventUids.add(Jv(e)),this.lastProcessedEventTime=Date.now()}}function Jv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function A1({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function BN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return A1(r);default:return!1}}async function HN(r,e={}){return ol(r,"GET","/v1/projects",e)}const FN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GN=/^https?/;async function QN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await HN(r);for(const i of e)try{if(YN(i))return}catch{}Wi(r,"unauthorized-domain")}function YN(r){const e=im(),{protocol:i,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&f.hostname===a}if(!GN.test(i))return!1;if(FN.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const KN=new Uo(3e4,6e4);function Zv(){const r=Ni().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function XN(r){return new Promise((e,i)=>{function a(){Zv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Zv(),i(wi(r,"network-request-failed"))},timeout:KN.get()})}if(Ni().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ni().gapi?.load)a();else{const o=tN("iframefcb");return Ni()[o]=()=>{gapi.load?a():i(wi(r,"network-request-failed"))},Ww(`${eN()}?onload=${o}`).catch(u=>i(u))}}).catch(e=>{throw ju=null,e})}let ju=null;function $N(r){return ju=ju||XN(r),ju}const JN=new Uo(5e3,15e3),ZN="__/auth/iframe",WN="emulator/auth/iframe",eC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nC(r){const e=r.config;ye(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?Hm(e,WN):`https://${r.config.authDomain}/${ZN}`,a={apiKey:e.apiKey,appName:r.name,v:nl},o=tC.get(r.config.apiHost);o&&(a.eid=o);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${i}?${Mo(a).slice(1)}`}async function iC(r){const e=await $N(r),i=Ni().gapi;return ye(i,r,"internal-error"),e.open({where:document.body,url:nC(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eC,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const f=wi(r,"network-request-failed"),p=Ni().setTimeout(()=>{u(f)},JN.get());function _(){Ni().clearTimeout(p),o(a)}a.ping(_).then(_,()=>{u(f)})}))}const sC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rC=500,aC=600,lC="_blank",oC="http://localhost";class Wv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cC(r,e,i,a=rC,o=aC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...sC,width:a.toString(),height:o.toString(),top:u,left:f},v=en().toLowerCase();i&&(p=r1(v)?lC:i),i1(v)&&(e=e||oC,_.scrollbars="yes");const E=Object.entries(_).reduce((I,[F,X])=>`${I}${F}=${X},`,"");if(Gw(v)&&p!=="_self")return uC(e||"",p),new Wv(null);const S=window.open(e||"",p,E);ye(S,r,"popup-blocked");try{S.focus()}catch{}return new Wv(S)}function uC(r,e){const i=document.createElement("a");i.href=r,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const hC="__/auth/handler",dC="emulator/auth/handler",fC=encodeURIComponent("fac");async function e_(r,e,i,a,o,u){ye(r.config.authDomain,r,"auth-domain-config-required"),ye(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:nl,eventId:o};if(e instanceof m1){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",fT(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(e instanceof zo){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const p=f;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const _=await r._getAppCheckToken(),v=_?`#${fC}=${encodeURIComponent(_)}`:"";return`${mC(r)}?${Mo(p).slice(1)}${v}`}function mC({config:r}){return r.emulator?Hm(r,dC):`https://${r.authDomain}/${hC}`}const Rf="webStorageSupport";class gC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_1,this._completeRedirectFn=zN,this._overrideRedirectResult=kN}async _openPopup(e,i,a,o){es(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await e_(e,i,a,im(),o);return cC(e,u,Xm())}async _openRedirect(e,i,a,o){await this._originValidation(e);const u=await e_(e,i,a,im(),o);return vN(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:u}=this.eventManagers[i];return o?Promise.resolve(o):(es(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await iC(e),a=new qN(e);return i.register("authEvent",o=>(ye(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Rf,{type:Rf},o=>{const u=o?.[0]?.[Rf];u!==void 0&&i(!!u),Wi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=QN(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return u1()||s1()||Qm()}}const pC=gC;var t_="@firebase/auth",n_="1.11.1";class yC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function vC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _C(r){Qa(new Lr("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=a.options;ye(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:f,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:h1(r)},v=new Jw(a,o,u,_);return iN(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),Qa(new Lr("auth-internal",e=>{const i=Ym(e.getProvider("auth").getImmediate());return(a=>new yC(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fs(t_,n_,vC(r)),Fs(t_,n_,"esm2020")}const bC=300,xC=__("authIdTokenMaxAge")||bC;let i_=null;const EC=r=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>xC)return;const o=i?.token;i_!==o&&(i_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function TC(r=A_()){const e=hm(r,"auth");if(e.isInitialized())return e.getImmediate();const i=nN(r,{popupRedirectResolver:pC,persistence:[NN,gN,_1]}),a=__("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const f=EC(u.toString());dN(i,f,()=>f(i.currentUser)),hN(i,p=>f(p))}}const o=y_("auth");return o&&sN(i,`http://${o}`),i}function SC(){return document.getElementsByTagName("head")?.[0]??document}Zw({loadJS(r){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const u=wi("internal-error");u.customData=o,i(u)},a.type="text/javascript",a.charset="UTF-8",SC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_C("Browser");const AC={apiKey:"AIzaSyA88tqY2iC43fJqjYd2vPahYcM1xEo1_3c",authDomain:"notas-1f37f.firebaseapp.com",projectId:"notas-1f37f",storageBucket:"notas-1f37f.firebasestorage.app",messagingSenderId:"216586156036",appId:"1:216586156036:web:2a070111c818d407789d51"},w1=S_(AC),kt=hw(w1);TC(w1);const wC=({onSelectLesson:r})=>{const[e,i]=W.useState("Hola! Cmo ests?");W.useEffect(()=>{(async()=>{try{const u=await Vt(Ot(kt,"phrases"));if(!u.empty){const f=u.docs.map(p=>p.data().text);i(f[Math.floor(Math.random()*f.length)])}}catch(u){console.error("Error fetching greeting:",u)}})()},[]);const a=[{title:"Vocabulario Bsico",color:"text-purple-400",lessons:[{id:"alphabet",title:"Alfabeto",icon:m.jsx(I0,{}),color:"bg-purple-600"},{id:"vocales",title:"Vocales",icon:m.jsx(I0,{}),color:"bg-pink-500"},{id:"numbers",title:"Nmeros",icon:m.jsx(ME,{}),color:"bg-blue-500"},{id:"colors",title:"Colores",icon:m.jsx(DE,{}),color:"bg-red-500"},{id:"calendar",title:"Calendario",icon:m.jsx(CE,{}),color:"bg-green-600"},{id:"weather",title:"El Clima",icon:m.jsx(d_,{}),color:"bg-orange-500"}]},{title:"Gramtica",color:"text-indigo-400",lessons:[{id:"pronouns",title:"Pronombres",icon:m.jsx(f_,{}),color:"bg-indigo-500"},{id:"verbs",title:"Ser/Estar",icon:m.jsx(h_,{}),color:"bg-emerald-600"},{id:"conjugations",title:"Conjugacin",icon:m.jsx(kE,{}),color:"bg-cyan-600"}]},{title:"Situacional",color:"text-pink-400",lessons:[{id:"intro",title:"Presentarse",icon:m.jsx(OE,{}),color:"bg-pink-500"},{id:"interview",title:"Entrevista",icon:m.jsx(LE,{}),color:"bg-cyan-600"},{id:"feelings",title:"Saludos",icon:m.jsx(UE,{}),color:"bg-yellow-500"},{id:"jobs",title:"Profesiones",icon:m.jsx(If,{}),color:"bg-teal-600"},{id:"nationalities",title:"Pases",icon:m.jsx(c_,{}),color:"bg-rose-600"},{id:"characters",title:"Famosos",icon:m.jsx(jf,{}),color:"bg-indigo-600"}]},{title:"Pruebas",color:"text-yellow-400",lessons:[{id:"vocabmix",title:"Vocab Mix",icon:m.jsx(AE,{}),color:"bg-pink-600"},{id:"finalquiz",title:"Examen Final",icon:m.jsx(o_,{}),color:"bg-yellow-600"}]}];return m.jsxs("div",{className:"px-2 sm:p-6 max-w-7xl mx-auto space-y-8 pb-32 relative",children:[m.jsxs("div",{className:"space-y-1 relative z-20",children:[m.jsx("div",{className:"flex justify-between items-end",children:m.jsx("h1",{className:"text-3xl font-black bg-gradient-to-r from-pink-400 to-indigo-400 bg-clip-text text-transparent tracking-tight",children:"Hola, estudiante"})}),m.jsx("p",{className:"text-gray-400 text-sm font-medium",children:e})]}),m.jsx("div",{className:"space-y-8 relative z-10",children:a.map((o,u)=>m.jsxs("div",{className:"space-y-3",children:[m.jsx("h3",{className:`text-xs font-bold uppercase tracking-widest ${o.color} ml-1`,children:o.title}),m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:o.lessons.map(f=>m.jsxs("button",{onClick:()=>r(f.id),className:"bg-gray-800 p-3 rounded-2xl border border-gray-700/50 hover:border-gray-500 hover:bg-gray-750 transition-all text-left group relative overflow-hidden flex flex-col justify-between min-h-[100px]",children:[m.jsx("div",{className:`absolute top-0 right-0 p-2 opacity-10 ${f.color} blur-xl w-16 h-16 rounded-full -mr-4 -mt-4 group-hover:opacity-20 transition-opacity pointer-events-none`}),m.jsx("div",{className:"relative z-10",children:m.jsx("div",{className:`w-8 h-8 rounded-lg ${f.color} flex items-center justify-center text-white shadow-md mb-2 shrink-0`,children:f.icon})}),m.jsx("span",{className:"font-bold text-gray-200 text-sm relative z-10",children:f.title})]},f.id))})]},u))}),m.jsx("div",{className:"flex justify-center mt-8 opacity-20 hover:opacity-100 transition-opacity",children:m.jsxs("button",{onClick:()=>r("admin"),className:"flex items-center gap-2 px-4 py-2 rounded-full border border-gray-700 hover:bg-gray-800 text-xs text-gray-500 transition-colors",children:[m.jsx(If,{size:14}),m.jsx("span",{children:"Panel de Control"})]})})]})},NC=({onBack:r})=>m.jsxs("div",{className:"min-h-screen bg-gray-900 text-white p-6 max-w-2xl mx-auto pb-24",children:[m.jsxs("div",{className:"flex items-center gap-4 mb-8 border-b border-gray-700 pb-4",children:[m.jsx("button",{onClick:r,className:"bg-gray-800 p-2 rounded-lg hover:bg-gray-700 transition-colors",children:m.jsx(lm,{size:20,className:"text-gray-400"})}),m.jsxs("div",{children:[m.jsxs("h1",{className:"text-2xl font-bold text-red-500 flex items-center gap-2",children:[m.jsx(If,{size:24}),"Panel de Control"]}),m.jsx("p",{className:"text-gray-400 text-sm",children:"Gestin de bases de datos"})]})]}),m.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 mb-6 border border-indigo-500/30",children:[m.jsxs("h2",{className:"text-xl font-bold text-indigo-400 mb-4 flex items-center gap-2",children:[m.jsx(jE,{size:20}),"Generador de contenido con IA"]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-xl p-8 text-center bg-gray-900/50 hover:border-indigo-500 transition-colors cursor-pointer group",children:[m.jsx("div",{className:"mb-2 group-hover:scale-110 transition-transform duration-300",children:""}),m.jsx("p",{className:"text-gray-400 text-sm group-hover:text-white",children:"Subir notas del tutor (Imagen)"})]}),m.jsx("textarea",{className:"w-full bg-gray-900 border border-gray-700 rounded-lg p-3 text-white focus:ring-2 focus:ring-indigo-500 outline-none",rows:"3",placeholder:"O pega el texto de las notas aqu..."}),m.jsx("button",{className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-3 rounded-lg shadow-lg opacity-50 cursor-not-allowed",children:"Generar y guardar (Prximamente)"})]})]})]}),CC=({onComplete:r})=>{const[e,i]=W.useState([]),[a,o]=W.useState(!0);W.useEffect(()=>{(async()=>{try{const p=["colors","places","greetings","feelings","days","months"];let _=[];for(const S of p){const F=(await Vt(Ot(kt,S))).docs.map(X=>({...X.data(),category:S}));_=[..._,...F]}const E=(await Vt(Ot(kt,"jobs"))).docs.map(S=>{const I=S.data();return{es:I.masc,en:I.eng,category:"jobs"}});_=[..._,...E],i(_.sort(()=>.5-Math.random()))}catch(p){console.error("Error fetching vocab mix:",p)}finally{o(!1)}})()},[]);const u=({v:f})=>{const[p,_]=W.useState(!1);return m.jsx("div",{onClick:()=>_(!p),className:"relative h-24 cursor-pointer perspective-1000 group",children:m.jsxs("div",{className:`w-full h-full relative preserve-3d flip-card-inner ${p?"rotate-y-180":""} transition-transform duration-500`,children:[m.jsx("div",{className:"absolute inset-0 bg-gray-800 p-2 rounded-xl border border-gray-700 flex flex-col items-center justify-center backface-hidden shadow-lg",children:m.jsx("span",{className:"text-white font-bold text-center text-lg",children:f.es})}),m.jsxs("div",{className:"absolute inset-0 bg-pink-900/90 p-2 rounded-xl border border-pink-500 flex flex-col items-center justify-center backface-hidden rotate-y-180 shadow-lg",children:[m.jsx("span",{className:"text-pink-100 font-bold text-center text-lg",children:f.en}),m.jsx("span",{className:"text-[10px] text-pink-300 uppercase tracking-widest mt-1 opacity-75",children:f.category})]})]})})};return a?m.jsx("div",{className:"p-10 text-center text-gray-400",children:"Generando mix de vocabulario..."}):m.jsxs("div",{className:"p-4 max-w-md mx-auto h-[calc(100vh-80px)] flex flex-col",children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("h2",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-pink-400 to-purple-400",children:"Vocabulario Mix"}),m.jsxs("p",{className:"text-gray-400 text-xs",children:["Se encontraron ",e.length," tarjetas."]})]}),m.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-hide pb-20",children:m.jsx("div",{className:"grid grid-cols-2 gap-3",children:e.map((f,p)=>m.jsx(u,{v:f},p))})}),m.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-6 bg-gray-900/95 backdrop-blur border-t border-gray-800 max-w-md mx-auto",children:m.jsx("button",{onClick:r,className:"w-full border border-gray-600 text-gray-400 font-bold py-3 rounded-2xl",children:"Volver al Men"})})]})},Ln=({onComplete:r,questionCount:e,pool:i})=>{const[a,o]=W.useState([]),[u,f]=W.useState(0),[p,_]=W.useState(0),[v,E]=W.useState(!1),[S,I]=W.useState(null),[F,X]=W.useState(null);W.useEffect(()=>{let ue=[...i].sort(()=>.5-Math.random());ue.length>e&&(ue=ue.slice(0,e)),o(ue)},[i,e]);const J=ue=>{if(S)return;I(ue);const ne=a[u],me=ue===ne.a;me&&_(Se=>Se+1);const De=me?"Correcto! "+(ne.exp||""):"Incorrecto. "+(ne.exp||`La respuesta correcta es: ${ne.a}`);X({correct:me,text:De}),setTimeout(()=>Z(),3500)},Z=()=>{I(null),X(null),u<a.length-1?f(ue=>ue+1):E(!0)};if(a.length===0)return m.jsx("div",{children:"Cargando..."});if(v)return m.jsxs("div",{className:"p-6 text-center space-y-4",children:[m.jsx("div",{className:"text-6xl animate-bounce",children:""}),m.jsx("h3",{className:"text-xl font-bold",children:"Prueba Terminada!"}),m.jsxs("p",{className:"text-gray-300",children:["Puntaje: ",p," / ",a.length]}),m.jsx("button",{onClick:r,className:"w-full bg-indigo-600 text-white font-bold py-3 rounded-xl",children:"Volver a Leccin"})]});const he=a[u];return m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between text-xs text-gray-400 font-mono",children:[m.jsxs("span",{children:["P: ",u+1,"/",a.length]}),m.jsxs("span",{children:["Pts: ",p]})]}),m.jsx("div",{className:"bg-gray-800 p-4 rounded-xl border border-gray-700 min-h-[100px] flex items-center justify-center text-center",children:m.jsx("p",{className:"text-lg font-medium",children:he.q})}),he.type==="mc"&&m.jsx("div",{className:"grid gap-2",children:he.opts.map(ue=>{let ne="bg-gray-800 hover:bg-gray-700";return S&&(ue===he.a?ne="bg-green-600 border-green-400":ue===S?ne="bg-red-600 border-red-400":ne="opacity-40"),m.jsx("button",{onClick:()=>J(ue),className:`${ne} p-3 rounded-lg font-bold transition-all border border-gray-700 text-sm capitalize`,children:ue},ue)})}),F&&m.jsx("div",{className:`p-4 rounded-xl text-center text-sm font-bold animate-fade-in border ${F.correct?"text-green-200 bg-green-900/40 border-green-500":"text-red-200 bg-red-900/40 border-red-500"}`,children:F.text})]})},s_=r=>r?r.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim():"",Zs=(r,e,i=2,a="en")=>{if(!e||e.length===0)return["Option A","Option B"];let o=[];r.category?o=e.filter(p=>p.category===r.category):o=e,o.length<=1&&(o=e);const u=s_(r[a]);return o.filter(p=>s_(p[a])!==u).sort(()=>.5-Math.random()).slice(0,i).map(p=>p[a])},RC=({onComplete:r})=>{const[e,i]=W.useState([]),[a,o]=W.useState(!0);return W.useEffect(()=>{(async()=>{try{const f=["colors","places","greetings","feelings","days","months"];let p=[];for(const S of f){const I=await Vt(Ot(kt,S));p.push(...I.docs.map(F=>({...F.data(),category:S})))}const _=await Vt(Ot(kt,"jobs"));p.push(..._.docs.map(S=>({es:S.data().masc,en:S.data().eng,category:"jobs"})));let v=[];p.sort(()=>.5-Math.random()),v=p.slice(0,25).map(S=>{const I=Zs(S,p);return{type:"mc",q:`Qu significa "${S.es}"?`,a:S.en,opts:[S.en,...I].sort(()=>.5-Math.random()),exp:`${S.es} = ${S.en}`}}),i(v)}catch(f){console.error("Error generating quiz:",f)}finally{o(!1)}})()},[]),a?m.jsx("div",{className:"p-10 text-center text-gray-400",children:"Generando examen final..."}):e.length===0?m.jsx("div",{className:"p-10 text-center text-red-400",children:"No hay suficientes datos para el examen."}):m.jsxs("div",{className:"p-6 max-w-md mx-auto pb-24",children:[m.jsx("h2",{className:"text-xl font-bold mb-4 text-yellow-500",children:"Examen Final (25 Preguntas)"}),m.jsx(Ln,{pool:e,questionCount:25,onComplete:r})]})};const IC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),r_=r=>{const e=jC(r);return e.charAt(0).toUpperCase()+e.slice(1)},N1=(...r)=>r.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),DC=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var MC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const OC=W.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:u,iconNode:f,...p},_)=>W.createElement("svg",{ref:_,...MC,width:e,height:e,stroke:r,strokeWidth:a?Number(i)*24/Number(e):i,className:N1("lucide",o),...!u&&!DC(p)&&{"aria-hidden":"true"},...p},[...f.map(([v,E])=>W.createElement(v,E)),...Array.isArray(u)?u:[u]]));const Br=(r,e)=>{const i=W.forwardRef(({className:a,...o},u)=>W.createElement(OC,{ref:u,iconNode:e,className:N1(`lucide-${IC(r_(r))}`,`lucide-${r}`,a),...o}));return i.displayName=r_(r),i};const VC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],C1=Br("circle-alert",VC);const kC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],LC=Br("circle-question-mark",kC);const UC=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],R1=Br("external-link",UC);const zC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Jm=Br("loader-circle",zC);const PC=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],I1=Br("play",PC);const qC=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],$u=Br("volume-2",qC);const BC=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],HC=Br("youtube",BC),FC=()=>{const[r,e]=W.useState([]),[i,a]=W.useState([]),[o,u]=W.useState(!0),[f,p]=W.useState(!1),_=W.useRef(null),[v,E]=W.useState(!1),[S,I]=W.useState([]);W.useEffect(()=>{(async()=>{try{const me=Um(Ot(kt,"alphabet")),Se=(await Vt(me)).docs.map(w=>w.data());Se.sort((w,O)=>w.letter.localeCompare(O.letter,"es",{sensitivity:"base"}));const R=Se.filter(w=>w.category==="letter"),A=Se.filter(w=>w.category==="sound");e(R),a(A)}catch(me){console.error("Error fetching alphabet:",me)}finally{u(!1)}})()},[]);const F=ne=>{window.speechSynthesis.cancel();let me;ne==="B"?me=new SpeechSynthesisUtterance("be"):ne==="V"?me=new SpeechSynthesisUtterance("ve"):ne==="LL"?me=new SpeechSynthesisUtterance("ye"):ne==="RR"?me=new SpeechSynthesisUtterance("erre"):me=new SpeechSynthesisUtterance(ne.toLowerCase()),me.lang="es-MX",me.rate=.8,window.speechSynthesis.speak(me)},X=()=>{const ne={B:["V"],V:["B"],C:["S","Z","K","Q"],S:["Z","C","X"],Z:["S","C"],G:["J"],J:["G","X"],LL:["Y"],Y:["LL","I"],I:["Y"],M:["N",""],N:["M",""],:["M","N"],K:["Q","C"],Q:["K","C"],X:["J","S"]},De=[...r].sort(()=>.5-Math.random()).slice(0,15).map(Se=>{const R=Se.letter,A=[R];if(ne[R]){const w=ne[R].filter(O=>!A.includes(O));w.length>0&&A.push(w[Math.floor(Math.random()*w.length)])}for(;A.length<4;){const w=r[Math.floor(Math.random()*r.length)].letter;A.includes(w)||A.push(w)}return{q:m.jsxs("button",{onClick:()=>F(R),className:"w-full h-full flex items-center justify-center gap-2 text-indigo-400 text-lg font-bold",children:[m.jsx($u,{size:24})," Escuchar Sonido"]}),a:R,opts:A.sort(()=>.5-Math.random()),type:"mc"}});I(De),E(!0)},J="1wJIkTuckEI",Z=`https://www.youtube.com/watch?v=${J}`;if(o)return m.jsx("div",{className:"w-full flex items-center justify-center p-8",children:m.jsx(Jm,{className:"animate-spin text-indigo-400 w-8 h-8"})});if(v)return m.jsxs("div",{className:"w-full bg-[#111827] text-gray-100 space-y-8 animate-fade-in p-4",children:[m.jsx("h2",{className:"text-xl font-black text-white tracking-tight",children:"Prueba de Alfabeto"}),m.jsx(Ln,{onComplete:()=>E(!1),questionCount:15,pool:S})]});const he=()=>{_.current?.scrollIntoView({behavior:"smooth",block:"center"})},ue=(ne,me=!1)=>{const De=me?"teal":"purple";return m.jsxs("button",{onClick:()=>F(ne.letter),className:`group flex justify-between items-center p-4 rounded-xl border border-gray-700/50 hover:bg-white/5 hover:border-${De}-500/50 transition-all active:scale-95 text-left`,children:[m.jsx("div",{className:"flex items-center gap-4",children:m.jsx("span",{className:`text-2xl font-black text-${De}-400 group-hover:text-${De}-300 w-16 text-center`,children:ne.display})}),m.jsxs("div",{className:"flex items-center gap-3 text-right flex-1 justify-end",children:[m.jsxs("div",{className:"flex-grow text-right",children:[m.jsx("span",{className:"block text-white font-bold text-lg",children:ne.sound}),m.jsx("span",{className:"text-xs text-gray-500 italic group-hover:text-gray-400",children:ne.notes})]}),m.jsx($u,{className:`w-5 h-5 text-gray-600 group-hover:text-${De}-400 opacity-0 group-hover:opacity-100 transition-opacity`})]})]},ne.letter)};return m.jsxs("div",{className:"w-full bg-[#111827] text-gray-100 space-y-8 animate-fade-in",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("h2",{className:"text-2xl font-black text-white tracking-tight",children:"Alfabeto Espaol"}),m.jsx("p",{className:"text-gray-400 text-xs font-medium",children:"Letras, sonidos y pronunciacin"})]}),m.jsxs("div",{className:"p-4 rounded-xl border border-indigo-500/30 bg-indigo-500/10",children:[m.jsx("h3",{className:"font-bold text-sm text-indigo-300 mb-2 flex items-center gap-2",children:"Claves de Pronunciacin"}),m.jsxs("ul",{className:"text-xs text-gray-300 space-y-2 list-disc list-inside opacity-90",children:[m.jsxs("li",{children:[m.jsx("b",{className:"text-white",children:"H"})," es siempre silenciosa."]}),m.jsxs("li",{children:[m.jsx("b",{className:"text-white",children:"LL"})," y ",m.jsx("b",{className:"text-white",children:"Y"})," suenan como 'Y' en 'yes'."]}),m.jsxs("li",{children:[m.jsx("b",{className:"text-white",children:"RR"})," es una vibracin fuerte (trilled R)."]}),m.jsxs("li",{children:[m.jsx("b",{className:"text-white",children:"C"})," y ",m.jsx("b",{className:"text-white",children:"G"})," cambian su sonido dependiendo de la vocal que sigue."]})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[m.jsxs("button",{onClick:he,className:"w-full flex items-center justify-center gap-3 py-3 rounded-xl bg-indigo-600 hover:bg-indigo-500 active:bg-indigo-700 transition-all text-white font-bold shadow-lg shadow-indigo-600/20",children:[m.jsx(HC,{size:18}),"Ver video"]}),m.jsxs("button",{onClick:X,className:"w-full flex items-center justify-center gap-3 py-3 rounded-xl bg-purple-600 hover:bg-purple-500 active:bg-purple-700 transition-all text-white font-bold shadow-lg shadow-purple-600/20",children:[m.jsx(LC,{size:18}),"Empezar Prueba"]})]}),m.jsx("div",{className:"grid grid-cols-1 gap-2",children:r.map(ne=>ue(ne,!1))}),i.length>0&&m.jsxs("div",{className:"pt-4",children:[m.jsx("h3",{className:"text-base font-bold text-gray-400 tracking-wide uppercase pb-3",children:"Sonidos nicos"}),m.jsx("div",{className:"grid grid-cols-1 gap-2",children:i.map(ne=>ue(ne,!0))})]}),m.jsxs("div",{ref:_,className:"space-y-3 pt-8",children:[m.jsx("h3",{className:"text-base font-bold text-gray-400 tracking-wide uppercase pb-3",children:"Video de Prctica"}),!f&&m.jsx("div",{className:"relative w-full aspect-video rounded-xl overflow-hidden border border-gray-800 bg-black shadow-lg",children:m.jsx("iframe",{width:"100%",height:"100%",src:`https://www.youtube.com/embed/${J}`,title:"Cancin del Alfabeto",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"absolute inset-0",onError:()=>p(!0)})}),m.jsxs("a",{href:Z,target:"_blank",rel:"noopener noreferrer",className:`flex items-center justify-center gap-3 w-full py-4 rounded-xl border ${f?"border-pink-500/30 bg-pink-500/10":"border-gray-700/50 hover:bg-white/5"} transition-all group`,children:[f?m.jsx(C1,{size:18,className:"text-pink-500"}):m.jsx(I1,{size:18,className:"text-gray-400 group-hover:text-white"}),m.jsx("span",{className:`text-sm font-medium ${f?"text-pink-200":"text-gray-400 group-hover:text-white"}`,children:f?"Video no disponible - Ver en YouTube":"Abrir en YouTube App"}),m.jsx(R1,{size:14,className:`${f?"text-pink-500":"text-gray-600 group-hover:text-white"}`})]})]})]})},GC=()=>{const[r,e]=W.useState([]),[i,a]=W.useState(!0),[o,u]=W.useState(!1);W.useEffect(()=>{(async()=>{try{const E=Um(Ot(kt,"lesson_vocales"),Yb("order")),I=(await Vt(E)).docs.map(F=>F.data());I.length>0?e(I):console.log("No vowels found in Firestore. Please seed data via Admin.")}catch(E){console.error("Error fetching vowels:",E)}finally{a(!1)}})()},[]);const f=v=>{window.speechSynthesis.cancel();const E=new SpeechSynthesisUtterance(v);E.lang="es-MX",E.rate=.8,window.speechSynthesis.speak(E)},p="PXFMC-g0Jt8",_=`https://www.youtube.com/watch?v=${p}`;return i?m.jsx("div",{className:"min-h-screen w-full bg-[#111827] flex items-center justify-center",children:m.jsx(Jm,{className:"animate-spin text-pink-500 w-8 h-8"})}):m.jsxs("div",{className:"w-full bg-[#111827] text-gray-100 space-y-8 animate-fade-in",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("h2",{className:"text-2xl font-black text-white tracking-tight",children:"Las vocales"}),m.jsx("p",{className:"text-gray-400 text-xs font-medium",children:"Escucha y repite los sonidos"})]}),r.length===0?m.jsx("div",{className:"p-4 border border-yellow-500/30 bg-yellow-500/10 rounded-xl text-yellow-200 text-sm text-center",children:' No hay datos. Ve al Panel de Control y pulsa "Subir Vocales".'}):m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"grid grid-cols-5 gap-3",children:r.map(v=>m.jsxs("button",{onClick:()=>f(v.letter.toLowerCase()),className:"group flex flex-col items-center justify-center py-4 rounded-xl border border-gray-700/50 hover:border-pink-500/50 hover:bg-white/5 transition-all active:scale-95",children:[m.jsx("span",{className:"text-xl font-black text-white mb-1 group-hover:text-pink-400 transition-colors",children:v.letter}),m.jsx($u,{className:"w-3 h-3 text-gray-600 group-hover:text-pink-400"})]},v.letter))}),m.jsxs("div",{className:"space-y-3",children:[!o&&m.jsx("div",{className:"relative w-full aspect-video rounded-xl overflow-hidden border border-gray-800 bg-black shadow-lg",children:m.jsx("iframe",{width:"100%",height:"100%",src:`https://www.youtube.com/embed/${p}`,title:"Cancin de las Vocales",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"absolute inset-0",onError:()=>u(!0)})}),m.jsxs("a",{href:_,target:"_blank",rel:"noopener noreferrer",className:`flex items-center justify-center gap-3 w-full py-4 rounded-xl border ${o?"border-pink-500/30 bg-pink-500/10":"border-gray-700/50 hover:bg-white/5"} transition-all group`,children:[o?m.jsx(C1,{size:18,className:"text-pink-500"}):m.jsx(I1,{size:18,className:"text-gray-400 group-hover:text-white"}),m.jsx("span",{className:`text-sm font-medium ${o?"text-pink-200":"text-gray-400 group-hover:text-white"}`,children:o?"Video no disponible - Ver en YouTube":"Abrir en YouTube App"}),m.jsx(R1,{size:14,className:`${o?"text-pink-500":"text-gray-600 group-hover:text-white"} mr-2`})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-500 ml-1",children:"Rimas de Prctica"}),m.jsx("div",{className:"space-y-3",children:r.map((v,E)=>m.jsxs("div",{onClick:()=>f(v.rhyme),className:"flex items-center justify-between p-4 rounded-xl border border-gray-700/50 hover:bg-white/5 transition-colors cursor-pointer group",children:[m.jsx("div",{className:"w-10 shrink-0 flex items-center",children:m.jsx("span",{className:"text-xl font-black text-purple-400 group-hover:text-pink-400 transition-colors",children:v.letter})}),m.jsx("div",{className:"flex-1 text-right",children:m.jsx("p",{className:"text-sm font-medium text-gray-300 leading-relaxed group-hover:text-white transition-colors",children:v.rhyme})})]},E))})]})]})]})},QC=()=>{const[r,e]=W.useState([]),[i,a]=W.useState(!0);W.useEffect(()=>{(async()=>{try{const f=Ot(kt,"numbers"),p=Um(f,Yb("order")),v=(await Vt(p)).docs.map(E=>E.data());e(v)}catch(f){console.error("Error fetching numbers:",f)}finally{a(!1)}})()},[]);const o=u=>{window.speechSynthesis.cancel();const f=new SpeechSynthesisUtterance(u);f.lang="es-MX",f.rate=.9,window.speechSynthesis.speak(f)};return i?m.jsx("div",{className:"flex h-screen items-center justify-center",children:m.jsx(Jm,{className:"h-8 w-8 animate-spin text-pink-500"})}):m.jsxs("div",{className:"w-full text-gray-100 space-y-8 animate-fade-in",children:[m.jsx("div",{className:"space-y-1",children:m.jsx("h2",{className:"text-2xl font-black text-white tracking-tight",children:"Los nmeros"})}),m.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-3",children:r.map(u=>m.jsxs("button",{onClick:()=>o(u.span),className:"group flex flex-col items-center justify-center text-center p-3 rounded-xl border border-gray-700/50 hover:bg-white/5 hover:border-indigo-500/50 transition-all active:scale-95 aspect-square",children:[m.jsx("span",{className:"text-4xl font-extrabold text-indigo-400 group-hover:text-indigo-300",children:u.label}),m.jsx("span",{className:"mt-1 text-sm font-semibold text-white",children:u.span}),m.jsx($u,{className:"w-4 h-4 text-gray-600 group-hover:text-indigo-400 opacity-0 group-hover:opacity-100 transition-opacity mt-2"})]},u.order))}),m.jsx("div",{className:"py-4"}),m.jsxs("div",{className:"p-4 rounded-xl border border-indigo-500/30 bg-indigo-500/10 space-y-6",children:[m.jsx("h3",{className:"font-bold text-lg text-indigo-300 mb-2 flex items-center gap-2",children:" Spanish Numbers Cheat Sheet"}),m.jsxs("div",{className:"space-y-4 text-sm",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-white",children:'1. The "Memorize" Zone (015)'}),m.jsxs("ul",{className:"text-xs text-gray-300 space-y-1 list-disc list-inside opacity-80 mt-1",children:[m.jsxs("li",{children:[m.jsx("b",{className:"text-white",children:"010:"})," Rote memorization (Uno, dos, tres...)."]}),m.jsxs("li",{children:[m.jsx("b",{className:"text-white",children:"1115:"})," All end in ",m.jsx("code",{className:"text-pink-300 bg-black/30 px-1 rounded",children:"-ce"})," (Once, doce, trece, catorce, quince)."]})]})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-white",children:"2. The One-Word Rule (1629)"}),m.jsxs("ul",{className:"text-xs text-gray-300 space-y-1 list-disc list-inside opacity-80 mt-1",children:[m.jsxs("li",{children:[m.jsx("b",{className:"text-white",children:"1619:"})," Starts with ",m.jsx("code",{className:"text-pink-300 bg-black/30 px-1 rounded",children:"Dieci..."})," (Diecisis)."]}),m.jsxs("li",{children:[m.jsx("b",{className:"text-white",children:"2029:"})," Starts with ",m.jsx("code",{className:"text-pink-300 bg-black/30 px-1 rounded",children:"Veinti..."})," (Veintiuno)."]}),m.jsx("li",{children:"Note: Watch for accents on 16, 22, 23, 26."})]})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-white",children:"3. The Three-Word Rule (3099)"}),m.jsxs("ul",{className:"text-xs text-gray-300 space-y-1 list-disc list-inside opacity-80 mt-1",children:[m.jsxs("li",{children:["From 30 on, separate the words with ",m.jsx("code",{className:"text-pink-300 bg-black/30 px-1 rounded",children:"y"})," (and)."]}),m.jsxs("li",{children:["Pattern: [Ten] ",m.jsx("b",{className:"text-white",children:"y"})," [One] (Example: 34 = ",m.jsx("i",{className:"text-gray-300",children:"Treinta y cuatro"}),")."]}),m.jsxs("li",{children:["The Tens: End in ",m.jsx("code",{className:"text-pink-300 bg-black/30 px-1 rounded",children:"-enta"})," (Cuarenta, Cincuenta)."]})]})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-white",children:"4. The Hundreds (Gender & Irregulars)"}),m.jsxs("ul",{className:"text-xs text-gray-300 space-y-1 list-disc list-inside opacity-80 mt-1",children:[m.jsxs("li",{children:["Hundreds change gender based on the noun (",m.jsx("b",{className:"text-white",children:"-os"})," for masc, ",m.jsx("b",{className:"text-white",children:"-as"})," for fem)."]}),m.jsxs("li",{children:["Example: ",m.jsxs("i",{className:"text-gray-300",children:["Doscient",m.jsx("b",{className:"text-white",children:"as"})," casas"]}),"."]}),m.jsx("li",{className:"pt-2 font-bold text-white",children:"The 3 Irregulars (Memorize these!):"})]}),m.jsx("div",{className:"mt-2 overflow-x-auto",children:m.jsxs("table",{className:"min-w-full text-xs text-left",children:[m.jsx("thead",{className:"border-b border-gray-700",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-2",children:"Number"}),m.jsx("th",{className:"p-2",children:"Spanish"}),m.jsx("th",{className:"p-2",children:"The Trick"})]})}),m.jsxs("tbody",{className:"divide-y divide-gray-800",children:[m.jsxs("tr",{children:[m.jsx("td",{className:"p-2",children:"500"}),m.jsx("td",{className:"p-2 text-fuchsia-300",children:"Quinientos"}),m.jsx("td",{className:"p-2",children:"Starts with Q"})]}),m.jsxs("tr",{children:[m.jsx("td",{className:"p-2",children:"700"}),m.jsx("td",{className:"p-2 text-fuchsia-300",children:"Setecientos"}),m.jsx("td",{className:"p-2",children:"No 'i' (Not siete)"})]}),m.jsxs("tr",{children:[m.jsx("td",{className:"p-2",children:"900"}),m.jsx("td",{className:"p-2 text-fuchsia-300",children:"Novecientos"}),m.jsx("td",{className:"p-2",children:"No 'ue' (Not nueve)"})]})]})]})})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-white",children:'5. Three "Gotcha" Rules'}),m.jsxs("ul",{className:"text-xs text-gray-300 space-y-1 list-disc list-inside opacity-80 mt-1",children:[m.jsxs("li",{children:[m.jsx("b",{className:"text-white",children:"Uno becomes Un:"})," Before a masculine noun. (Tengo ",m.jsx("i",{className:"text-gray-300",children:"un"})," gato)."]}),m.jsxs("li",{children:[m.jsx("b",{className:"text-white",children:"100 vs 100+:"})," Exactly 100 is ",m.jsx("b",{className:"text-white",children:"Cien"}),". 101+ becomes ",m.jsx("b",{className:"text-white",children:"Ciento..."})," (Ciento dos)."]}),m.jsxs("li",{children:[m.jsx("b",{className:"text-white",children:"The Billion Trap:"})," 1,000,000,000 is ",m.jsx("b",{className:"text-white",children:"Mil millones"}),". (In Spanish, ",m.jsx("i",{className:"text-gray-300",children:"Un Billn"})," is a Trillion)."]})]})]})]})]})]})},YC=()=>{const[r,e]=W.useState("learn"),[i,a]=W.useState([]),[o,u]=W.useState(!0);W.useEffect(()=>{(async()=>{try{const S=(await Vt(Ot(kt,"colors"))).docs.map(I=>I.data()).sort(()=>.5-Math.random());a(S)}catch(v){console.error("Error fetching colors:",v)}finally{u(!1)}})()},[]);const f=W.useMemo(()=>i.length===0?[]:i.map(_=>({type:"mc",q:`Qu color es ${_.emoji}?`,a:_.es,opts:[_.es,...Zs(_,i,2,"es")].sort(()=>.5-Math.random()),exp:`${_.emoji} es ${_.es} (${_.en})`})),[i]),p=({c:_})=>{const[v,E]=W.useState(!1);return m.jsx("div",{className:"relative h-24 cursor-pointer perspective-1000 group",onClick:()=>E(!v),children:m.jsxs("div",{className:`w-full h-full relative preserve-3d flip-card-inner ${v?"rotate-y-180":""}`,children:[m.jsxs("div",{style:{backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden"},className:`absolute inset-0 ${_.hex} rounded-2xl flex flex-col items-center justify-center shadow-lg ${v?"z-0":"z-10"}`,children:[m.jsx("div",{className:"absolute inset-0 bg-black/10 group-hover:bg-transparent transition-all rounded-2xl"}),m.jsx("span",{className:"relative font-black text-xl text-white drop-shadow-md z-10",children:_.es})]}),m.jsx("div",{style:{backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden"},className:`absolute inset-0 bg-gray-800 rounded-2xl border border-gray-600 flex flex-col items-center justify-center rotate-y-180 ${v?"z-10":"z-0"}`,children:m.jsx("span",{className:"font-bold text-lg text-white",children:_.en})})]})})};return o?m.jsx("div",{className:"p-10 text-center text-gray-400",children:"Cargando colores..."}):r==="quiz"?m.jsx("div",{className:"p-6 max-w-md mx-auto pb-24",children:m.jsx(Ln,{pool:f,questionCount:10,onComplete:()=>e("learn")})}):m.jsxs("div",{className:"p-6 max-w-4xl mx-auto pb-24",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4 text-white",children:"Colores"}),m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 mb-6",children:i.map((_,v)=>m.jsx(p,{c:_},v))}),m.jsx("button",{onClick:()=>e("quiz"),className:"w-full bg-gray-700 hover:bg-gray-600 text-white font-bold py-4 rounded-2xl shadow-lg mb-4",children:"Prueba de Colores"})]})},KC={Sun:d_,Cloud:IE,CloudRain:RE,Wind:PE,Thermometer:zE,Zap:qE,Snowflake:()=>m.jsx("span",{children:""})},XC=()=>{const[r,e]=W.useState("learn"),[i,a]=W.useState([]),[o,u]=W.useState(!0);W.useEffect(()=>{(async()=>{try{const S=(await Vt(Ot(kt,"weather"))).docs.map(I=>I.data());a(S.sort(()=>.5-Math.random()))}catch(E){console.error("Error fetching weather:",E)}finally{u(!1)}})()},[]);const f=v=>{const E=KC[v]||VE;return m.jsx(E,{size:32})},p=W.useMemo(()=>i.length===0?[]:i.map(v=>({type:"mc",q:`En ingls, "${v.name}" significa...`,a:v.desc,opts:[v.desc,...Zs(v,i,2,"desc")].sort(()=>.5-Math.random()),exp:`${v.name} = ${v.desc}`})),[i]),_=({item:v})=>{const[E,S]=W.useState(!1);return m.jsx("div",{className:"relative h-28 cursor-pointer perspective-1000 group",onClick:()=>S(!E),children:m.jsxs("div",{className:`w-full h-full relative preserve-3d flip-card-inner ${E?"rotate-y-180":""}`,children:[m.jsxs("div",{className:"absolute inset-0 bg-gray-800 rounded-2xl border border-gray-700 flex flex-col items-center justify-center backface-hidden",children:[m.jsx("div",{className:"text-yellow-400 mb-2",children:f(v.icon)}),m.jsx("span",{className:"font-bold text-sm mt-2 text-center px-1",children:v.name})]}),m.jsx("div",{className:"absolute inset-0 bg-orange-900/40 rounded-2xl border border-orange-500 flex flex-col items-center justify-center backface-hidden rotate-y-180",children:m.jsx("span",{className:"font-bold text-sm text-orange-200 text-center px-1",children:v.desc})})]})})};return o?m.jsx("div",{className:"p-10 text-center text-gray-400",children:"Cargando clima..."}):r==="quiz"?m.jsx("div",{className:"p-6 max-w-md mx-auto pb-24",children:m.jsx(Ln,{pool:p,questionCount:10,onComplete:()=>e("learn")})}):m.jsxs("div",{className:"p-6 max-w-4xl mx-auto pb-24",children:[m.jsxs("div",{className:"mb-6 bg-gray-800 p-4 rounded-xl border-l-4 border-indigo-500",children:[m.jsx("h3",{className:"font-bold text-white mb-2",children:"Gramtica:"}),m.jsxs("p",{className:"text-gray-400 text-sm",children:[m.jsx("b",{children:"Est"}),": Condicin visual (nublado, soleado)."]}),m.jsxs("p",{className:"text-gray-400 text-sm",children:[m.jsx("b",{children:"Hace"}),": Sensacin/Temperatura (calor, fro, viento)."]}),m.jsxs("p",{className:"text-gray-400 text-sm",children:[m.jsx("b",{children:"Hay"}),": Existencia (niebla, tormenta)."]})]}),m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 mb-6",children:i.map((v,E)=>m.jsx(_,{item:v},E))}),m.jsx("button",{onClick:()=>e("quiz"),className:"w-full bg-orange-600 hover:bg-orange-500 text-white font-bold py-4 rounded-2xl shadow-lg mb-4",children:"Tomar Prueba"})]})},$C=()=>{const[r,e]=W.useState("learn"),[i,a]=W.useState([]),[o,u]=W.useState([]),[f,p]=W.useState(!0);W.useEffect(()=>{(async()=>{try{const Z=(await Vt(Ot(kt,"days"))).docs.map(ne=>ne.data());Z.sort((ne,me)=>ne.order-me.order),a(Z);const ue=(await Vt(Ot(kt,"months"))).docs.map(ne=>ne.data());ue.sort((ne,me)=>ne.order-me.order),u(ue)}catch(J){console.error("Error fetching calendar:",J)}finally{p(!1)}})()},[]);const _=X=>{window.speechSynthesis.cancel();const J=new SpeechSynthesisUtterance(X);J.lang="es-MX",J.rate=.9,window.speechSynthesis.speak(J)},v=()=>{if(i.length===0&&o.length===0)return;const X=[...i,...o],J=X[Math.floor(Math.random()*X.length)];_(J.es)},E=()=>{const X=[...i].sort(()=>.5-Math.random()),J=[...o].sort(()=>.5-Math.random());a(X),u(J)},S=W.useMemo(()=>{if(i.length===0||o.length===0)return[];const X=i.map(Z=>({type:"mc",q:`Qu da es "${Z.es}"?`,a:Z.en,opts:[Z.en,...Zs(Z,i)].sort(()=>.5-Math.random()),exp:`${Z.es} is ${Z.en}`})),J=o.map(Z=>({type:"mc",q:`Qu mes es "${Z.es}"?`,a:Z.en,opts:[Z.en,...Zs(Z,o)].sort(()=>.5-Math.random()),exp:`${Z.es} is ${Z.en}`}));return[...X,...J].sort(()=>.5-Math.random())},[i,o]),I=({front:X,back:J,colorBorder:Z})=>{const[he,ue]=W.useState(!1);return m.jsx("div",{className:"relative h-14 cursor-pointer perspective-1000 group",onClick:()=>ue(!he),children:m.jsxs("div",{className:`w-full h-full relative preserve-3d flip-card-inner ${he?"rotate-y-180":""}`,children:[m.jsx("div",{style:{backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden"},className:`absolute inset-0 bg-gray-800 p-3 rounded-lg border-l-4 ${Z} flex items-center justify-center backface-hidden shadow-lg`,children:m.jsx("span",{className:"text-white font-bold",children:X})}),m.jsx("div",{style:{backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden"},className:`absolute inset-0 bg-gray-700 p-3 rounded-lg border-l-4 ${Z} flex items-center justify-center backface-hidden rotate-y-180 shadow-lg`,children:m.jsx("span",{className:"text-gray-200",children:J})})]})})},F=W.useMemo(()=>{const X=new Date,J={weekday:"long",year:"numeric",month:"long",day:"numeric"};return X.toLocaleDateString("es-ES",J)},[]);return f?m.jsx("div",{className:"p-10 text-center text-gray-400",children:"Cargando calendario..."}):r==="quiz"?m.jsx("div",{className:"px-2 py-6 sm:px-6 max-w-4xl mx-auto pb-24",children:m.jsx(Ln,{pool:S,questionCount:10,onComplete:()=>e("learn")})}):m.jsxs("div",{className:"px-2 py-6 sm:px-6 max-w-4xl mx-auto pb-24 space-y-6",children:[m.jsxs("div",{className:"bg-gray-800 border border-green-500/30 p-3 rounded-xl text-center shadow-lg",children:[m.jsx("div",{className:"text-xs text-green-400 font-bold uppercase tracking-wider mb-1",children:"Fecha de hoy"}),m.jsx("div",{className:"text-xl font-bold text-white capitalize",children:F})]}),m.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[m.jsxs("button",{onClick:E,className:"bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg text-sm border border-gray-600 flex items-center justify-center gap-2",children:[m.jsx("span",{children:""}),m.jsx("span",{className:"hidden sm:inline",children:"Mezclar"})]}),m.jsxs("button",{onClick:v,className:"bg-purple-600 hover:bg-purple-500 text-white font-bold py-2 px-4 rounded-lg text-sm flex items-center justify-center gap-2",children:[m.jsx("span",{children:""}),m.jsx("span",{className:"hidden sm:inline",children:"Hablar"})]}),m.jsxs("button",{onClick:()=>e("quiz"),className:"bg-green-600 hover:bg-green-500 text-white font-bold py-2 px-4 rounded-lg text-sm shadow-lg flex items-center justify-center gap-2",children:[m.jsx("span",{children:""}),m.jsx("span",{className:"hidden sm:inline",children:"Prueba"})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-green-400 mb-3 uppercase tracking-wider",children:"Das de la Semana"}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:i.map((X,J)=>m.jsx(I,{front:X.es,back:X.en,colorBorder:"border-green-500"},J))})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-blue-400 mb-3 uppercase tracking-wider",children:"Meses del Ao"}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",children:o.map((X,J)=>m.jsx(I,{front:X.es,back:X.en,colorBorder:"border-blue-500"},J))})]})]})},JC=({lessonId:r})=>{switch(r){case"alphabet":return m.jsx(FC,{});case"vocales":return m.jsx(GC,{});case"numbers":return m.jsx(QC,{});case"colors":return m.jsx(YC,{});case"weather":return m.jsx(XC,{});case"calendar":return m.jsx($C,{});default:return m.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center p-6 border border-gray-800 rounded-xl bg-gray-900/50",children:[m.jsx("p",{className:"text-gray-400 mb-2",children:"Leccin no encontrada"}),m.jsxs("code",{className:"bg-black px-2 py-1 rounded text-pink-400 text-xs font-mono",children:["ID: ",r]})]})}},ZC=()=>{const[r,e]=W.useState("learn"),[i,a]=W.useState([]),[o,u]=W.useState([]),[f,p]=W.useState(!0);W.useEffect(()=>{(async()=>{try{const I=(await Vt(Ot(kt,"greetings"))).docs.map(J=>J.data());a(I.sort(()=>.5-Math.random()));const X=(await Vt(Ot(kt,"feelings"))).docs.map(J=>J.data());u(X.sort(()=>.5-Math.random()))}catch(S){console.error("Error fetching data:",S)}finally{p(!1)}})()},[]);const _=({item:E})=>{const[S,I]=W.useState(!1);return m.jsx("div",{className:"relative h-24 cursor-pointer perspective-1000 group",onClick:()=>I(!S),children:m.jsxs("div",{className:`w-full h-full relative preserve-3d flip-card-inner ${S?"rotate-y-180":""}`,children:[m.jsxs("div",{className:"absolute inset-0 bg-gray-800 rounded-xl border border-gray-700 flex flex-col items-center justify-center backface-hidden",children:[m.jsx("div",{className:"text-3xl mb-1",children:E.emoji}),m.jsx("span",{className:"font-bold text-sm text-center px-1",children:E.es})]}),m.jsx("div",{className:"absolute inset-0 bg-yellow-900/40 rounded-xl border border-yellow-500 flex flex-col items-center justify-center backface-hidden rotate-y-180",children:m.jsx("span",{className:"font-bold text-sm text-yellow-200 text-center px-1",children:E.en})})]})})},v=W.useMemo(()=>{if(o.length===0||i.length===0)return[];const E=[{type:"mc",q:"Por la maana decimos...",a:"Buenos das",opts:["Buenas noches","Hola","Buenos das"].sort(()=>.5-Math.random()),exp:"'Buenos das' se usa en la maana."}];return o.slice(0,6).forEach(S=>{const I=S.en.startsWith("I am")?`En espaol: "${S.en}" se dice...`:`Qu significa "${S.es}"?`;E.push({type:"mc",q:I,a:S.es,opts:[S.es,...Zs(S.es,o)].sort(()=>.5-Math.random()),exp:`${S.es} significa ${S.en}`})}),E.sort(()=>.5-Math.random())},[o,i]);return f?m.jsx("div",{className:"p-10 text-center text-gray-400",children:"Cargando emociones..."}):r==="quiz"?m.jsx("div",{className:"p-6 max-w-md mx-auto pb-24",children:m.jsx(Ln,{pool:v,questionCount:10,onComplete:()=>e("learn")})}):m.jsxs("div",{className:"p-6 max-w-md mx-auto pb-24 space-y-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-yellow-400 mb-3 uppercase tracking-wider",children:"Saludos"}),m.jsx("div",{className:"grid grid-cols-2 gap-3",children:i.map((E,S)=>m.jsx(_,{item:E},S))})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-yellow-400 mb-3 uppercase tracking-wider",children:"Sentimientos"}),m.jsx("div",{className:"grid grid-cols-2 gap-3",children:o.map((E,S)=>m.jsx(_,{item:E},S))})]}),m.jsx("button",{onClick:()=>e("quiz"),className:"w-full bg-yellow-600 hover:bg-yellow-500 text-white font-bold py-4 rounded-2xl shadow-lg mt-4",children:"Prueba"})]})},WC=()=>{const[r,e]=W.useState("learn"),[i,a]=W.useState("first"),o=[{q:"Cmo te llamas?",a:"Me llamo...",l:"Name"},{q:"Cmo te apellidas?",a:"Me apellido...",l:"Last Name"},{q:"De dnde eres?",a:"Soy de...",l:"Origin"},{q:"Cuntos aos tienes?",a:"Tengo ... aos.",l:"Age"},{q:"A qu te dedicas?",a:"Soy... / Trabajo...",l:"Job"},{q:"Qu idiomas hablas?",a:"Hablo...",l:"Language"},{q:"Dnde vives?",a:"Vivo en...",l:"Home"}],u=[{q:"Cmo se llama?",a:"Se llama...",l:"Name"},{q:"Cmo se apellida?",a:"Se apellida...",l:"Last Name"},{q:"De dnde es?",a:"Es de...",l:"Origin"},{q:"Cuntos aos tiene?",a:"Tiene ... aos.",l:"Age"},{q:"A qu se dedica?",a:"Es... / Trabaja...",l:"Job"},{q:"Qu idiomas habla?",a:"Habla...",l:"Language"},{q:"Dnde vive?",a:"Vive en...",l:"Home"}],f=W.useMemo(()=>[{type:"mc",q:"Pregunta: Cmo te llamas? Respuesta: ___",a:"Me llamo...",opts:["Me llamo...","Tengo...","Soy de..."].sort(()=>.5-Math.random()),exp:"Para responder al nombre usamos 'Me llamo'."},{type:"mc",q:"Pregunta: De dnde eres? Respuesta: ___",a:"Soy de...",opts:["Soy...","Me llamo...","Soy de..."].sort(()=>.5-Math.random()),exp:"Origen requiere 'Soy de'."},{type:"mc",q:"En tercera persona: l ___ alto.",a:"Es",opts:["Soy","Eres","Es"].sort(()=>.5-Math.random()),exp:"'Es' es la conjugacin para l/Ella."},{type:"mc",q:"Pregunta: Cuntos aos tienes? Respuesta: ___",a:"Tengo...",opts:["Soy...","Tengo...","Estoy..."].sort(()=>.5-Math.random()),exp:"En espaol, la edad se 'tiene' (Tener), no se 'es'."}],[]);return r==="quiz"?m.jsx("div",{className:"p-6 max-w-md mx-auto pb-24",children:m.jsx(Ln,{pool:f,questionCount:10,onComplete:()=>e("learn")})}):m.jsxs("div",{className:"p-6 max-w-4xl mx-auto pb-24 space-y-6",children:[m.jsxs("div",{className:"flex gap-2 p-1 bg-gray-800 rounded-xl max-w-sm mx-auto",children:[m.jsx("button",{onClick:()=>a("first"),className:`flex-1 py-2 rounded-lg font-bold text-sm transition-all ${i==="first"?"bg-pink-600 text-white":"text-gray-400 hover:text-white"}`,children:"T (Informal)"}),m.jsx("button",{onClick:()=>a("third"),className:`flex-1 py-2 rounded-lg font-bold text-sm transition-all ${i==="third"?"bg-pink-600 text-white":"text-gray-400 hover:text-white"}`,children:"l/Ella/Usted"})]}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:(i==="first"?o:u).map((p,_)=>m.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl border border-gray-700",children:[m.jsx("div",{className:"flex justify-between items-center mb-2",children:m.jsx("span",{className:"text-xs font-bold bg-gray-700 text-gray-300 px-2 py-1 rounded uppercase tracking-wide",children:p.l})}),m.jsx("p",{className:"text-pink-400 font-bold mb-1 text-lg",children:p.q}),m.jsx("div",{className:"bg-ray-900/50 p-2 rounded text-white border-l-2 border-pink-600",children:p.a})]},_))}),m.jsx("div",{className:"max-w-md mx-auto",children:m.jsx("button",{onClick:()=>e("quiz"),className:"w-full bg-pink-600 hover:bg-pink-500 text-white font-bold py-4 rounded-2xl shadow-lg mt-4",children:"Tomar Prueba"})})]})},eR=()=>{const r=[{topic:"Nombre",tu:"Cmo te llamas?",ud:"Cmo se llama?",ans:"Me llamo... / Soy..."},{topic:"Apellido",tu:"Cmo te apellidas?",ud:"Cmo se apellida?",ans:"Me apellido..."},{topic:"Profesin",tu:"A qu te dedicas?",ud:"A qu se dedica?",ans:"Soy..."},{topic:"Lugar de Trabajo",tu:"Dnde trabajas?",ud:"Dnde trabaja?",ans:"Trabajo en..."},{topic:"Domicilio",tu:"Dnde vives?",ud:"Dnde vive?",ans:"Vivo en..."},{topic:"Lenguas",tu:"Qu idioma hablas?",ud:"Qu idioma habla?",ans:"Hablo..."},{topic:"Nacionalidad",tu:"De dnde eres?",ud:"De dnde es?",ans:"Soy de... / Soy..."},{topic:"Edad",tu:"Cuntos aos tienes?",ud:"Cuntos aos tiene?",ans:"Tengo ___ aos"},{topic:"Correo",tu:"Tienes correo electrnico?",ud:"Tiene correo electrnico?",ans:"S, es el... / No"},{topic:"Telfono",tu:"Tienes nmero de telfono?",ud:"Tiene nmero de telfono?",ans:"S, es el... / No"}],[e,i]=W.useState({}),a=f=>{i(p=>({...p,[f]:!p[f]}))},o=()=>{const f=r.every((_,v)=>e[v]),p={};r.forEach((_,v)=>{p[v]=!f}),i(p)},u=({item:f,flipped:p,onClick:_})=>m.jsx("div",{className:"relative h-32 cursor-pointer perspective-1000 group",onClick:_,children:m.jsxs("div",{className:`w-full h-full relative preserve-3d flip-card-inner ${p?"rotate-y-180":""}`,children:[m.jsx("div",{style:{backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden"},className:"absolute inset-0 bg-gray-800 rounded-2xl flex items-center justify-center shadow-lg border border-gray-700",children:m.jsx("span",{className:"font-bold text-lg text-cyan-400",children:f.topic})}),m.jsxs("div",{style:{backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden"},className:"absolute inset-0 bg-gray-800 rounded-2xl rotate-y-180 shadow-lg border border-cyan-500 p-2 flex flex-col justify-between",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsxs("div",{className:"flex gap-2 text-sm",children:[m.jsx("span",{className:"text-gray-500 w-5 font-bold text-right shrink-0",children:"T:"}),m.jsx("span",{className:"text-white font-medium",children:f.tu})]}),m.jsxs("div",{className:"flex gap-2 text-sm",children:[m.jsx("span",{className:"text-indigo-400 w-5 font-bold text-right shrink-0",children:"Ud:"}),m.jsx("span",{className:"text-indigo-200 font-medium",children:f.ud})]})]}),m.jsxs("div",{className:"flex justify-between items-end pt-1",children:[m.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:f.topic}),m.jsx("span",{className:"text-xs text-cyan-300 bg-cyan-900/50 px-2 py-0.5 rounded border border-cyan-800 text-right",children:f.ans})]})]})]})});return m.jsx("div",{className:"px-1 py-6 sm:px-6 max-w-5xl mx-auto pb-24 space-y-6",children:m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"lg:col-span-2",children:[m.jsxs("div",{className:"flex justify-between items-center border-b border-gray-700 pb-2 mb-4",children:[m.jsx("h3",{className:"font-bold text-cyan-400 text-lg",children:"Entrevista"}),m.jsx("button",{onClick:o,className:"text-sm bg-gray-700 hover:bg-gray-600 px-3 py-1 rounded-md text-gray-300 font-bold transition-colors",children:"Girar todas"})]}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:r.map((f,p)=>m.jsx(u,{item:f,flipped:!!e[p],onClick:()=>a(p)},p))})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-gray-800 border border-indigo-500/30 p-2 rounded-xl",children:[m.jsxs("h3",{className:"font-bold text-indigo-400 mb-3 text-lg flex items-center gap-2",children:[m.jsx(f_,{size:18})," T o Usted?"]}),m.jsxs("div",{className:"space-y-3 text-sm",children:[m.jsxs("div",{className:"bg-gray-900/50 p-3 rounded-lg border-l-4 border-cyan-500",children:[m.jsx("h4",{className:"font-bold text-cyan-400 mb-1",children:"T (Informal)"}),m.jsx("p",{className:"text-gray-300",children:"salo con amigos, familia, gente de tu edad y nios."})]}),m.jsxs("div",{className:"bg-gray-900/50 p-3 rounded-lg border-l-4 border-indigo-400",children:[m.jsx("h4",{className:"font-bold text-indigo-300 mb-1",children:"Usted (Formal)"}),m.jsx("p",{className:"text-gray-300",children:"salo con extraos, personas mayores y figuras de autoridad para mostrar respeto."})]}),m.jsxs("div",{className:"bg-gray-900/50 p-3 rounded-lg border-l-4 border-green-500",children:[m.jsx("h4",{className:"font-bold text-green-400 mb-1",children:"Cambiando a T"}),m.jsxs("p",{className:"text-gray-300",children:["Si alguien dice ",m.jsx("span",{className:"font-mono text-white bg-gray-700 px-1.5 py-0.5 rounded",children:'"puedes tutearme"'}),", puedes cambiar de 'Usted' a 'T'."]})]})]}),m.jsxs("p",{className:"text-xs text-gray-500 mt-4 italic text-center",children:["En caso de duda, usa ",m.jsx("span",{className:"font-bold text-white",children:"Usted"}),"!"]})]}),m.jsxs("div",{className:"bg-gray-800 border border-orange-500/30 p-2 rounded-xl",children:[m.jsxs("h3",{className:"font-bold text-orange-400 mb-3 text-lg flex items-center gap-2",children:[m.jsx(o_,{size:18})," Expresando Pasin"]}),m.jsxs("div",{className:"p-3 bg-gray-900 rounded-lg text-sm text-gray-300",children:[m.jsxs("p",{className:"mb-2",children:["En Mxico, al responder a ",m.jsx("span",{className:"font-bold text-white",children:'"A qu te dedicas?"'}),", es comn usar ",m.jsx("span",{className:"font-bold text-white",children:'"Me dedico a..."'})," para hablar de tu pasin o campo, no solo tu trabajo."]}),m.jsx("p",{children:"Por ejemplo:"}),m.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1 text-orange-300",children:[m.jsx("li",{children:"Me dedico a la educacin."}),m.jsx("li",{children:"Me dedico a la tecnologa."}),m.jsx("li",{children:"Me dedico al campo."})]})]})]}),m.jsxs("div",{className:"bg-gray-800 border border-green-500/30 p-2 rounded-xl",children:[m.jsxs("h3",{className:"font-bold text-green-400 mb-3 text-lg flex items-center gap-2",children:[m.jsx(u_,{size:18})," Detalles de Vivir"]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"p-3 bg-gray-900 rounded-lg",children:[m.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Cerca / Lejos"}),m.jsxs("p",{className:"text-white",children:["Vivo ",m.jsx("span",{className:"text-green-400 font-bold",children:"cerca del"})," parque."]}),m.jsxs("p",{className:"text-white",children:["Vivo ",m.jsx("span",{className:"text-red-400 font-bold",children:"lejos de"})," la oficina."]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[m.jsxs("div",{className:"bg-gray-900 p-2 rounded",children:[m.jsx("span",{className:"block text-gray-500 text-xs",children:"Calle"}),m.jsx("span",{className:"text-white",children:"La calle..."})]}),m.jsxs("div",{className:"bg-gray-900 p-2 rounded",children:[m.jsx("span",{className:"block text-gray-500 text-xs",children:"Barrio"}),m.jsx("span",{className:"text-white",children:"El barrio..."})]})]})]})]}),m.jsxs("div",{className:"bg-gray-800 border border-purple-500/30 p-2 rounded-xl",children:[m.jsx("h3",{className:"font-bold text-purple-400 mb-3 text-lg",children:"Correo Electrnico"}),m.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center mb-3",children:[m.jsxs("div",{className:"bg-gray-900 rounded p-2",children:[m.jsx("div",{className:"text-xl font-mono text-purple-400 mb-1",children:"@"}),m.jsx("span",{className:"text-[10px] text-gray-400 block leading-tight",children:"arroba"})]}),m.jsxs("div",{className:"bg-gray-900 rounded p-2",children:[m.jsx("div",{className:"text-xl font-mono text-purple-400 mb-1",children:"."}),m.jsx("span",{className:"text-[10px] text-gray-400 block leading-tight",children:"punto"})]}),m.jsxs("div",{className:"bg-gray-900 rounded p-2",children:[m.jsx("div",{className:"text-xl font-mono text-purple-400 mb-1",children:"_"}),m.jsx("span",{className:"text-[10px] text-gray-400 block leading-tight",children:"guion bajo"})]}),m.jsxs("div",{className:"bg-gray-900 rounded p-2",children:[m.jsx("div",{className:"text-xl font-mono text-purple-400 mb-1",children:"-"}),m.jsx("span",{className:"text-[10px] text-gray-400 block leading-tight",children:"guion"})]})]}),m.jsxs("div",{className:"bg-gray-900 p-3 rounded text-center font-mono text-sm text-gray-300 break-all",children:["nombre",m.jsx("span",{className:"text-purple-400",children:"-"}),"apellido",m.jsx("span",{className:"text-purple-400",children:"@"}),"gmail",m.jsx("span",{className:"text-purple-400",children:"."}),"com"]})]})]})]})})},tR=()=>{const[r,e]=W.useState([]),[i,a]=W.useState(!0),[o,u]=W.useState(0),[f,p]=W.useState({}),[_,v]=W.useState(!1);if(W.useEffect(()=>{(async()=>{try{const Z=(await Vt(Ot(kt,"characters"))).docs.map(he=>he.data());e(Z.sort(()=>.5-Math.random()))}catch(J){console.error("Error fetching characters:",J)}finally{a(!1)}})()},[]),i||r.length===0)return m.jsx("div",{className:"p-10 text-center text-gray-400",children:"Cargando personajes..."});const E=()=>{p({}),o<r.length-1?u(o+1):v(!0)};if(_)return m.jsxs("div",{className:"text-center p-8 bg-gray-800 rounded-xl animate-fade-in",children:[m.jsx("h2",{className:"text-2xl font-bold text-green-400 mb-4",children:"Leccin Completada!"}),m.jsx("p",{className:"text-gray-300",children:"Has repasado todos los personajes."})]});const S=r[o],I=X=>p(J=>({...J,[X]:!J[X]})),F=[{id:"name",q:"Cmo se llama?",a:`Se llama ${S.firstName}.`,icon:m.jsx(jf,{size:18})},{id:"lastname",q:"Cmo se apellida?",a:`Se apellida ${S.lastName}.`,icon:m.jsx(jf,{size:18})},{id:"age",q:"Cuntos aos tiene?",a:`Tiene ${S.age} aos.`,icon:m.jsx(wE,{size:18})},{id:"origin",q:"De dnde es?",a:`Es de ${S.origin}.`,icon:m.jsx(u_,{size:18})},{id:"nat",q:"Cul es su nacionalidad?",a:`Es ${S.nationality}.`,icon:m.jsx(c_,{size:18})},{id:"lang",q:"Qu idioma habla?",a:`Habla ${S.language}.`,icon:m.jsx(h_,{size:18})}];return m.jsxs("div",{className:"flex flex-col h-full max-w-md mx-auto p-4 pt-0",children:[m.jsx("div",{className:"relative w-full aspect-video bg-gradient-to-br from-indigo-900 to-gray-900 rounded-2xl shadow-2xl border border-gray-700 mb-6 flex-shrink-0 flex items-center justify-center overflow-hidden",children:m.jsxs("div",{className:"text-center animate-fade-in",children:[m.jsx("div",{className:"text-6xl mb-2",children:S.flag}),m.jsxs("h2",{className:"text-3xl font-black text-white tracking-tight",children:[S.firstName," ",S.lastName]}),m.jsx("p",{className:"text-indigo-300 font-medium mt-1 uppercase tracking-widest text-sm",children:S.job})]},S.id||o)}),m.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 pb-24 scrollbar-hide",children:F.map(X=>m.jsxs("div",{className:"bg-gray-800 rounded-xl overflow-hidden border border-gray-700",children:[m.jsxs("button",{onClick:()=>I(X.id),className:"w-full flex items-center justify-between p-4 text-left active:bg-gray-700 transition-colors",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"text-pink-400",children:X.icon}),m.jsx("span",{className:"font-medium text-gray-200",children:X.q})]}),m.jsx(NE,{size:16,className:`text-gray-500 transition-transform ${f[X.id]?"rotate-180":""}`})]}),f[X.id]&&m.jsx("div",{className:"bg-gray-900/50 p-4 pt-0 border-t border-gray-700/50 text-indigo-300 font-semibold animate-in slide-in-from-top-2 duration-200",children:m.jsx("div",{className:"pt-3",children:X.a})})]},X.id))}),m.jsx("div",{className:"fixed bottom-6 left-0 right-0 px-6 max-w-md mx-auto",children:m.jsxs("button",{onClick:E,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-4 rounded-2xl shadow-lg shadow-indigo-900/50 flex items-center justify-center gap-2 active:scale-95 transition-all",children:[o===r.length-1?"Terminar Leccin":"Siguiente Personaje"," ",m.jsx(om,{size:20})]})})]})},nR=()=>{const[r,e]=W.useState("learn"),[i,a]=W.useState([]),[o,u]=W.useState([]),[f,p]=W.useState(!0);W.useEffect(()=>{(async()=>{try{const F=(await Vt(Ot(kt,"jobs"))).docs.map(Z=>Z.data());a(F);const J=(await Vt(Ot(kt,"places"))).docs.map(Z=>Z.data());u(J)}catch(I){console.error("Error fetching data:",I)}finally{p(!1)}})()},[]);const _=({job:S})=>{const[I,F]=W.useState(!1);return m.jsx("div",{className:"relative h-20 cursor-pointer perspective-1000 group",onClick:()=>F(!I),children:m.jsxs("div",{className:`w-full h-full relative preserve-3d flip-card-inner ${I?"rotate-y-180":""}`,children:[m.jsxs("div",{className:"absolute inset-0 bg-gray-800 p-4 rounded-xl border border-gray-700 flex items-center justify-between backface-hidden",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"text-3xl",children:S.emoji}),m.jsxs("div",{className:"font-bold text-white text-base capitalize",children:[S.masc," ",m.jsxs("span",{className:"text-gray-500 text-sm font-normal",children:["/ ",S.fem]})]})]}),m.jsx(om,{size:16,className:"text-gray-600"})]}),m.jsx("div",{className:"absolute inset-0 bg-teal-900/40 p-4 rounded-xl border border-teal-500 flex items-center justify-center backface-hidden rotate-y-180",children:m.jsx("span",{className:"font-bold text-teal-200 text-lg",children:S.eng})})]})})},v=({place:S})=>{const[I,F]=W.useState(!1);return m.jsx("div",{className:"relative h-16 cursor-pointer perspective-1000 group",onClick:()=>F(!I),children:m.jsxs("div",{className:`w-full h-full relative preserve-3d flip-card-inner ${I?"rotate-y-180":""}`,children:[m.jsx("div",{className:"absolute inset-0 bg-gray-800 p-3 rounded-lg border border-gray-700 text-sm font-medium text-center flex items-center justify-center backface-hidden",children:S.es}),m.jsx("div",{className:"absolute inset-0 bg-teal-900/40 p-3 rounded-lg border border-teal-500 text-sm font-medium text-center flex items-center justify-center backface-hidden rotate-y-180 text-teal-200",children:S.en})]})})},E=W.useMemo(()=>{if(i.length===0)return[];const S=[{type:"mc",q:"Alguien que apaga fuegos es un...",a:"Bombero",opts:["Bombero","Dentista","Doctor"].sort(()=>.5-Math.random()),exp:"Apagar fuegos = Bombero."}];return i.slice(0,5).forEach(I=>{S.push({type:"mc",q:`Trabaja como ${I.eng}. Es...`,a:I.masc,opts:[I.masc,...Zs(I,i,2,"masc")].sort(()=>.5-Math.random()),exp:`${I.masc} es la palabra para ${I.eng}`})}),S},[i]);return f?m.jsx("div",{className:"p-10 text-center text-gray-400",children:"Cargando datos..."}):r==="quiz"?m.jsx("div",{className:"p-6 max-w-md mx-auto pb-24",children:m.jsx(Ln,{pool:E,questionCount:10,onComplete:()=>e("learn")})}):m.jsx("div",{className:"flex flex-col h-full max-w-md mx-auto p-4 pt-0 pb-20 overflow-y-auto scrollbar-hide",children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-teal-900/20 border border-teal-500/30 p-4 rounded-2xl",children:[m.jsx("h3",{className:"font-bold text-teal-400 text-lg mb-2",children:"Estructura"}),m.jsxs("p",{className:"text-sm text-gray-300",children:["Yo soy ",m.jsx("b",{children:"un/una"})," [Profesin]."]}),m.jsxs("p",{className:"text-sm text-gray-300",children:["Yo trabajo en ",m.jsx("b",{children:"[Lugar]"}),"."]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("h3",{className:"font-bold text-white ml-1",children:"Profesiones"}),i.map((S,I)=>m.jsx(_,{job:S},I))]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("h3",{className:"font-bold text-white ml-1",children:"Lugares de Trabajo"}),m.jsx("div",{className:"grid grid-cols-2 gap-3",children:o.map((S,I)=>m.jsx(v,{place:S},I))})]}),m.jsx("button",{onClick:()=>e("quiz"),className:"w-full bg-teal-600 hover:bg-teal-500 text-white font-bold py-4 rounded-2xl shadow-lg",children:"Prueba"})]})})},iR=()=>{const[r,e]=W.useState("list"),[i,a]=W.useState([]),[o,u]=W.useState(!0);W.useEffect(()=>{(async()=>{try{const v=(await Vt(Ot(kt,"countries"))).docs.map(E=>E.data());v.sort((E,S)=>E.country.localeCompare(S.country)),a(v)}catch(_){console.error("Error fetching countries:",_)}finally{u(!1)}})()},[]);const f=W.useMemo(()=>i.length===0?[]:i.map(p=>({type:"mc",q:`Si alguien es de ${p.country}, es...`,a:p.natM,opts:[p.natM,...Zs(p,i,2,"natM")].sort(()=>.5-Math.random()),exp:`${p.natM} es la nacionalidad de ${p.country}`})).sort(()=>.5-Math.random()),[i]);return o?m.jsx("div",{className:"p-10 text-center text-gray-400",children:"Cargando pases..."}):r==="quiz"?m.jsx("div",{className:"p-6 max-w-md mx-auto pb-24",children:m.jsx(Ln,{pool:f,questionCount:10,onComplete:()=>e("list")})}):m.jsxs("div",{className:"flex flex-col h-full max-w-md mx-auto p-4 pt-8 pb-20 overflow-y-auto scrollbar-hide",children:[m.jsxs("div",{className:"flex gap-2 mb-6 p-1 bg-gray-800 rounded-xl",children:[m.jsx("button",{onClick:()=>e("list"),className:`flex-1 py-2 rounded-lg font-bold text-sm ${r==="list"?"bg-rose-600":""}`,children:"Lista"}),m.jsx("button",{onClick:()=>e("plural"),className:`flex-1 py-2 rounded-lg font-bold text-sm ${r==="plural"?"bg-rose-600":""}`,children:"Plural"}),m.jsx("button",{onClick:()=>e("quiz"),className:`flex-1 py-2 rounded-lg font-bold text-sm ${r==="quiz"?"bg-rose-600":""}`,children:"Prueba"})]}),r==="list"?m.jsx("div",{className:"space-y-3",children:i.map((p,_)=>m.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl border border-gray-700",children:[m.jsx("div",{className:"font-black text-lg text-white mb-2",children:p.country}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[m.jsxs("div",{children:[m.jsx("span",{className:"block text-gray-500 text-xs",children:"Masculino"}),m.jsx("span",{className:"text-rose-300",children:p.natM})]}),m.jsxs("div",{children:[m.jsx("span",{className:"block text-gray-500 text-xs",children:"Femenino"}),m.jsx("span",{className:"text-rose-300",children:p.natF})]})]})]},_))}):m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"bg-rose-900/20 border border-rose-500/30 p-4 rounded-2xl mb-4",children:[m.jsx("h3",{className:"font-bold text-rose-400 mb-2",children:"Reglas de Plural"}),m.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300",children:[m.jsxs("li",{children:["Vocal: +",m.jsx("b",{children:"s"})]}),m.jsxs("li",{children:["Consonante: +",m.jsx("b",{children:"es"})]})]})]}),i.map((p,_)=>m.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl border border-gray-700 space-y-2",children:[m.jsx("div",{className:"font-bold text-white border-b border-gray-700 pb-2 mb-2",children:p.country}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-gray-400",children:"Ellos son..."}),m.jsxs("span",{className:"text-rose-400 font-bold",children:[p.natM,"s"]})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-gray-400",children:"Ellas son..."}),m.jsxs("span",{className:"text-rose-400 font-bold",children:[p.natF,"s"]})]})]},_))]})]})},sR=({lessonId:r})=>{switch(r){case"feelings":return m.jsx(ZC,{});case"intro":return m.jsx(WC,{});case"interview":return m.jsx(eR,{});case"characters":return m.jsx(tR,{});case"jobs":return m.jsx(nR,{});case"nationalities":return m.jsx(iR,{});default:return m.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center p-6 border border-gray-800 rounded-xl bg-gray-900/50",children:[m.jsx("p",{className:"text-gray-400 mb-2",children:"Leccin situacional no encontrada"}),m.jsxs("code",{className:"bg-black px-2 py-1 rounded text-pink-400 text-xs font-mono",children:["ID: ",r]})]})}},rR=()=>{const[r,e]=W.useState("learn"),i=W.useMemo(()=>[{type:"mc",q:"Este es TU libro. (Informal)",a:"Tu libro",opts:["Tu libro","T libro","Te libro"].sort(()=>.5-Math.random()),exp:"'Tu' sin tilde es posesivo (Your)."},{type:"mc",q:"Cmo TE llamas? (Reflexivo)",a:"Te llamas",opts:["Te llamas","Tu llamas","Se llama"].sort(()=>.5-Math.random()),exp:"'Te' es el pronombre reflexivo para T."},{type:"mc",q:"l SE llama Juan.",a:"Se llama Juan",opts:["Su llama Juan","Se llama Juan","l llama Juan"].sort(()=>.5-Math.random()),exp:"'Se' es reflexivo para l/Ella."},{type:"mc",q:"Esta es SU casa. (De l)",a:"Su casa",opts:["Su casa","Se casa","l casa"].sort(()=>.5-Math.random()),exp:"'Su' es el posesivo para l/Ella."},{type:"mc",q:"NUESTRA casa.",a:"Nuestra casa",opts:["Nuestra casa","Nos casa","Nosotros casa"].sort(()=>.5-Math.random()),exp:"'Nuestra' es el posesivo femenino."}],[]);return r==="quiz"?m.jsx("div",{className:"p-6 max-w-md mx-auto pb-24",children:m.jsx(Ln,{pool:i,questionCount:10,onComplete:()=>e("learn")})}):m.jsxs("div",{className:"p-6 max-w-md mx-auto pb-24 space-y-6",children:[m.jsxs("div",{className:"bg-indigo-900/30 border border-indigo-500/30 p-4 rounded-2xl",children:[m.jsx("h3",{className:"font-bold text-indigo-300 mb-2 text-lg",children:"Gua Rpida"}),m.jsx("p",{className:"mb-4 text-sm text-gray-300",children:"Diferencias clave entre pronombres similares."}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"bg-gray-800 p-3 rounded-xl border border-gray-700",children:[m.jsx("h4",{className:"font-bold text-white border-b border-gray-600 pb-1 mb-2",children:"1. Personas (Sujeto)"}),m.jsxs("div",{className:"flex flex-col gap-1 text-xs text-center",children:[m.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[m.jsx("div",{className:"bg-gray-700 p-1 rounded",children:"Yo"}),m.jsx("div",{className:"bg-gray-700 p-1 rounded",children:"T"}),m.jsx("div",{className:"bg-gray-700 p-1 rounded",children:"l/Ella"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[m.jsx("div",{className:"bg-gray-700 p-1 rounded text-green-300 font-bold",children:"Nosotros"}),m.jsx("div",{className:"bg-gray-700 p-1 rounded",children:"Ellos"})]})]})]}),m.jsxs("div",{className:"bg-gray-800 p-3 rounded-xl border border-gray-700",children:[m.jsx("h4",{className:"font-bold text-pink-400 border-b border-gray-600 pb-1 mb-2",children:"2. Reflexivos (Accin a uno mismo)"}),m.jsxs("div",{className:"flex flex-col gap-1 text-xs text-center",children:[m.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[m.jsxs("div",{className:"bg-gray-900 p-1 rounded border border-pink-900",children:["Me",m.jsx("br",{}),m.jsx("span",{className:"text-[10px] text-gray-500",children:"Myself"})]}),m.jsxs("div",{className:"bg-gray-900 p-1 rounded border border-pink-900",children:["Te",m.jsx("br",{}),m.jsx("span",{className:"text-[10px] text-gray-500",children:"Yourself"})]}),m.jsxs("div",{className:"bg-gray-900 p-1 rounded border border-pink-900",children:["Se",m.jsx("br",{}),m.jsx("span",{className:"text-[10px] text-gray-500",children:"Himself"})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[m.jsxs("div",{className:"bg-gray-900 p-1 rounded border border-green-500/50 text-green-300 font-bold",children:["Nos",m.jsx("br",{}),m.jsx("span",{className:"text-[10px] text-gray-500",children:"Ourselves"})]}),m.jsxs("div",{className:"bg-gray-900 p-1 rounded border border-pink-900",children:["Se",m.jsx("br",{}),m.jsx("span",{className:"text-[10px] text-gray-500",children:"Themselves"})]})]})]}),m.jsx("div",{className:"mt-2 text-xs italic text-center text-gray-400",children:'Ej: "Nos llamamos" (We call ourselves)'})]}),m.jsxs("div",{className:"bg-gray-800 p-3 rounded-xl border border-gray-700",children:[m.jsx("h4",{className:"font-bold text-yellow-400 border-b border-gray-600 pb-1 mb-2",children:"3. Posesivos (Propiedad)"}),m.jsxs("div",{className:"flex flex-col gap-1 text-xs text-center",children:[m.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[m.jsxs("div",{className:"bg-gray-900 p-1 rounded border border-yellow-900",children:["Mi",m.jsx("br",{}),m.jsx("span",{className:"text-[10px] text-gray-500",children:"My"})]}),m.jsxs("div",{className:"bg-gray-900 p-1 rounded border border-yellow-900",children:["Tu",m.jsx("br",{}),m.jsx("span",{className:"text-[10px] text-gray-500",children:"Your"})]}),m.jsxs("div",{className:"bg-gray-900 p-1 rounded border border-yellow-900",children:["Su",m.jsx("br",{}),m.jsx("span",{className:"text-[10px] text-gray-500",children:"His/Her"})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[m.jsxs("div",{className:"bg-gray-900 p-1 rounded border border-green-500/50 text-green-300 font-bold",children:["Nuestro",m.jsx("br",{}),m.jsx("span",{className:"text-[10px] text-gray-500",children:"Our"})]}),m.jsxs("div",{className:"bg-gray-900 p-1 rounded border border-yellow-900",children:["Su",m.jsx("br",{}),m.jsx("span",{className:"text-[10px] text-gray-500",children:"Their"})]})]})]}),m.jsx("div",{className:"mt-2 text-xs italic text-center text-gray-400",children:'Ej: "Nuestro gato" (Our cat)'})]})]})]}),m.jsx("button",{onClick:()=>e("quiz"),className:"w-full bg-indigo-600 text-white font-bold py-4 rounded-2xl shadow-lg",children:"Prueba"})]})},aR=()=>{const[r,e]=W.useState("list"),[i,a]=W.useState(null),[o,u]=W.useState([]),[f,p]=W.useState(!0);W.useEffect(()=>{(async()=>{try{const S=(await Vt(Ot(kt,"conjugations"))).docs.map(I=>I.data());S.sort((I,F)=>I.v.localeCompare(F.v)),u(S)}catch(E){console.error("Error fetching conjugations:",E)}finally{p(!1)}})()},[]);const _=W.useMemo(()=>{if(o.length===0)return[];const v=[{type:"mc",q:"Yo ___ (Ser)",a:"Soy",opts:["Soy","Eres","Es"].sort(()=>.5-Math.random()),exp:"Yo soy."},{type:"mc",q:"T ___ (Tener)",a:"Tienes",opts:["Tengo","Tienes","Tiene"].sort(()=>.5-Math.random()),exp:"T tienes."}];return o.slice(0,5).forEach(E=>{E.c&&E.c.length>=3&&v.push({type:"mc",q:`Ella ___ (${E.v})`,a:E.c[2],opts:[E.c[0],E.c[1],E.c[2]].sort(()=>.5-Math.random()),exp:`Ella ${E.c[2]}.`})}),v.sort(()=>.5-Math.random())},[o]);return f?m.jsx("div",{className:"p-10 text-center text-gray-400",children:"Cargando verbos..."}):r==="quiz"?m.jsx("div",{className:"p-6 max-w-md mx-auto pb-24",children:m.jsx(Ln,{pool:_,questionCount:10,onComplete:()=>e("list")})}):i?m.jsxs("div",{className:"p-6 max-w-md mx-auto pb-24 space-y-4",children:[m.jsxs("button",{onClick:()=>a(null),className:"flex items-center gap-2 text-cyan-400 mb-2",children:[m.jsx(lm,{size:20})," Volver"]}),m.jsxs("h2",{className:"text-2xl font-bold text-white",children:[i.v," ",m.jsxs("span",{className:"text-gray-500 text-lg",children:["(",i.t,")"]})]}),m.jsx("div",{className:"bg-gray-800 rounded-xl overflow-hidden border border-gray-700",children:m.jsx("div",{className:"divide-y divide-gray-700",children:["Yo","T","l/Ella","Nosotros","Ellos"].map((v,E)=>m.jsxs("div",{className:"grid grid-cols-2 p-3 text-sm",children:[m.jsx("span",{className:"text-cyan-200",children:v}),m.jsx("span",{className:"font-bold",children:i.c&&i.c[E]})]},E))})})]}):m.jsxs("div",{className:"p-6 max-w-md mx-auto pb-24 space-y-4",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Verbos"}),m.jsx("div",{className:"grid grid-cols-1 gap-3",children:o.map((v,E)=>m.jsxs("button",{onClick:()=>a(v),className:"bg-gray-800 p-4 rounded-xl border border-gray-700 flex justify-between items-center text-left hover:bg-gray-700",children:[m.jsxs("div",{children:[m.jsx("span",{className:"block font-bold text-lg text-white",children:v.v}),m.jsx("span",{className:"text-xs text-gray-400",children:v.t})]}),m.jsx(om,{size:20,className:"text-gray-600"})]},E))}),m.jsx("button",{onClick:()=>e("quiz"),className:"w-full bg-cyan-600 text-white font-bold py-4 rounded-2xl shadow-lg mt-4",children:"Prueba"})]})},lR=()=>{const[r,e]=W.useState("learn"),i=W.useMemo(()=>[{type:"mc",q:"Para hablar de la hora, usamos...",a:"Ser",opts:["Ser","Estar","Tener"].sort(()=>.5-Math.random()),exp:"La hora es permanente/esencia (Son las 2)."},{type:"mc",q:"Para hablar de ubicacin, usamos...",a:"Estar",opts:["Ser","Estar","Tener"].sort(()=>.5-Math.random()),exp:"Ubicacin = Estar (No matter how permanent)."},{type:"mc",q:"Para decir la edad, usamos...",a:"Tener",opts:["Ser","Estar","Tener"].sort(()=>.5-Math.random()),exp:"En espaol, 'tienes' aos."},{type:"mc",q:"Yo ___ feliz hoy (emocin).",a:"Estoy",opts:["Soy","Estoy","Tengo"].sort(()=>.5-Math.random()),exp:"Emocin temporal = Estar."},{type:"mc",q:"Nosotros ___ altos (descripcin).",a:"Somos",opts:["Somos","Estamos","Tenemos"].sort(()=>.5-Math.random()),exp:"Descripcin fsica = Ser."}],[]);return r==="quiz"?m.jsx("div",{className:"p-6 max-w-md mx-auto pb-24",children:m.jsx(Ln,{pool:i,questionCount:5,onComplete:()=>e("learn")})}):m.jsxs("div",{className:"p-6 max-w-md mx-auto pb-24 space-y-6",children:[m.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl border-l-4 border-blue-500",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsx("h3",{className:"font-bold text-blue-400 text-xl",children:"SER"}),m.jsx("span",{className:"text-xs bg-blue-900 text-blue-200 px-2 py-1 rounded",children:"Permanente"})]}),m.jsx("p",{className:"text-sm text-gray-300 mb-2 italic",children:'"To be" (Esencia)'}),m.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[m.jsxs("div",{className:"bg-gray-900 p-2 rounded border border-gray-700",children:[m.jsx("span",{className:"text-blue-300 font-bold",children:"D"}),"escription"]}),m.jsxs("div",{className:"bg-gray-900 p-2 rounded border border-gray-700",children:[m.jsx("span",{className:"text-blue-300 font-bold",children:"O"}),"ccupation"]}),m.jsxs("div",{className:"bg-gray-900 p-2 rounded border border-gray-700",children:[m.jsx("span",{className:"text-blue-300 font-bold",children:"C"}),"haracteristic"]}),m.jsxs("div",{className:"bg-gray-900 p-2 rounded border border-gray-700",children:[m.jsx("span",{className:"text-blue-300 font-bold",children:"T"}),"ime/Date"]}),m.jsxs("div",{className:"bg-gray-900 p-2 rounded border border-gray-700",children:[m.jsx("span",{className:"text-blue-300 font-bold",children:"O"}),"rigin"]}),m.jsxs("div",{className:"bg-gray-900 p-2 rounded border border-gray-700",children:[m.jsx("span",{className:"text-blue-300 font-bold",children:"R"}),"elationship"]})]}),m.jsx("p",{className:"mt-3 text-xs text-center text-gray-400",children:'Ej: "Soy alto", "Son las dos".'})]}),m.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl border-l-4 border-orange-500",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsx("h3",{className:"font-bold text-orange-400 text-xl",children:"ESTAR"}),m.jsx("span",{className:"text-xs bg-orange-900 text-orange-200 px-2 py-1 rounded",children:"Temporal"})]}),m.jsx("p",{className:"text-sm text-gray-300 mb-2 italic",children:'"To be" (Estado)'}),m.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[m.jsxs("div",{className:"bg-gray-900 p-2 rounded border border-gray-700",children:[m.jsx("span",{className:"text-orange-300 font-bold",children:"P"}),"osition"]}),m.jsxs("div",{className:"bg-gray-900 p-2 rounded border border-gray-700",children:[m.jsx("span",{className:"text-orange-300 font-bold",children:"L"}),"ocation"]}),m.jsxs("div",{className:"bg-gray-900 p-2 rounded border border-gray-700",children:[m.jsx("span",{className:"text-orange-300 font-bold",children:"A"}),"ction (-ing)"]}),m.jsxs("div",{className:"bg-gray-900 p-2 rounded border border-gray-700",children:[m.jsx("span",{className:"text-orange-300 font-bold",children:"C"}),"ondition"]}),m.jsxs("div",{className:"bg-gray-900 p-2 rounded border border-gray-700",children:[m.jsx("span",{className:"text-orange-300 font-bold",children:"E"}),"motion"]})]}),m.jsx("p",{className:"mt-3 text-xs text-center text-gray-400",children:'Ej: "Estoy triste", "Est en Madrid".'})]}),m.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl border-l-4 border-green-500",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsx("h3",{className:"font-bold text-green-400 text-xl",children:"TENER"}),m.jsx("span",{className:"text-xs bg-green-900 text-green-200 px-2 py-1 rounded",children:"Posesin"})]}),m.jsx("p",{className:"text-sm text-gray-300 mb-2 italic",children:'"To have" (Usado en modismos)'}),m.jsxs("ul",{className:"text-sm space-y-1 list-disc list-inside text-gray-300",children:[m.jsx("li",{children:'Edad ("Tengo 20 aos")'}),m.jsx("li",{children:'Hambre / Sed ("Tengo hambre")'}),m.jsx("li",{children:'Calor / Fro ("Tengo calor")'}),m.jsx("li",{children:"Miedo / Sueo"})]})]}),m.jsx("button",{onClick:()=>e("quiz"),className:"w-full bg-emerald-600 text-white font-bold py-4 rounded-2xl shadow-lg mt-4",children:"Prueba de Verbos"})]})},oR=({lessonId:r})=>{switch(r){case"pronouns":return m.jsx(rR,{});case"conjugations":return m.jsx(aR,{});case"verbs":return m.jsx(lR,{});default:return m.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center p-6 border border-gray-800 rounded-xl bg-gray-900/50",children:[m.jsx("p",{className:"text-gray-400 mb-2",children:"Leccin de gramtica no encontrada"}),m.jsxs("code",{className:"bg-black px-2 py-1 rounded text-pink-400 text-xs font-mono",children:["ID: ",r]})]})}};function cR(){const[r,e]=W.useState("dashboard");W.useEffect(()=>{window.scrollTo(0,0)},[r]);const i=({children:o})=>m.jsx("div",{className:"min-h-screen bg-[#111827] p-6",children:o}),a=()=>{switch(r){case"admin":return m.jsx(NC,{onBack:()=>e("dashboard")});case"vocales":case"alphabet":case"numbers":case"colors":case"weather":case"calendar":return m.jsx(i,{children:m.jsx(JC,{lessonId:r})});case"feelings":case"intro":case"interview":case"characters":case"jobs":case"nationalities":return m.jsx(i,{children:m.jsx(sR,{lessonId:r})});case"pronouns":case"conjugations":case"verbs":return m.jsx(i,{children:m.jsx(oR,{lessonId:r})});case"vocabmix":return m.jsx(CC,{onComplete:()=>e("dashboard")});case"finalquiz":return m.jsx(RC,{onComplete:()=>e("dashboard")});default:return m.jsx(wC,{onSelectLesson:e})}};return m.jsxs("div",{className:"min-h-screen bg-gray-900 text-white font-sans antialiased",children:[r!=="admin"&&m.jsx("div",{className:"sticky top-0 z-50 bg-gray-900/90 backdrop-blur-md border-b border-gray-800 p-4 flex items-center justify-between",children:r!=="dashboard"?m.jsxs("button",{onClick:()=>e("dashboard"),className:"flex items-center gap-2 text-indigo-400 font-bold",children:[m.jsx(lm,{size:20})," Men"]}):m.jsxs("div",{className:"text-xl font-black text-indigo-500 tracking-tighter",children:["NOTAS",m.jsx("span",{className:"text-pink-500",children:".APP"})]})}),m.jsx("div",{className:"p-6",children:a()})]})}yE.createRoot(document.getElementById("root")).render(m.jsx(W.StrictMode,{children:m.jsx(cR,{})}));
